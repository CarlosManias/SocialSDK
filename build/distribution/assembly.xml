<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
  <id>beta</id>
  <formats>
    <format>zip</format>
	<format>tar.gz</format>
  </formats>
  <baseDirectory>target</baseDirectory>
  <includeBaseDirectory>false</includeBaseDirectory>
  <moduleSets>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sdk:com.ibm.commons</include>
        <include>com.ibm.sbt.sdk:com.ibm.commons.runtime</include>
        <include>com.ibm.sbt.sdk:com.ibm.commons.xml</include>
        <include>com.ibm.sbt.sdk:com.ibm.sbt.core</include>
        <include>com.ibm.sbt.sdk:com.ibm.sbt.playground</include>
        <include>com.ibm.sbt.sdk:com.ibm.sbt.was</include>
        <include>com.ibm.sbt.sdk:com.ibm.sbt.web</include>
      </includes>
      <binaries>
        <outputDirectory>sbtsdk/redist/jar</outputDirectory>
        <unpack>false</unpack>
      </binaries>
	  <!-- TODO find out why this doesn't work
	  <sources>
		<outputDirectory>redist/source</outputDirectory>
	  </sources>
	  -->
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sdk:sbt.dojo180</include>
		<!--
        <include>com.ibm.sbt.sdk:sbt.jquery182</include>
        <include>com.ibm.sbt.sdk:sbt.oneui303</include>
		-->
	  </includes>
      <binaries>
        <outputDirectory>sbtsdk/redist/war</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sample:sbt.sample</include>
	  </includes>
      <binaries>
        <outputDirectory>sbtsdk/samples/ear</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sample:sbt.sample.portlets</include>
	  </includes>
      <binaries>
        <outputDirectory>sbtsdk/samples/ear</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sample:sbt.sample.web</include>
	  </includes>
      <binaries>
        <outputDirectory>sbtsdk/samples/war</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sample:acme.social.sample</include>
	  </includes>
      <binaries>
        <outputDirectory>sbtsdk/samples/ear</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sample:acme.social.sample.dataapp</include>
	  </includes>
      <binaries>
        <outputDirectory>sbtsdk/samples/war</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sample:acme.social.sample.webapp</include>
	  </includes>
      <binaries>
        <outputDirectory>sbtsdk/samples/war</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>  
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>com.ibm.sbt.sample:acme.sample.webapp</include>
    </includes>
      <binaries>
        <outputDirectory>sbtsdk/samples/war</outputDirectory>
        <outputFileNameMapping>${module.artifactId}.${module.extension}</outputFileNameMapping>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
  </moduleSets>
  <fileSets>
    <!-- workaround for the sbt module issue were the packaged war contains provided jars -->
    <fileSet>
      <directory>../../target/com.ibm.sbt.sdk/sbt</directory>
      <outputDirectory>sbtsdk/redist/war</outputDirectory>
      <includes>
        <include>sbt.war</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../target/doc/javadoc</directory>
      <outputDirectory>sbtsdk/doc/javadoc</outputDirectory>
      <includes>
        <include>**/*.*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../target/doc/jsdoc</directory>
      <outputDirectory>sbtsdk/doc/jsdoc</outputDirectory>
      <includes>
        <include>**/*.*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../target/doc</directory>
      <outputDirectory>sbtsdk</outputDirectory>
      <includes>
        <include>version.txt</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../target/tomcat</directory>
      <outputDirectory>sbtsdk/tomcat</outputDirectory>
      <includes>
        <include>**/apache-tomcat-7.0.30-sbt.zip</include>
        <include>**/*.xml</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../java/config</directory>
      <outputDirectory>sbtsdk/config</outputDirectory>
      <includes>
        <include>*.xml</include>
        <include>*.properties</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../license</directory>
      <outputDirectory>sbtsdk</outputDirectory>
      <includes>
        <include>*.*</include>
        <include>*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../documentation/html</directory>
      <outputDirectory>sbtsdk/doc</outputDirectory>
      <includes>
        <include>*.*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../documentation/txt</directory>
      <outputDirectory>sbtsdk</outputDirectory>
      <includes>
        <include>README.txt</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../java/sdk/eclipse/plugins</directory>
      <outputDirectory>sbtsdk/source</outputDirectory>
	  <excludes>
	    <exclude>com.ibm.sbt.jquery182/</exclude>
	    <exclude>com.ibm.sbt.oneui303/</exclude>
	    <exclude>com.ibm.sbt.was/</exclude>
		<exclude>**/bin/</exclude>
		<exclude>**/pom.xml</exclude>
		<exclude>**/.jazzignore</exclude>
		<exclude>**/.apt_generated</exclude>
		<exclude>**/.factorypath</exclude>
	  </excludes>
      <includes>
        <include>**/*.*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../java/sample/eclipse/plugins</directory>
      <outputDirectory>sbtsdk/source</outputDirectory>
	  <excludes>
		<exclude>**/bin/</exclude>
		<exclude>**/pom.xml</exclude>
		<exclude>**/.jazzignore</exclude>
		<exclude>**/.apt_generated</exclude>
		<exclude>**/.factorypath</exclude>
	  </excludes>
      <includes>
        <include>**/*.*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../java/prereq/eclipse/plugins</directory>
      <outputDirectory>sbtsdk/source</outputDirectory>
	  <excludes>
		<exclude>com.ibm.sbt.libs.was/</exclude>
		<exclude>com.ibm.sbt.libs.j2ee.tomcat/</exclude>
		<exclude>**/bin/</exclude>
		<exclude>**/pom.xml</exclude>
		<exclude>**/.jazzignore</exclude>
		<exclude>**/.apt_generated</exclude>
		<exclude>**/.factorypath</exclude>
	  </excludes>
      <includes>
        <include>**/*.*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../../java/playground</directory>
      <outputDirectory>sbtsdk/redist/domino</outputDirectory>
      <includes>
        <include>*.*</include>
      </includes>
    </fileSet>
    <fileSet>
	  <directory>../../target/com.ibm.sbt.domino/com.ibm.sbt.domino.updatesite</directory>
      <outputDirectory>sbtsdk/redist/domino</outputDirectory>
      <includes>
        <include>com.ibm.sbt.domino.updatesite.zip</include>
      </includes>
    </fileSet>
	<!--
    <fileSet>
      <directory>../../java/test/eclipse/plugins</directory>
      <outputDirectory>sbtsdk/source</outputDirectory>
	  <excludes>
	    <exclude>com.ibm.sbt.jasmine.web/</exclude>
		<exclude>**/bin/</exclude>
		<exclude>**/pom.xml</exclude>
		<exclude>**/.jazzignore</exclude>
		<exclude>**/.apt_generated</exclude>
		<exclude>**/.factorypath</exclude>
	  </excludes>
      <includes>
        <include>**/*.*</include>
      </includes>
    </fileSet>
	-->
  </fileSets>
</assembly>