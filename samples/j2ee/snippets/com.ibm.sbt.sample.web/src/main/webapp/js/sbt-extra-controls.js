//>>built
require({cache:{"sbt/control-main":function(){define("sbt/widget/_TemplatedWidget,sbt/connections/controls/ConnectionsGridRenderer,sbt/connections/controls/ViewAllAction,sbt/connections/controls/WidgetWrapper,sbt/connections/controls/_ConnectionsWidget,sbt/controls/grid/Grid,sbt/controls/grid/GridAction,sbt/controls/grid/GridRenderer,sbt/controls/grid/ViewProfileAction,sbt/controls/panel/_ProfilePanel,sbt/smartcloud/controls/BaseGridRenderer,sbt/widget/grid/_Grid,sbt/widget/grid/_GridRenderer,sbt/connections/controls/activities/ActivityAction,sbt/connections/controls/activities/ActivityGrid,sbt/connections/controls/activities/ActivityGridRenderer,sbt/connections/controls/astream/ActivityStreamWrapper,sbt/connections/controls/astream/_ActivityStream,sbt/connections/controls/astream/_SbtAsConfigUtil,sbt/connections/controls/astream/_XhrHandler,sbt/connections/controls/bookmarks/BookmarkGrid,sbt/connections/controls/bookmarks/BookmarkGridRenderer,sbt/connections/controls/bootstrap/CommunityRendererMixin,sbt/connections/controls/bootstrap/FileRendererMixin,sbt/connections/controls/bootstrap/ProfileRendererMixin,sbt/connections/controls/communities/CommunityAction,sbt/connections/controls/communities/CommunityGrid,sbt/connections/controls/communities/CommunityGridRenderer,sbt/connections/controls/communities/CommunityMembersAction,sbt/connections/controls/communities/CommunityMembersGrid,sbt/connections/controls/communities/CommunityMembersGridRenderer,sbt/connections/controls/files/FileAction,sbt/connections/controls/files/FileGrid,sbt/connections/controls/files/FileGridRenderer,sbt/connections/controls/forums/BackAction,sbt/connections/controls/forums/ForumAction,sbt/connections/controls/forums/ForumGrid,sbt/connections/controls/forums/ForumGridRenderer,sbt/connections/controls/nls/ConnectionsGridRenderer,sbt/connections/controls/nls/WidgetWrapper,sbt/connections/controls/profiles/ColleagueGrid,sbt/connections/controls/profiles/ColleagueGridRenderer,./connections/controls/profiles/EditProfilePhoto.html,sbt/connections/controls/profiles/ProfileAction,sbt/connections/controls/profiles/ProfileGrid,sbt/connections/controls/profiles/ProfileGridRenderer,sbt/connections/controls/profiles/ProfilePanel,sbt/connections/controls/profiles/ProfileTagAction,sbt/connections/controls/profiles/ProfileTagsGrid,sbt/connections/controls/profiles/ProfileTagsGridRenderer,sbt/connections/controls/search/SearchBox,sbt/connections/controls/search/SearchBoxRenderer,sbt/connections/controls/search/SearchGrid,sbt/connections/controls/search/SearchGridRenderer,sbt/connections/controls/sharebox/InputFormWrapper,sbt/connections/controls/sharebox/_InputForm,sbt/connections/controls/templates/FileGridWrapperContent.html,sbt/connections/controls/templates/LoadingPage.html,sbt/connections/controls/templates/ProfileCardWrapperContent.html,sbt/connections/controls/templates/WidgetFrame.html,sbt/connections/controls/vcard/CommunityVCard,sbt/connections/controls/vcard/ProfileVCard,sbt/connections/controls/vcard/ProfileVCardInline,sbt/connections/controls/vcard/SemanticTagService,sbt/connections/controls/wrappers/FileGridWrapper,sbt/connections/controls/wrappers/ProfileCardWrapper,sbt/controls/grid/bootstrap/GridRendererMixin,sbt/controls/grid/templates/Grid.html,sbt/controls/grid/templates/GridFooter.html,sbt/controls/grid/templates/GridPager.html,sbt/controls/grid/templates/GridSorter.html,sbt/controls/grid/templates/SortAnchor.html,sbt/smartcloud/controls/nls/BaseGridRenderer,sbt/smartcloud/controls/profiles/ColleagueGrid,sbt/smartcloud/controls/profiles/ColleagueGridRenderer,sbt/smartcloud/controls/profiles/ProfileAction,sbt/smartcloud/controls/profiles/ProfileGrid,sbt/smartcloud/controls/profiles/ProfileGridRenderer,sbt/smartcloud/controls/profiles/ProfilePanel,sbt/connections/controls/activities/nls/ActivityGridRenderer,sbt/connections/controls/activities/templates/ActivityRow.html,sbt/connections/controls/astream/templates/ActivityStreamContent.html,sbt/connections/controls/bookmarks/nls/BookmarkGridRenderer,sbt/connections/controls/bookmarks/templates/BookmarkRow.html,sbt/connections/controls/bookmarks/templates/TagAnchor.html,sbt/connections/controls/bootstrap/templates/CommunityRow.html,sbt/connections/controls/bootstrap/templates/FileRow.html,sbt/connections/controls/bootstrap/templates/ProfileRow.html,sbt/connections/controls/bootstrap/templates/TagAnchor.html,sbt/connections/controls/communities/nls/CommunityGridRenderer,sbt/connections/controls/communities/nls/CommunityMembersGridRenderer,sbt/connections/controls/communities/templates/CommunityMemberRow.html,sbt/connections/controls/communities/templates/CommunityRow.html,sbt/connections/controls/communities/templates/TagAnchor.html,sbt/connections/controls/files/nls/FileGridRenderer,sbt/connections/controls/files/templates/CommentRow.html,sbt/connections/controls/files/templates/FileRow.html,sbt/connections/controls/files/templates/FolderRow.html,sbt/connections/controls/files/templates/RecycledFileRow.html,sbt/connections/controls/forums/nls/ForumGridRenderer,sbt/connections/controls/forums/templates/ForumRow.html,sbt/connections/controls/forums/templates/MyTopicsBreadCrumb.html,sbt/connections/controls/forums/templates/ReplyBreadCrumb.html,sbt/connections/controls/forums/templates/ReplyHeader.html,sbt/connections/controls/forums/templates/ReplyRow.html,sbt/connections/controls/forums/templates/TableHeader.html,sbt/connections/controls/forums/templates/TopicBreadCrumb.html,sbt/connections/controls/forums/templates/TopicHeader.html,sbt/connections/controls/forums/templates/TopicRow.html,sbt/connections/controls/profiles/nls/ColleagueGridRenderer,sbt/connections/controls/profiles/nls/ProfileGridRenderer,sbt/connections/controls/profiles/nls/ProfileTagsGridRenderer,sbt/connections/controls/profiles/templates/ColleagueItem.html,sbt/connections/controls/profiles/templates/ColleagueItemFull.html,sbt/connections/controls/profiles/templates/ColleagueRow.html,sbt/connections/controls/profiles/templates/CommunityMemberRow.html,sbt/connections/controls/profiles/templates/ProfilePanel.html,sbt/connections/controls/profiles/templates/ProfileRow.html,sbt/connections/controls/profiles/templates/SharedConnectionsRow.html,sbt/connections/controls/profiles/templates/StatusUpdateRow.html,sbt/connections/controls/profiles/templates/TagListHeader.html,sbt/connections/controls/profiles/templates/TagListRow.html,sbt/connections/controls/profiles/templates/ViewAll.html,sbt/connections/controls/search/nls/SearchBoxRenderer,sbt/connections/controls/search/nls/SearchGridRenderer,sbt/connections/controls/search/templates/BookmarkBody.html,sbt/connections/controls/search/templates/CalendarBody.html,sbt/connections/controls/search/templates/CommunityBody.html,sbt/connections/controls/search/templates/DefaultBody.html,sbt/connections/controls/search/templates/DefaultHeader.html,sbt/connections/controls/search/templates/DefaultSummary.html,sbt/connections/controls/search/templates/MemberListItemTemplate.html,sbt/connections/controls/search/templates/MemberListTemplate.html,sbt/connections/controls/search/templates/NoResults.html,sbt/connections/controls/search/templates/PersonCard.html,sbt/connections/controls/search/templates/PopUpTemplate.html,sbt/connections/controls/search/templates/ProfileBody.html,sbt/connections/controls/search/templates/ProfileHeader.html,sbt/connections/controls/search/templates/SearchBoxTemplate.html,sbt/connections/controls/search/templates/SearchSuggestTemplate.html,sbt/connections/controls/search/templates/SingleApplicationSearch.html,sbt/connections/controls/search/templates/SingleSearchPopUp.html,sbt/connections/controls/search/templates/StatusUpdateExtraHeader.html,sbt/connections/controls/search/templates/StatusUpdateHeader.html,sbt/connections/controls/search/templates/SuggestPopUpTemplate.html,sbt/connections/controls/search/templates/a.html,sbt/connections/controls/search/templates/div.html,sbt/connections/controls/search/templates/em.html,sbt/connections/controls/search/templates/img.html,sbt/connections/controls/search/templates/li.html,sbt/connections/controls/search/templates/span.html,sbt/connections/controls/search/templates/td.html,sbt/connections/controls/search/templates/tr.html,sbt/connections/controls/search/templates/ul.html,sbt/connections/controls/sharebox/templates/InputFormContent.html,sbt/connections/controls/vcard/templates/CommunityVCard.html,sbt/connections/controls/vcard/templates/ProfileVCard.html,sbt/connections/controls/vcard/templates/ProfileVCardInline.html,sbt/controls/grid/bootstrap/templates/GridPager.html,sbt/controls/grid/bootstrap/templates/GridSorter.html,sbt/controls/grid/bootstrap/templates/SortAnchor.html,sbt/smartcloud/controls/profiles/nls/ColleagueGridRenderer,sbt/smartcloud/controls/profiles/nls/ProfileGridRenderer,sbt/smartcloud/controls/profiles/templates/ColleagueItem.html,sbt/smartcloud/controls/profiles/templates/ColleagueItemFull.html,sbt/smartcloud/controls/profiles/templates/ProfilePanel.html,sbt/smartcloud/controls/profiles/templates/ProfileRow.html,sbt/smartcloud/controls/profiles/templates/ViewAll.html".split(","),
function(){})},"sbt/widget/_TemplatedWidget":function(){define("../_bridge/declare,dojo/_base/lang,dojo/string,dojo/dom-construct,dojo/_base/connect,dojo/touch,dijit/_WidgetBase,dijit/_TemplatedMixin".split(","),function(i,f,c,h,b,a){return i([dijit._WidgetBase,dijit._TemplatedMixin],{_blankGif:dijit._WidgetBase.prototype._blankGif,_place:function(a,b,e){h.place(a,b,e)},_stopEvent:function(a){dojo.stopEvent(a)},_connect:function(d,g,e){return b.connect(d,a[g]||g,e)},_mixin:function(a,b){return f.mixin.apply(this,
arguments)},_destroy:function(a){h.destroy(a)},_create:function(a,b,e){return h.create(a,b,e)},_toDom:function(a,b){return h.toDom(a,b)},_isString:function(a){return f.isString(a)},_substitute:function(a,b,e,j){return c.substitute(a,b,e,j)},_getObject:function(a,b,e){return f.getObject(a,b,e)},_hitch:function(a,b){return 2<arguments.length?f._hitchArgs.apply(dojo,arguments):f.hitch(a,b)},_doAttachPoints:function(a,b){var e=b.all||b.getElementsByTagName("*"),j;for(j in e)if(e[j].getAttribute&&e[j].getAttribute("data-dojo-attach-point")){var k=
e[j].getAttribute("data-dojo-attach-point");a[k]=b}},_doAttachEvents:function(a,b){var e=a.all||a.getElementsByTagName("*"),j;for(j in e){var k=e[j].getAttribute?e[j].getAttribute(this.AttachEventAttribute):null;if(k){e[j].removeAttribute(this.AttachEventAttribute);for(var c=k.split(/\s*,\s*/);k=c.shift();)if(k){var h=null;-1!=k.indexOf(":")?(h=k.split(":"),k=this._trim(h[0]),h=this._trim(h[1])):k=this._trim(k);h||(h=k);h=this._hitch(this,this[h],e[j],b);this._connect(e[j],k,h)}}}}})})},"sbt/_bridge/declare":function(){define(["dojo/_base/declare"],
function(i){return i})},"sbt/connections/controls/ConnectionsGridRenderer":function(){define("../../declare,../../controls/grid/GridRenderer,../../text!../../controls/grid/templates/GridPager.html,../../text!../../controls/grid/templates/GridSorter.html,../../text!../../controls/grid/templates/SortAnchor.html,../../i18n!./nls/ConnectionsGridRenderer,../../text!../../controls/grid/templates/GridFooter.html".split(","),function(i,f,c,h,b,a,d){return i(f,{nls:{},tableClass:"lotusTable",emptyClass:"lconnEmpty",
errorClass:"lconnEmpty",loadingClass:"",loadingImgClass:"lotusLoading",firstClass:"lotusFirst",defaultSortClass:"lotusActiveSort lotusDescending",ascendingSortClass:"lotusActiveSort lotusAscending",descendingSortClass:"lotusActiveSort lotusDescending",pagerTemplate:c,footerTemplate:d,sortTemplate:h,sortAnchor:b,constructor:function(d){this._mixin(this,d);this.nls=this._mixin(a,this._nls)}})})},"sbt/declare":function(){define(["./_bridge/declare"],function(i){return i})},"sbt/controls/grid/GridRenderer":function(){define(["../../declare",
"../../dom","../../lang","../../widget/grid/_GridRenderer"],function(i,f,c,h){return i([h],{nls:null,tableClass:null,emptyClass:null,errorClass:null,loadingClass:null,loadingImgClass:null,constructor:function(b){c.mixin(this,b)},render:function(b,a,d,g){for(;a.childNodes[0];)this._destroy(a.childNodes[0]);if(0===d.length)this.renderEmpty(b,a);else{this.renderPager(b,a,d,g);this.renderSorter(b,a,g);for(var e=this.renderTable(b,a,d,g),j=0;j<d.length;j++)this.renderItem(b,e,g,d[j],j,d);this.renderFooter(b,
a,d,g)}},renderPager:function(b,a,d,g){this.pagerTemplate&&!b.hidePager&&(d=this._isString(this.pagerTemplate)?this._toDom(this._substituteItems(this.pagerTemplate,b,this,d,g),a.ownerDocument):this.pagerTemplate.cloneNode(!0),a.appendChild(d),this._doAttachEvents(b,a,g))},renderFooter:function(b,a,d,g){this.footerTemplate&&!b.hidePager&&(d=this._isString(this.footerTemplate)?this._toDom(this._substituteItems(this.footerTemplate,b,this,d,g),a.ownerDocument):this.footerTemplate.cloneNode(!0),a.appendChild(d),
this._doAttachEvents(b,a,g))},renderSorter:function(b,a,d){if(this.sortTemplate&&!b.hideSorter){var g=b.getSortInfo();g&&(g=this._isString(this.sortTemplate)?this._toDom(this._substituteItems(this.sortTemplate,b,this,g),a.ownerDocument):this.sortTemplate.cloneNode(!0),a.appendChild(g),this._doAttachEvents(b,a,d))}},renderTable:function(b,a){return this._create("tbody",null,this._create("table",{"class":this.tableClass,border:"0",cellspacing:"0",cellpadding:"0",role:"presentation"},a))},renderLoading:function(b,
a){this._create("img",{"class":this.loadingImgClass,src:this._blankGif,role:"presentation"},this._create("div",{"class":this.loadingClass,innerHTML:this.nls.loading},a,"only"),"first")},renderEmpty:function(b,a){for(;a.childNodes[0];)this._destroy(a.childNodes[0]);this._create("div",{"class":this.emptyClass,innerHTML:this.nls.empty,role:"document",tabIndex:0},a,"only")},renderError:function(b,a,d){for(;a.childNodes[0];)this._destroy(a.childNodes[0]);this._create("div",{"class":this.errorClass,innerHTML:d,
role:"alert",tabIndex:0},a,"only")},getSortInfo:function(){},pagingResults:function(b,a,d,g){return this._substitute(a.nls.pagingResults,g)},hidePreviousLink:function(b,a,d,g){return 1<g.start?"":"display: none;"},hidePreviousLabel:function(b,a,d,g){return 0==g.start?"":"display: none;"},hideNextLink:function(b,a,d,g){return g.start+g.count<g.totalCount?"":"display: none;"},hideNextLabel:function(b,a,d,g){return g.start+g.count>=g.totalCount?"":"display: none;"},updateSort:function(){},renderSort:function(){},
sortAnchors:function(b,a,d){if(void 0==d.list||0==d.list.length)return"";for(var a="",g=0;g<d.list.length;g++)a+=this._substituteItem(this.sortAnchor,b,d.list[g],g,d);return a},sortItemClass:function(b,a,d){return 0===d?this.firstClass:""},sortAnchorClass:function(b,a,d,g){return a!==g.active.anchor?"":g.active.isDesc?this.descendingSortClass:this.ascendingSortClass},renderItem:function(b,a,d,g,e,j){this.template&&(d=this._isString(this.template)?this._toDom(this._substituteItem(this.template,b,g,
e,j),a.ownerDocument):this.template.cloneNode(!0),a.appendChild(d),this._doAttachEvents(b,a,g))},_substituteItem:function(b,a,d,g,e){var j=this;return this._substitute(b,d,function(b,c){"undefined"==typeof b&&(b=this._getObject(c,!1,j));if("function"==typeof b)try{b=b.apply(j,[a,d,g,e])}catch(h){b="ERROR:"+c+" "+h}if("undefined"==typeof b&&"function"==typeof d.getValue)try{b=d.getValue(c)}catch(f){b="ERROR:"+c+" "+f}return"undefined"==typeof b||null==b?"":b},this)},_substituteItems:function(b,a,d,
g,e){var j=this;return this._substitute(b,d,function(b,c){"undefined"==typeof b&&(b=this._getObject(c,!1,j));if("function"==typeof b)try{b=b.apply(j,[a,d,g,e])}catch(h){b="ERROR:"+c+" "+h}return"undefined"==typeof b||null==b?"":b},this)},_doAttachEvents:function(b,a,d){var a=a.all||a.getElementsByTagName("*"),g;for(g in a){var e=a[g].getAttribute?a[g].getAttribute("data-dojo-attach-event"):null;if(e){a[g].removeAttribute("data-dojo-attach-event");for(var j=e.split(/\s*,\s*/);e=j.shift();)if(e){var c=
null;-1!=e.indexOf(":")?(c=e.split(":"),e=this._trim(c[0]),c=this._trim(c[1])):e=this._trim(e);c||(c=e);c=this._hitch(b,b[c],a[g],d);b._connect(a[g],e,c)}}}},getProfileUrl:function(b,a){var d=b.store.getEndpoint(),g;g=b.constructUrl("/${profiles}/html/profileView.do?userid="+a,{},{},d);return g=d.baseUrl+g}})})},"sbt/dom":function(){define(["./_bridge/dom"],function(i){return i})},"sbt/_bridge/dom":function(){define(["dojo/dom","dojo/_base/window","dojo/dom-construct","dojo/dom-class"],function(i,
f,c){return{byId:function(c){return i.byId(c)},createTextNode:function(c){return f.doc.createTextNode(c)},create:function(h,b,a){return c.create(h,b,a)},destroy:function(h){return c.destroy(h)},removeAll:function(c){if(c=this.byId(c))for(;c.firstChild;)c.removeChild(c.firstChild);return c},setText:function(c,b){if(c=this.byId(c))this.removeAll(c),c.appendChild(this.createTextNode(b));return c},setAttr:function(c,b,a){(c=this.byId(c))&&(a?c.setAttribute(b,a):c.removeAttribute(b));return c}}})},"sbt/lang":function(){define(["./_bridge/lang"],
function(i){return i})},"sbt/_bridge/lang":function(){define(["dojo/_base/lang"],function(i){return{mixin:function(f,c){return i.mixin.apply(this,arguments)},isArray:function(f){return i.isArray(f)},isString:function(f){return i.isString(f)},isFunction:function(f){return"function"==typeof f},isObject:function(f){return"object"==typeof f},clone:function(f){return i.clone(f)},concatPath:function(){var f=arguments;1==f.length&&this.isArray(f[0])&&(f=f[0]);for(var c="",h=0;h<f.length;h++){var b=f[h].toString();
c&&(c+="/");c+="/"==b.charAt(0)?b.substring(1):b}return c},trim:function(f){return i.trim(f)}}})},"sbt/widget/grid/_GridRenderer":function(){define("../../_bridge/declare,dojo/_base/lang,dojo/string,dojo/dom-construct,dijit/_WidgetBase,dojo/dom-class".split(","),function(i,f,c,h,b,a){return i(null,{_blankGif:dijit._WidgetBase.prototype._blankGif,_mixin:function(a,b){return f.mixin.apply(this,arguments)},_destroy:function(a){h.destroy(a)},_create:function(a,b,e){return h.create(a,b,e)},_toDom:function(a,
b){return h.toDom(a,b)},_isString:function(a){return f.isString(a)},_substitute:function(a,b,e,j){e||(e=function(a,b){"undefined"==typeof a&&(a=this._getObject(b,!1,self));return"undefined"==typeof a||null==a?"":a});j||(j=this);return c.substitute(a,b,e,j)},_getObject:function(a,b,e){return f.getObject(a,b,e)},_trim:function(a){return f.trim(a)},_hitch:function(a,b){return 2<arguments.length?f._hitchArgs.apply(dojo,arguments):f.hitch(a,b)},_addClass:function(b,g){return a.add(b,g)},_removeClass:function(b,
g){return a.remove(b,g)}})})},"sbt/_bridge/text":function(){define(["dojo/text"],function(i){return{load:function(f,c,h){i.load(f,c,h)}}})},"sbt/_bridge/i18n":function(){define(["dojo/i18n","dojo/date/locale"],function(i,f){return{load:function(c,h,b){i.load(c,h,b)},getLocalizedTime:function(c){return f.format(c,{selector:"time",formatLength:"short"})},getLocalizedDate:function(c){return f.format(c,{selector:"date",formatLength:"medium"})}}})},"sbt/connections/controls/ViewAllAction":function(){define(["../../declare",
"../../controls/grid/GridAction"],function(i,f){return i(f,{nls:{tooltip:"View All"},constructor:function(){},getTooltip:function(){return"derp"},execute:function(c,h){h.grid.renderer.hideViewAll=!0;h.grid.renderer.template=h.grid.renderer.fullTemplate;h.grid.renderer.render(h.grid,h.grid.gridNode,c.items,c);console.log("clicked the view all link")}})})},"sbt/controls/grid/GridAction":function(){define(["../../declare"],function(i){return i(null,{constructor:function(){},getTooltip:function(){return"sbt.controls.GridAction No tooltip specified"},
execute:function(f,c,h){dojo.stopEvent(h)},viewUserProfile:function(){}})})},"sbt/connections/controls/WidgetWrapper":function(){define("../../declare,../../config,../../lang,../../widget/_TemplatedWidget,../../stringUtil,../../json,../../text!./templates/WidgetFrame.html,../../i18n!sbt/connections/controls/nls/WidgetWrapper".split(","),function(i,f,c,h,b,a,d,g){return i([h],{templateString:d,frameContent:"/sbt/connections/controls/templates/LoadingPage.html",iframeNode:null,_endpoint:null,constructor:function(a){this._endpoint=
f.findEndpoint(a.endpoint||"connections")},postCreate:function(){this.inherited(arguments);if(this.frameContent)this.iframeNode.src=f.Properties.sbtUrl+this.frameContent},getTransformObject:function(){return{}},startup:function(){this.inherited(arguments);if(this.frameContent){var a=this.iframeNode.contentWindow||this.iframeNode.contentDocument;if(a.document)a=a.document;this.defaultTemplate?(this.defaultTemplate=b.transform(this.defaultTemplate,this.getTransformObject(),function(a,b){return a?a:
"${"+b+"}"}),this.defaultTemplate=b.transform(this.defaultTemplate,this._endpoint.serviceMappings,function(a,b){return a?a:b})):this.defaultTemplate=g.root.defaultTemplate;a.open();a.write(this.defaultTemplate);a.close()}}})})},"sbt/config":function(){define(["./defer!./_config"],function(i){return i})},"sbt/defer":function(){define([],function(){return{load:function(i,f,c){f([i],function(h){c(h)})}}})},"sbt/stringUtil":function(){define(["./xml"],function(i){var f=RegExp("{-?[0-9]+}","g");return{substitute:function(c,
h,b){return c&&h?c.replace(f,function(a){a=parseInt(a.substring(1,a.length-1));return 0<=a?h[a]?h[a]:b?"":"undefined":-1==a?"{":-2==a?"}":""}):c},replace:function(c,h){return c&&h?c.replace(/{(\w*)}/g,function(b,a){return h.hasOwnProperty(a)?i.encodeXmlEntry(h[a]):""}):c},trim:function(c){return c?c.replace(/^\s+|\s+$/g,""):c},startsWith:function(c,h){return c.length>=h.length&&c.substring(0,h.length)==h},endsWith:function(c,h){return c.length>=h.length&&c.substring(c.length-h.length)==h},transform:function(c,
h,b,a){return c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,g){var e=h[g]||"";if("function"==typeof e)try{e=e.apply(a,[h])}catch(c){e="ERROR:"+g+" "+c}b&&(e=b.call(a,e,g));return"undefined"==typeof e||null==e?"":e.toString()})},hashCode:function(c){if(0==c.length)return 0;var h=0,b,a;for(b=0,l=c.length;b<l;b++)a=c.charCodeAt(b),h=(h<<5)-h+a,h|=0;return h}}})},"sbt/xml":function(){define(["./lang"],function(i){var f={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},c={"&amp;":"&","&quot;":'"',
"&lt;":"<","&gt;":">"};return{parse:function(c){var b=null;try{"Microsoft Internet Explorer"==navigator.appName?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(c)):window.DOMParser&&(parser=new DOMParser,b=parser.parseFromString(c,"text/xml"))}catch(a){console.log(a.message)}return b},asString:function(c){return null==c?"":window.ActiveXObject?c.xml:(new XMLSerializer).serializeToString(c)},getText:function(c){return"Microsoft Internet Explorer"==navigator.appName?c.text:c.textContent},
encodeXmlEntry:function(c){i.isArray(c)&&(c=c.join());i.isString(c)||(c=c.toString());return c.replace(/([\&"<>])/g,function(b,a){return f[a]})},decodeXmlEntry:function(h){return h.replace(/(&quot;|&lt;|&gt;|&amp;)/g,function(b,a){return c[a]})}}})},"sbt/json":function(){define(["./_bridge/json","./_bridge/lang","./log","./stringUtil"],function(i,f,c,h){return{parse:function(b){return(JSON||i).parse(b)},stringify:function(b){return(JSON||i).stringify(b)},jsonBeanStringify:function(b){if(f.isArray(b)){for(var a=
"[",d=0;d<b.length;d++)a+=this._jsonBeanStringify(b[d]),d+1<b.length&&(a+=",\n");return a+"]"}return this._jsonBeanStringify(b)},jsonBean:function(b){if(f.isArray(b)){for(var a=[],d=0;d<b.length;d++)a.push(this._jsonBean(b[d]));return a}return this._jsonBean(b)},_jsonBeanStringify:function(b){return this._stringifyCyclicCheck(this.jsonBean(b),4)},_stringifyCyclicCheck:function(b,a){var d=[],g=this;return(JSON||i).stringify(b,function(a,b){if(g._isDomNode(b))return{};if(f.isObject(b)){if(0<=d.indexOf(b)&&
!g._isBuiltin(b))return;d.push(b)}else if(f.isFunction(b))return;return b},a)},_jsonBean:function(b,a){a||(a=[]);if(!(0<=a.indexOf(b))){a.push(b);var d={},g;for(g in b){var e=this._getObjectValue(b,g,a);if(e||!isNaN(e))d[g]=e}return d}},_notReserved:function(b){return"isInstanceOf"!==b&&"getInherited"!==b},_getObjectValue:function(b,a,d){if(f.isFunction(b[a])){if((h.startsWith(a,"get")||h.startsWith(a,"is"))&&this._notReserved(a))try{var g=b[a].apply(b);return g&&!this._isBuiltin(g)&&f.isObject(g)?
this._jsonBean(g,d):g}catch(e){}}else if(!h.startsWith(a,"_")&&!h.startsWith(a,"-"))return b[a]},_isBuiltin:function(b){return b instanceof Date||b instanceof Number||b instanceof Boolean||f.isArray(b)},_isDomNode:function(b){return b&&b.nodeName&&b.nodeType&&"number"===typeof b.nodeType&&"string"===typeof b.nodeName}}})},"sbt/_bridge/json":function(){define(["dojo/json"],function(i){return i})},"sbt/log":function(){define(["./stringUtil"],function(i){var f=function(){return sbt.Properties["js.logging.enabled"]?
"true"==sbt.Properties["js.logging.enabled"].toLowerCase():!0},c={DEBUG:1,INFO:2,WARN:3,ERROR:4},h=function(){return c[sbt.Properties["js.logging.level"]?sbt.Properties["js.logging.level"]:"DEBUG"]};return{setLevel:function(b){h=c[b]},setEnabled:function(b){f=b},debug:function(){if(f&&!(1<h)&&console&&0<arguments.length){var b=Array.prototype.slice.call(arguments),a=b[0],b=b.slice(1),b=i.substitute(a,b);console.debug?console.debug(b):console.log("DEBUG : "+b)}},info:function(){if(f&&!(2<h)&&console&&
0<arguments.length){var b=Array.prototype.slice.call(arguments),a=b[0],b=b.slice(1),b=i.substitute(a,b);console.info?console.info(b):console.log("INFO : "+b)}},warn:function(){if(f&&!(3<h)&&console&&0<arguments.length){var b=Array.prototype.slice.call(arguments),a=b[0],b=b.slice(1),b=i.substitute(a,b);console.warn?console.warn(b):console.log("WARN : "+b)}},error:function(){if(f&&console&&0<arguments.length){var b=Array.prototype.slice.call(arguments),a=b[0],b=b.slice(1),b=i.substitute(a,b);console.error?
console.error(b):console.log("ERROR : "+b)}},exception:function(){if(f&&console&&0<arguments.length){var b=Array.prototype.slice.call(arguments),a=b[0],b=b.slice(1),b=i.substitute(a,b);console.error?console.error("EXCEPTION : "+b):console.log("EXCEPTION : "+b)}}}})},"sbt/connections/controls/_ConnectionsWidget":function(){define(["../../declare","../../config","../../connections/controls/astream/_XhrHandler","dijit/_Widget"],function(i,f,c){return i([dijit._Widget],{baseUrl:f.Properties.serviceUrl+
"/proxy/connections/${connections}/resources/web/",xhrHandler:null,constructor:function(c){window.ibmConfig=window.ibmConfig||{};window.ibmConfig.versionStamp=window.ibmConfig.versionStamp||1234567890;dojo.config.locale="en";this.registerModulePaths();this.xhrHandler=c.xhrHandler||this.requireXhr(c.endpoint)},registerModulePaths:function(){dojo.registerModulePath("com",this.baseUrl+"com");dojo.registerModulePath("lconn",this.baseUrl+"lconn");dojo.registerModulePath("net",this.baseUrl+"net")},requireXhr:function(h){return new c(h||
"connections")}})})},"sbt/connections/controls/astream/_XhrHandler":function(){define(["../../../declare","../../../config","../../../stringUtil","../../../lang","../../../util"],function(i,f,c,h,b){return i(null,{endpoint:null,contextRootMap:{connections:"connections"},modifyUrl:function(a){if(this.endpoint&&(h.mixin(this.contextRootMap,this.endpoint.serviceMappings),this.contextRootMap&&!b.isEmptyObject(this.contextRootMap))){var d=a.url||a.serviceUrl,d=c.transform(d,this.contextRootMap,function(a,
b){return a?a:b},this);a.url?a.url=d:a.serviceUrl=d}if(a.url){if(0===a.url.indexOf("/"))a.serviceUrl=a.url,delete a.url;else if(-1===a.url.indexOf("proxy"))if(-1!==a.url.indexOf("https"))a.url=this.endpoint.proxy.proxyUrl+"/"+this.endpoint.proxyPath+"/"+a.url.replace(/https:\/\/.[^\/]+\//,"");else if(-1!==a.url.indexOf("http"))a.url=this.endpoint.proxy.proxyUrl+"/"+this.endpoint.proxyPath+"/"+a.url.replace(/http:\/\/.[^\/]+\//,"");if(-1!==a.url.indexOf("opensocial/rest"))a.url=a.url.replace("opensocial/",
"opensocial/"+this.endpoint.authType+"/")}},constructor:function(a){this.endpoint=f.findEndpoint(a)},xhrGet:function(a){this.modifyUrl(a);return this.xhr("GET",a)},xhrPost:function(a){this.modifyUrl(a);return this.xhr("POST",a)},xhrPut:function(a){this.modifyUrl(a);return this.xhr("PUT",a)},xhrDelete:function(a){this.modifyUrl(a);return this.xhr("DELETE",a)},xhrHead:function(a){this.modifyUrl(a);return this.xhr("HEAD",a)},xhr:function(a,b){this.modifyUrl(b);return this.endpoint.xhr(a,b)}})})},"sbt/util":function(){define(["./lang",
"sbt/i18n!sbt/nls/util","./log"],function(i,f,c){function h(b,a){if(a&&(a.error||a.handle)){if(a.error)try{a.error(b)}catch(d){c.error(f.notifyError_catchError,d)}if(a.handle)try{a.handle(b)}catch(g){c.error(f.notifyError_catchError,g)}}else c.error(f.notifyError_console,b.code,b.message)}return{notifyError:h,isEmptyObject:function(b){var a=!0,d;for(d in b)if(b.hasOwnProperty(d)){a=!1;break}return a},checkObjectClass:function(b,a,d,g){return b.declaredClass!=a?(g?h({code:400,message:d},g):c(d),!1):
!0},checkNullValue:function(b,a,d){if(b)return!0;d?h({code:400,message:a},d):c(a);return!1},minVersion:function(b,a){for(var d=b.split("."),g=a.split("."),e=0;e<d.length;++e){if(g.length==e)return!1;if(d[e]!=g[e])return d[e]>g[e]?!1:!0}return!0},getAllResponseHeaders:function(b){var a={};try{var d=b.getAllResponseHeaders();if(d)for(var g=d.split("\n"),b=0;b<g.length;b++){var e=g[b].indexOf(":"),c=i.trim(g[b].substring(0,e)),k=i.trim(g[b].substring(e+1));0<c.length&&(a[c]=k)}}catch(h){console.log(h)}return a},
createQuery:function(b,a){if(!b)return null;var d=a;d||(d=",");var g=[],e;for(e in b){var c=b[e];g.push(encodeURIComponent(e)+"="+encodeURIComponent(c))}return g.join(d)},splitQuery:function(b,a){var d,g={},e,c,k,b=b.replace("?","");c=b.split(a);k=c.length;for(d=0;d<k;d++)c[d]&&(e=c[d].split("="),g[e[0]]=e[1]);return g},getJavaScriptLibrary:function(){var b="Unknown";window.dojo?dojo.version&&(b="Dojo "+dojo.version):define&&define.amd&&define.amd.vendor&&"dojotoolkit.org"===define.amd.vendor?require(["dojo/_base/kernel"],
function(a){b="Dojo AMD "+a.version}):window.jQuery&&(b="JQuery "+jQuery.fn.jquery);return b}}})},"sbt/controls/grid/Grid":function(){define("../../declare,../../lang,../../itemFactory,../../stringUtil,../../widget/grid/_Grid,../../util".split(","),function(i,f,c,h,b){return i([b],{data:null,renderer:null,encodeHtml:!0,pageSize:5,hidePager:!1,hideSorter:!1,filterTag:"",selectedRows:null,_strings:{},_storeArgs:null,_regExp:/\/{2}/,contextRootMap:{},constructor:function(a){f.mixin(this,a);this.selectedRows=
[];if(!this.store){if(a&&a.storeArgs)this._storeArgs=a.storeArgs,this._storeArgs.endpoint=this.endpoint,this.store=this.createDefaultStore(a.storeArgs);else if(this.options)this._storeArgs=this.options[this.defaultOption].storeArgs,this._storeArgs.endpoint=this.endpoint,a&&a.type&&this.options.hasOwnProperty(a.type)&&f.mixin(this._storeArgs,this.options[a.type].storeArgs);this.store=this.createDefaultStore(this._storeArgs)}if(!this.renderer)if(a&&a.rendererArgs)this.renderer=this.createDefaultRenderer(a.rendererArgs);
else if(this.options){var b=this.options[this.defaultOption].rendererArgs;if(a&&a.type&&this.options.hasOwnProperty(a.type))b=this.options[a.type].rendererArgs;this.renderer=this.createDefaultRenderer(b)}},createDefaultStore:function(a){var b=this._createDefaultStore(a),c=b.getUrl();c&&(c=this.buildUrl(c,a,b.getEndpoint()));b.setUrl(c);return b},buildUrl:function(a,b,c){b={};this.query&&(b=f.mixin(b,this.query));return this.constructUrl(a,b,this.getUrlParams(),c)},createDefaultRenderer:function(){},
postCreate:function(){this.inherited(arguments);this.renderer&&this.store&&this.renderer.renderLoading(this,this.gridNode);if(this.updateOnCreate)this.created=!0,this.update()},refresh:function(){this.data&&(this.store?this.update(null):this.update())},update:function(a){if(0<arguments.length)this.data=a;this.data?(this.renderer.render(this,this.gridNode,this.data.items,this.data),this.onUpdate(this.data)):this.store?this._activeSortAnchor&&void 0!==this._activeSortIsDesc?this._doQuery(this.store,
{start:0,count:this.pageSize,sort:[{attribute:this._activeSortAnchor.sortParameter,descending:this._activeSortIsDesc}]}):this._doQuery(this.store,{start:0,count:this.pageSize}):(this.renderer.renderEmpty(this,this.gridNode,this.data),this.onUpdate(this.data))},onUpdate:function(){},getSortInfo:function(){},prevPage:function(a,b,c){this._stopEvent(c);if(this.store){if(this._activeSortAnchor){if(a={start:0,count:this.pageSize,sort:[{attribute:this._activeSortAnchor.sortParameter}]},void 0!==this._activeSortIsDesc)a.sort[0].descending=
this._activeSortIsDesc}else a={start:0,count:this.pageSize};if(this.data)a.start=Math.max(0,this.data.start-a.count);if(""!=this.filterTag&&null!=this.filterTag)a.tag=this.filterTag;this._doQuery(this.store,a)}},show10ItemsPerPage:function(a,b,c){this.showItemsPerPage(a,b,c,10)},show25ItemsPerPage:function(a,b,c){this.showItemsPerPage(a,b,c,25)},show50ItemsPerPage:function(a,b,c){this.showItemsPerPage(a,b,c,50)},show100ItemsPerPage:function(a,b,c){this.showItemsPerPage(a,b,c,100)},viewFeed:function(){var a=
this.store.getEndpoint(),b=a.proxyPath,a=a.proxy.rewriteUrl(a.baseUrl,this.store.getUrl(),b);window.open(a,"_new")},showItemsPerPage:function(a,b,c,e){this._stopEvent(c);if(this.store)this.pageSize=e,this.update(null)},nextPage:function(a,b,c){this._stopEvent(c);if(this.store){if(this._activeSortAnchor){if(a={start:0,count:this.pageSize,sort:[{attribute:this._activeSortAnchor.sortParameter}]},void 0!==this._activeSortAnchor)a.sort[0].descending=this._activeSortIsDesc}else a={start:0,count:this.pageSize};
if(this.data)a.start=this.data.start+a.count,a.count=this.pageSize,a.total=this.data.totalCount;if(""!=this.filterTag&&null!=this.filterTag)a.tag=this.filterTag;this._doQuery(this.store,a)}},handleCheckBox:function(a,b){if(a.checked)this.selectedRows.push(b);else if(!a.checked)for(var c=this.getSelected(),e=0;e<c.length;e++)c[e].data==b&&this.selectedRows.splice(e,1)},getSelected:function(){var a=[];if(this.selectedRows)for(var b=0;b<this.selectedRows.length;b++)a.push({data:this.selectedRows[b]});
return a},addItems:function(a){if(!this.data)this.data={items:[],start:0,end:0,count:0,totalCount:0};this.data.items=this.data.items.concat(c.createItems(a,this._storeArgs.attributes,this));this.data.totalCount+=this.data.items.length;this.data.end=this.data.count=this.data.totalCount},insertItem:function(a,b){if(!this.data)console.log("Data is not yet present, adding to beginning."),this.data={items:[],start:0,end:0,count:0,totalCount:0},b=0;var g=c.createItems(a,this._storeArgs.attributes,this);
this.data.items.splice(b,0,g[0]);this.data.totalCount=this.data.items.length;this.data.end=this.data.count=this.data.totalCount},encodeImageUrl:function(a){var b=this.store.getEndpoint();return b.proxy.rewriteUrl(b.baseUrl,a,b.proxyPath)},getAuthType:function(){return""},getUrlParams:function(){return{authType:this.getAuthType()}},constructUrl:function(a,b,c,e){if(!a)throw Error("Grid.constructUrl: Invalid argument, url is undefined or null.");e&&(f.mixin(this.contextRootMap,e.serviceMappings),this.contextRootMap&&
(a=h.transform(a,this.contextRootMap,function(a,b){return a?a:b},this)));c&&(a=h.replace(a,c),-1!=a.indexOf("//")&&(a=a.replace(this._regExp,"/")));if(b)for(param in b)b[param]&&(-1==a.indexOf("?")?a+="?":a.indexOf("&")!=a.length-1&&(a+="&"),a+=param+"="+encodeURIComponent(b[param]));return a},_sort:function(a,b,c,e,j){this._stopEvent(j);c={start:e.start,count:this.pageSize,sort:[{attribute:a}]};if(""!=this.filterTag&&null!=this.filterTag)c.tag=this.filterTag;this._activeSortAnchor===this._sortInfo[a]?
this._activeSortIsDesc=!this._activeSortIsDesc:(this._activeSortAnchor=this._sortInfo[a],this._activeSortIsDesc=b);c.sort[0].descending=this._activeSortIsDesc;this._doQuery(this.store,c)},_filter:function(a){var b={start:0,count:this.pageSize,sort:[{attribute:this._activeSortAnchor.sortParameter}]};b.sort[0].descending=this._activeSortIsDesc;var c={};if(a.tag)this.filterTag=c.tag=a.tag;this._doQuery(this.store,b,c)},_updateWithError:function(a){console.error(a.message);this.renderer.renderError(this,
this.gridNode,a.message)}})})},"sbt/itemFactory":function(){define(["./lang","./xpath","./base/core"],function(i,f,c){var h=/^count\(.*\)$/;return{createItems:function(b,a,d,g){var e=f.selectNodes(b,c.feedXPath.entry,c.namespaces),j=[];0==e.length&&(e=f.selectNodes(b,"a:entry",c.namespaces));for(b=0;b<e.length;b++)j.push(this.createItem(e[b],a,d,g));return j},createItem:function(b,a,d,g){for(var e={element:b,getValue:function(a){return this[a]}},j=this.getAttribs(a),k=0;k<j.length;k++){var m=j[k],
n=a[m];if(i.isFunction(n))e[m]=n(d,e);else if(n.match(h))e[m]=f.selectNumber(b,n,c.namespaces);else if((n=f.selectNodes(b,n,c.namespaces))&&1==n.length)e[m]=n[0].text||n[0].textContent;else if(n){e[m]=[];for(var p=0;p<n.length;p++)e[m].push(n[p].text||n[p].textContent)}else e[m]=null;e[m]=g?g.decode(e[m]):e[m]}return e},getAttribs:function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(c);return a}}})},"sbt/xpath":function(){define(["./declare"],function(i){var f=i(null,{ie:!1,constructor:function(c,
h){this.xpath=c;this.nsArray=h||{};if(!document.createExpression&&(this.ie=!0,this.nsString="",this.nsArray))for(var b in this.nsArray)this.nsString+=" xmlns:"+b+'="'+this.nsArray[b]+'"'},selectSingleNode:function(c){var h=c.ownerDocument||c;if(this.ie)try{h.setProperty("SelectionLanguage","XPath");h.setProperty("SelectionNamespaces",this.nsString);if(c===h)c=h.documentElement;return c.selectSingleNode(this.xpath)}catch(b){throw"XPath is not supported";}else{var a=this;return h.evaluate(this.xpath,
c,function(b){return a.nsArray[b]},XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}},selectNumber:function(c){var h=c.ownerDocument||c;if(this.ie)return this.selectText(c);var b=this;return h.evaluate(this.xpath,c,function(a){return b.nsArray[a]},XPathResult.NUMBER_TYPE,null).numberValue},selectNodes:function(c){var h=c.ownerDocument||c;if(this.ie)try{h.setProperty("SelectionLanguage","XPath");h.setProperty("SelectionNamespaces",this.nsString);if(c===h)c=h.documentElement;return c.selectNodes(this.xpath)}catch(b){throw"XPath is not supported";
}else{for(var a=this,c=h.evaluate(this.xpath,c,function(b){return a.nsArray[b]},XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),h=[],d=0;d<c.snapshotLength;d++)h.push(c.snapshotItem(d));return h}},selectText:function(c){return(c=this.selectSingleNode(c))?c.text||c.textContent:null}});return{selectNodes:function(c,h,b){return(new f(h,b)).selectNodes(c)},selectSingleNode:function(c,h,b){return(new f(h,b)).selectSingleNode(c)},selectText:function(c,h,b){return(new f(h,b)).selectText(c)},selectNumber:function(c,
h,b){return(new f(h,b)).selectNumber(c)}}})},"sbt/base/core":function(){define(["../config"],function(){return{namespaces:{o:"http://ns.opensocial.org/2008/opensocial",app:"http://www.w3.org/2007/app",thr:"http://purl.org/syndication/thread/1.0",fh:"http://purl.org/syndication/history/1.0",snx:"http://www.ibm.com/xmlns/prod/sn",opensearch:"http://a9.com/-/spec/opensearch/1.1/",a:"http://www.w3.org/2005/Atom",h:"http://www.w3.org/1999/xhtml",td:"urn:ibm.com/td",relevance:"http://a9.com/-/opensearch/extensions/relevance/1.0/",
ibmsc:"http://www.ibm.com/search/content/2010",xhtml:"http://www.w3.org/1999/xhtml"},feedXPath:{entry:"/a:feed/a:entry",entries:"/a:feed/a:entry",totalResults:"/a:feed/opensearch:totalResults",startIndex:"/a:feed/opensearch:startIndex",itemsPerPage:"/a:feed/opensearch:itemsPerPage"},entryXPath:{title:"a:title",summaryText:"a:summary[@type='text']",selfUrl:"a:link[@rel='self']/@href",terms:"a:category/@term",contentHtml:"a:content[@type='html']",published:"a:published",updated:"a:updated",authorId:"a:author/snx:userid",
contributorId:"a:contributor/snx:userid"}}})},"sbt/widget/grid/_Grid":function(){define(["../../declare","../../store/AtomStore","dojo/_base/lang","dojo/_base/Deferred","../../widget/_TemplatedWidget"],function(i,f,c,h,b){return i([b],{templatePath:require.toUrl("sbt/controls/grid/templates/Grid.html"),_createDefaultStore:function(a){return new f(a)},_doQuery:function(a,b,g){var g=g||{},e=this,j=c.hitch(this,this._updateWithError),k=a.query(g,b);h.when(k.total,function(a){h.when(k,function(c){e.data=
{items:c,start:b.start,end:b.start+c.length,count:c.length,totalCount:a,response:k.response};try{e.renderer.render(e,e.gridNode,c,e.data),e.onUpdate(e.data)}catch(g){e.renderer.renderError(e,e.gridNode,g)}return k},j)},j)}})})},"sbt/store/AtomStore":function(){define("../declare,../config,../lang,../base/core,../xml,../xpath,../itemFactory,dojo/_base/Deferred,dojo/promise/Promise,dojo/store/util/QueryResults,dojox/html/entities".split(","),function(i,f,c,h,b,a,d,g,e,j,k){var m=i(e,{_store:null,_isRejected:!1,
_isFulfilled:!1,_isCancelled:!1,_callbacks:[],_errbacks:[],_endpoint:null,_xmlData:null,totalResults:null,startIndex:0,itemsPerPage:5,items:null,url:"",sendQuery:!0,unescapeHTML:!1,atom:h.feedXPath,attributes:h.entryXPath,namespaces:h.namespaces,paramSchema:{},constructor:function(a,b,c){this._endpoint=f.findEndpoint(a.endpoint||"connections");this._options=c;this._callbacks=[];this._errbacks=[];if(a)this.url=a.url,this.attributes=a.attributes||this.attributes,this.atom=a.feedXPath||this.atom,this.namespaces=
a.namespaces||this.namespaces,this.sendQuery=a.hasOwnProperty("sendQuery")?a.sendQuery:this.sendQuery,this.unescapeHTML=a.unescapeHTML||this.unescapeHTML,this.paramSchema=a.paramSchema||this.paramSchema;if(this.paramSchema.pageNumber)a=Math.floor(c.start/c.count)+1,b.pageNumber=b.pageNumber||a;if(this.paramSchema.startIndex)b.startIndex=b.startIndex||c.start;if(this.paramSchema.pageSize)b.pageSize=b.pageSize||c.count;if(c.sort&&c.sort[0]){if(c.sort[0].attribute)b.sortBy=c.sort[0].attribute;if(!0===
c.sort[0].descending)b.sortOrder="desc";else if(!1===c.sort[0].descending)b.sortOrder="asc"}this._doFetch({query:b})},then:function(a,b){this._isFulfilled?a(this.items):(a&&this._callbacks.push(a),b&&this._errbacks.push(b))},cancel:function(){this._isCancelled=!0},isResolved:function(){return this._isRejected||this._isFulfilled},isRejected:function(){return this._isRejected},isFulfilled:function(){return this._isFulfilled},isCanceled:function(){return this._isCancelled},_doFetch:function(c){var d=
this,e=this._getServiceUrl(c.query);e?this._endpoint.xhrGet({serviceUrl:e,handleAs:"text",load:function(c){try{d.response=c,d._xmlData=b.parse(c),d.totalResults=parseInt(a.selectText(d._xmlData,d.atom.totalResults,d.namespaces)),d.startIndex=parseInt(a.selectText(d._xmlData,d.atom.startIndex,d.namespaces)),d.itemsPerPage=parseInt(a.selectText(d._xmlData,d.atom.itemsPerPage,d.namespaces)),d.items=d._createItems(d._xmlData),d._options.onComplete&&d._options.onComplete.call(d._options.scope||d,d.items,
d._options),d._fulfilled(d.totalResults)}catch(e){d._rejected(e)}},error:function(a){d._rejected(a)}}):c.onError&&c.onError.call(Error("sbt.store.AtomStore: No service URL specified."))},_getServiceUrl:function(a){if(!this.sendQuery||!a)return this.url;if(c.isString(a))return this.url+(~this.url.indexOf("?")?"&":"?")+a;var b=[],d=this.paramSchema,e;for(e in a)if(e in d){var g=d[e].format(a[e]);g&&b.push(g)}else b.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e]));return 0==b.length?this.url:
this.url+(~this.url.indexOf("?")?"&":"?")+b.join("&")},_createQuery:function(a){if(!a)return null;var b=[],c;for(c in a){var d=a[c];b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")},_createItems:function(b){for(var b=a.selectNodes(b,this.atom.entries,this.namespaces),c=[],d=0;d<b.length;d++)c.push(this._createItem(b[d]));return c},_createItem:function(b){for(var d=this._getAttributes(),e=/^count\(.*\)$/,g={element:b,getValue:function(a){var b=[];if("object"==typeof this[a])for(var c=
0;c<this[a].length;c++)b[c]=k.encode(this[a][c]);else b=k.encode(this[a]);return b}},j=0;j<d.length;j++){var h=d[j],r=this.attributes[h];if(c.isFunction(r))g[h]=r(this,g);else if(r.match(e))g[h]=a.selectNumber(b,r,this.namespaces)+"";else if((r=a.selectNodes(b,r,this.namespaces))&&1==r.length)g[h]=r[0].text||r[0].textContent;else if(r){g[h]=[];for(var f=0;f<r.length;f++)g[h].push(r[f].text||r[f].textContent)}else g[h]=null}return g},_getAttributes:function(){var a=[],b;for(b in this.attributes)this.attributes.hasOwnProperty(b)&&
a.push(b);return a},_fulfilled:function(a){if(!this._isCancelled)for(this._isFulfilled=!0;0<this._callbacks.length;)this._callbacks.shift()(a)},_rejected:function(a){if(!this._isCancelled)for(this._isRejected=!0;0<this._errbacks.length;)this._errbacks.shift()(a)}});return i(null,{idProperty:"id",_args:null,constructor:function(a){this._args=a},getEndpoint:function(){return f.findEndpoint(this._args.endpoint||"connections")},get:function(){throw Error("sbt.store.AtomStore: Not implemented yet!");},
getIdentity:function(a){return a.id},setUrl:function(a){this._args.url=a},getUrl:function(){return this._args.url},setAttributes:function(a){this._args.attributes=a},query:function(a,b){var c=new m(this._args,a,b);c.total=c;return j(c)}})})},"sbt/controls/grid/ViewProfileAction":function(){define(["../../declare","./GridAction","../../stringUtil"],function(i,f){return i(f,{constructor:function(){},openAuthorProfile:function(c,h,b){c=h.getEndpoint().baseUrl+b+"/html/myProfileView.do?userid="+c.authorId;
document.location.href=c}})})},"sbt/controls/panel/_ProfilePanel":function(){define(["../../declare","../../lang","../../dom","../../widget/_TemplatedWidget"],function(i,f,c,h){return i([h],{templateString:"<div><strong> Loading profile... </strong></div>",template:null,profile:null,errorClass:null,constructor:function(b){f.mixin(this,b);if(this.templateId)this.template=this._getTemplate(this.templateId)},postMixInProperties:function(){},postCreate:function(){this.inherited(arguments);this.email||
this.userid?this.getProfile(this.email||this.userid):this.getMyProfile()},getMyProfile:function(){},getProfile:function(){},showProfile:function(b){if(this.profile=b||this.profile)try{for(var a=this.domNode;a.childNodes[0];)this._destroy(a.childNodes[0]);var c;c=this._isString(this.template)?this._toDom(this._substituteItems(this.template,this.profile),a.ownerDocument):this.template.cloneNode(!0);a.appendChild(c)}catch(g){this._displayError(g)}else this._displayError(Error("Invalid profile"))},getThumbnailAlt:function(){return this.profile.getName()||
""},_substituteItems:function(b,a){var c=this;return this._substitute(b,a,function(b,e){"undefined"==typeof b&&(b=this._getObject(e,!1,c));if("function"==typeof b)try{b=b.apply(a)}catch(j){try{b=b.apply(c,[a])}catch(k){b="ERROR:"+e+" "+k}}return"undefined"==typeof b||null==b?"":b},this)},_displayError:function(b){for(var a=this.domNode;a.childNodes[0];)this._destroy(a.childNodes[0]);this._create("div",{"class":this.errorClass,innerHTML:b,role:"alert",tabIndex:0},a,"only")},_getTemplate:function(b){var a=
c.byId(b);return a?a.innerHTML:"<strong>Unable to load template: "+b+"</strong>"}})})},"sbt/smartcloud/controls/BaseGridRenderer":function(){define("../../declare,../../controls/grid/GridRenderer,../../text!../../controls/grid/templates/GridPager.html,../../text!../../controls/grid/templates/GridSorter.html,../../text!../../controls/grid/templates/SortAnchor.html,../../i18n!./nls/BaseGridRenderer".split(","),function(i,f,c,h,b,a){return i(f,{nls:{},tableClass:"lotusTable",emptyClass:"lconnEmpty",
errorClass:"lconnEmpty",loadingClass:"",loadingImgClass:"lotusLoading",firstClass:"lotusFirst",defaultSortClass:"lotusActiveSort lotusDescending",ascendingSortClass:"lotusActiveSort lotusAscending",descendingSortClass:"lotusActiveSort lotusDescending",pagerTemplate:c,sortTemplate:h,sortAnchor:b,constructor:function(b){this._mixin(this,b);this.nls=this._mixin(a,this._nls)}})})},"sbt/connections/controls/activities/ActivityAction":function(){define(["../../../declare","../../../controls/grid/GridAction"],
function(i,f){return i(f,{constructor:function(){},getTooltip:function(c){return c.getValue("title")},execute:function(c){document.location.href=c.getValue("recentUpdatesUrl")}})})},"sbt/connections/controls/activities/ActivityGrid":function(){define("../../../declare,../../../controls/grid/Grid,../../../store/parameter,./ActivityGridRenderer,./ActivityAction,../../../connections/ActivityConstants".split(","),function(i,f,c,h,b,a){c={pageNumber:c.oneBasedInteger("page"),pageSize:c.oneBasedInteger("ps"),
sortBy:c.sortField("sortfields",{modified:"lastmod",dueDate:"duedate",name:"title"}),sortOrder:c.sortOrder("sortorder")};return i(f,{options:{my:{storeArgs:{url:a.AtomActivitiesMy,attributes:a.ActivityNodeXPath,feedXPath:a.ActivitiesFeedXPath,paramSchema:c},rendererArgs:{type:"my"}}},defaultOption:"my",activityAction:new b,constructor:function(){this._sortInfo={modified:{title:this.renderer._nls.modified,sortMethod:"sortBylastModified",sortParameter:"date"},dueDate:{title:this.renderer._nls.dueDate,
sortMethod:"sortByDueDate",sortParameter:"dueDate"},name:{title:this.renderer._nls.name,sortMethod:"sortByName",sortParameter:"name"}};this._activeSortAnchor=this._sortInfo.name;this._activeSortIsDesc=!0},getSortInfo:function(){return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},list:[this._sortInfo.modified,this._sortInfo.dueDate,this._sortInfo.name]}},sortBylastModified:function(a,b,c){this._sort("modified",!0,a,b,c)},sortByDueDate:function(a,b,c){this._sort("dueDate",!0,
a,b,c)},sortByName:function(a,b,c){this._sort("name",!0,a,b,c)},handleClick:function(a,b,c){this.activityAction&&(this._stopEvent(c),this.activityAction.execute(b,this,c))},createDefaultRenderer:function(a){return new h(a)}})})},"sbt/store/parameter":function(){define(["../stringUtil","../config"],function(){var i={defaultFormat:function(c,h){return c.key+"="+h},sortField:function(c){return function(h,b){return h.key+"="+(c[b]||"")}},ascSortOrderBoolean:function(c,h){return c.key+"="+("asc"===h?!0:
!1)},sortOrder:function(c,h){return c.key+"="+("asc"===h?"desc":"asc")},oneBasedInteger:function(c,h){var b=Math.floor(h);1>b&&(b=1);return c.key+"="+b},zeroBaseInteger:function(c,h){var b=Math.floor(h);0>b&&(b=0);return c.key+"="+b}},f=function(c){var h=this;this.key=c.key;var b=c.format||i.defaultFormat;this.format=function(a){return b(h,a)}};return{defaultFormat:function(c){return new f({key:c,format:i.defaultFormat})},sortField:function(c,h){return new f({key:c,format:i.sortField(h)})},sortOrder:function(c){return new f({key:c,
format:i.sortOrder})},booleanSortOrder:function(c){return new f({key:c,format:i.ascSortOrderBoolean})},zeroBasedInteger:function(c){return new f({key:c,format:i.zeroBasedInteger})},oneBasedInteger:function(c){return new f({key:c,format:i.oneBasedInteger})}}})},"sbt/connections/controls/activities/ActivityGridRenderer":function(){define(["../../../declare","../ConnectionsGridRenderer","../../../i18n","../../../text!./templates/ActivityRow.html","../../../i18n!./nls/ActivityGridRenderer"],function(i,
f,c,h,b){return i(f,{_nls:b,constructor:function(){this.template=h},tooltip:function(a,b){if(a.activitiesAction)return a.activitiesAction.getTooltip(b)},getUserProfileHref:function(a,b){return this.getProfileUrl(a,b.getValue("authorUserId"))}})})},"sbt/i18n":function(){define(["./_bridge/i18n"],function(i){i.getUpdatedLabel=function(f){var f=new Date(f),c=new Date(f.getTime()),h=new Date;return c.setHours(0,0,0,0)==h.setHours(0,0,0,0)?"today at "+this.getLocalizedTime(f):"on "+this.getLocalizedDate(f)};
i.getSearchUpdatedLabel=function(f){var f=new Date(f),c=new Date(f.getTime()),h=new Date;return c.setHours(0,0,0,0)==h.setHours(0,0,0,0)?"today at "+this.getLocalizedTime(f):this.getLocalizedDate(f)};return i})},"sbt/connections/ActivityConstants":function(){define(["../lang","./ConnectionsConstants"],function(i,f){return i.mixin(f,{ActivityNodeTypes:{Activity:"activity",Chat:"chat",Email:"email",Entry:"entry",EntryTemplate:"entrytemplate",Reply:"reply",Section:"section",ToDo:"todo"},ActivitiesFeedXPath:f.ConnectionsFeedXPath,
PersonFieldXPath:{name:"a:name",userId:"snx:userid",email:"a:email"},FileFieldXPath:{url:"a:link[@rel='enclosure']/@href",type:"a:link[@rel='enclosure']/@type",size:"a:link[@rel='enclosure']/@size",length:"a:link/@length"},LinkFieldXPath:{url:"a:link/@href",title:"a:link/@title"},TextFieldXPath:{summary:"a:summary"},ActivityNodeXPath:{entry:"/a:entry",uid:"a:id",activityUuid:"snx:activity",title:"a:title",updated:"a:updated",published:"a:published",categoryFlagCompleted:"a:category[@term='completed']/@label",
categoryFlagTemplate:"a:category[@term='template']/@label",categoryFlagDelete:"a:category[@term='deleted']/@label",authorName:"a:author/a:name",authorUserId:"a:author/snx:userid",authorEmail:"a:author/a:email",authorUserState:"a:author/snx:userState",authorLdapid:"a:author/snx:ldapid",contributorName:"a:contributor/a:name",contributorUserId:"a:contributor/snx:userid",contributorEmail:"a:contributor/a:email",contributorUserState:"a:contributor/snx:userState",contributorLdapid:"a:contributor/snx:ldapid",
type:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/type']/@label",priority:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/priority']/@label",coummunityUuid:"snx:communityUuid",communityUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/container']/@href",dueDate:"snx:duedate",membersUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/member-list']/@href",historyUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/history']/@href",templatesUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/templates']/@href",
editUrl:"a:link[@rel='edit']/@href",selfUrl:"a:link[@rel='self']/@href",recentUpdatesUrl:"a:link[@rel='alternate']/@href",position:"snx:position",depth:"snx:depth",permissions:"snx:permissions",iconUrl:"snx:icon",content:"a:content",tags:"a:category[not(@scheme)]/@term",inReplyToId:"thr:in-reply-to/@ref",inReplyToUrl:"thr:in-reply-to/@href",inReplyToActivity:"thr:in-reply-to/snx:activity",assignedToName:"snx:assignedto/@name",assignedToUserId:"snx:assignedto/@userid",assignedToEmail:"snx:assignedto",
textFields:"snx:field[@type='text']",linkFields:"snx:field[@type='link']",personFields:"snx:field[@type='person']",dateFields:"snx:field[@type='date']",fileFields:"snx:field[@type='file']"},TagXPath:{term:"@term",frequency:"@snx:frequency",entries:"app:categories/a:category",uid:"@term",bin:"@snx:bin"},MemberXPath:{uid:"a:id",entry:"a:feed/a:entry",name:"a:contributor/a:name",email:"a:contributor/a:email",userId:"a:contributor/snx:userid",role:"a:contributor/snx:role",userState:"a:contributor/snx:userState",
title:"a:title",updated:"a:updated",summary:"a:summary",editUrl:"a:link[@rel='edit']/@href",category:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/type']/@term",role:"snx:role",permissions:"snx:permissions"},AtomActivitiesEverything:"/${activities}/service/atom2/everything",AtomActivitiesMy:"${activities}/service/atom2/activities",AtomActivitiesTrash:"${activities}/service/atom2/trash",AtomActivitiesCompleted:"${activities}/service/atom2/completed",AtomActivityNode:"${activities}/service/atom2/activitynode",
AtomActivityNodes:"${activities}/service/atom2/descendants",AtomActivityNodeTrash:"${activities}/service/atom2/trashednode",AtomCreateActivityNode:"${activities}/service/atom2/activity",AtomActivitiesToDos:"${activities}/service/atom2/todos",AtomActivitiesMembers:"${activities}/service/atom2/acl",AtomActivitiesMember:"${activities}/service/atom2/acl?activityUuid={activityUuid}&amp;memberid={memberId}",AtomActivitiesTags:"${activities}/service/atom2/tags"},f)})},"sbt/connections/ConnectionsConstants":function(){define(["../lang",
"../base/BaseConstants"],function(i,f){return i.mixin(f,{BadRequest:400,ConnectionsFeedXPath:{entries:"/a:feed/a:entry",totalResults:"/a:feed/opensearch:totalResults",startIndex:"/a:feed/opensearch:startIndex",itemsPerPage:"/a:feed/opensearch:itemsPerPage"},AuthTypes:{OAuth:"oauth",Basic:"basic"},TagsXPath:{entries:"app:categories/a:category",term:"@term",frequency:"@snx:frequency",uid:"@term"}})})},"sbt/base/BaseConstants":function(){define(["../config"],function(){return{sbtErrorCodes:{badRequest:400},
Namespaces:{o:"http://ns.opensocial.org/2008/opensocial",app:"http://www.w3.org/2007/app",thr:"http://purl.org/syndication/thread/1.0",fh:"http://purl.org/syndication/history/1.0",snx:"http://www.ibm.com/xmlns/prod/sn",opensearch:"http://a9.com/-/spec/opensearch/1.1/",a:"http://www.w3.org/2005/Atom",h:"http://www.w3.org/1999/xhtml",td:"urn:ibm.com/td",relevance:"http://a9.com/-/opensearch/extensions/relevance/1.0/",ibmsc:"http://www.ibm.com/search/content/2010",xhtml:"http://www.w3.org/1999/xhtml",
spelling:"http://a9.com/-/opensearch/extensions/spelling/1.0/",ca:"http://www.ibm.com/xmlns/prod/composite-applications/v1.0 namespace"},AtomFeedXPath:{entries:"/a:feed/a:entry",totalResults:"/a:feed/opensearch:totalResults",startIndex:"/a:feed/opensearch:startIndex",itemsPerPage:"/a:feed/opensearch:itemsPerPage"},AtomEntryXPath:{entry:"/a:entry",uid:"a:id",id:"a:id",title:"a:title",updated:"a:updated",published:"a:published",authorName:"a:author/a:name",authorEmail:"a:author/a:email",authorUserid:"a:author/snx:userid",
authorUserState:"a:author/snx:userState",contributorName:"a:contributor/a:name",contributorEmail:"a:contributor/a:email",contributorUserid:"a:contributor/snx:userid",contributorUserState:"a:contributor/snx:userState",content:"a:content[@type='html']",summary:"a:summary[@type='text']",categoryTerm:"a:category/@term",editUrl:"a:link[@rel='edit']/@href",selfUrl:"a:link[@rel='self']/@href",alternateUrl:"a:link[@rel='alternate']/@href"},AtomXmlHeaders:{"Content-Type":"application/atom+xml"}}})},"sbt/connections/controls/astream/ActivityStreamWrapper":function(){define("../../../declare,../../../url,../../../config,../../../util,../../../lang,../../../connections/controls/WidgetWrapper,../../../text!../../../connections/controls/astream/templates/ActivityStreamContent.html".split(","),
function(i,f,c,h,b,a,d){return i([a],{defaultTemplate:d,getTransformObject:function(){var a=this._endpoint.proxy.proxyUrl+"/"+this._endpoint.proxyPath,d=this._endpoint.baseUrl,j=new f(c.Properties.libraryUrl),k=j.getQuery(),k=h.splitQuery(k,"&");b.mixin(k,{lib:"dojo",ver:"1.4.3"});k=h.createQuery(k,"&");j.setQuery(k);var k="~com.ibm.social.as.gadget.viewnav.ASGadgetViewSideNav.js",m=d+"/${connections}/resources/web/com.ibm.social.as/css/activityStream.css";"w3connections"==this._endpoint.name&&(k=
"~com.ibm.social.as.nav.ASSideNav.js",m=d+"/${connections}/resources/web/_lconnappstyles/gen4/activityStream.css?version=oneui3&rtl=false");var n=b.mixin({},c.Properties);b.mixin(n,{libraryUrl:j.getUrl(),loginUi:"popup"});return{args:JSON.stringify(this.args),proxyUrl:a,connectionsUrl:d,libraryUrl:j.getUrl(),sbtProps:JSON.stringify(n),connectionsASNav:k,cssUrl:m}},args:null,constructor:function(a){this.args=a}})})},"sbt/url":function(){define(["./declare"],function(i){var f=/^(?:([A-z]+)(:))?(\/\/)(?:([^?#]*)(:)([^?#]*)(@))?([\w.\-]+)(?:(:)(\d{0,5}))?([\w.\/\-]+)?(?:(\?)([^?#]*))?(?:(#)(.*))?$/;
return i(null,{_resultStore:[],constructor:function(c){this.setUrl(c)},getUrl:function(){return this._resultStore.slice(1).join("")},setUrl:function(c){this._resultStore=f.exec(c)},getScheme:function(){return this._resultStore[1]},setScheme:function(c){this._resultStore[1]=c},getUser:function(){return this._resultStore[4]},setUser:function(c){this._resultStore[4]=c},getPassword:function(){return this._resultStore[6]},setPassword:function(c){this._resultStore[6]=c},getHostName:function(){return this._resultStore[8]},
setHostName:function(c){this._resultStore[8]=c},getPort:function(){return this._resultStore[10]},setPort:function(c){this._resultStore[10]=c},getQuery:function(){return this._resultStore[13]},setQuery:function(c){this._resultStore[13]=c},getFragment:function(){return this._resultStore[15]},setFragment:function(c){this._resultStore[15]=c},getBaseUrl:function(){return this._resultStore.slice(1,13).join("")}})})},"sbt/connections/controls/astream/_ActivityStream":function(){define("../../../declare,../../../lang,../../../dom,../../../connections/controls/_ConnectionsWidget,../../../connections/controls/astream/_SbtAsConfigUtil,../../../connections/controls/sharebox/_InputForm".split(","),
function(i,f,c,h,b){return i([h],{configUtil:null,inputForm:null,wrapDomNode:function(a){var a=document.getElementById(a),b=a.parentNode,c=document.createElement("div");c.className="lotusContent lotusBoard";b.appendChild(c);c.appendChild(a)},constructor:function(a){this.mixinXhrHandler();var d=new b(this.xhrHandler);a.xhrHandler=this.xhrHandler;a.activityStreamNode&&this.wrapDomNode(a.activityStreamNode);d.buildSbtConfig(a).then(function(b){a.sideNavNode&&1<Object.keys(b.views).length&&(com.ibm.social.as.nav?
new com.ibm.social.as.nav.ASSideNav({configObject:b},c.byId(a.sideNavNode)):new com.ibm.social.as.gadget.viewnav.ASGadgetViewSideNav({configObject:b},c.byId(a.sideNavNode)));if(a.activityStreamNode)window.activityStreamConfig=b,new com.ibm.social.as.ActivityStream({configObject:b,domNode:a.activityStreamNode,isGadget:!1,selectedState:!0})})},mixinXhrHandler:function(){void 0!==com.ibm.social.as.util.xhr.XhrHandler.init?com.ibm.social.as.util.xhr.XhrHandler.init(this.xhrHandler):f.mixin(com.ibm.social.as.util.AbstractHelper.prototype,
this.xhrHandler)},update:function(){dojo.publish("com/ibm/social/as/event/updatestate",[!0])}})})},"sbt/connections/controls/astream/_SbtAsConfigUtil":function(){define(["../../../declare","../../../config","../../../url"],function(i,f,c){return i([com.ibm.social.as.gadget.ActivityStreamConfigUtil],{constructor:function(c){this.xhrHandler=c},getUserInfo:function(){var h=new lconn.core.util.LCDeferred,b=lconn.core.config.services.microblogging.secureUrl,a="",a=this.xhrHandler.endpoint.proxy.proxyUrl+
"/"+this.xhrHandler.endpoint.proxyPath,d=b.indexOf(a),a=-1!==d?b.slice(d+a.length):(new c(b)).getPath();this.xhrHandler.xhrGet({serviceUrl:a+"/"+this.xhrHandler.endpoint.authType+"/rest/people/@me/@self",handleAs:"json",load:function(a){if((a=a&&a.entry)&&a.id&&a.displayName){var b=a.id;if(b&&-1!=b.indexOf("urn:lsid:lconn.ibm.com:")){var c=b.lastIndexOf(":");-1!=c&&(b=b.substr(c+1))}h.resolve({id:b,osId:a.id,displayName:a.displayName})}},error:function(){h.reject()}});return h},requireExtensions:function(c){var b;
for(b=0;b<c.length;b++)dojo.require(c[b])},getBoardIdFromUrl:function(c){if(-1===c.indexOf("urn:lsid:"))return"@me";var b=c.indexOf("/activitystreams/")+17,c=c.slice(b);return c.substring(0,c.indexOf("/"))},getBoardIdFromAppId:function(c){return c.indexOf("urn:lsid:"===-1)?"@me":c},buildSbtConfigFull:function(c){c.eeManager&&delete c.eeManager;var b=new lconn.core.util.LCDeferred;!c.userInfo||!c.userInfo.id||!c.userInfo.displayName?(c.boardId=this.getBoardIdFromAppId(c.defaultUrlTemplateValues.appId),
this.getUserInfo().then(function(a){if(a&&a.id&&a.displayName)c.userInfo=a;b.resolve(c)},function(a){b.reject(a)})):b.resolve(c);c.extensions&&this.requireExtensions(c.extensions);return b},buildSbtConfigFromFeed:function(c){var b=new lconn.core.util.LCDeferred,a={defaultUrlTemplate:c.feedUrl,defaultUrlTemplateValues:{},views:{main:{}},eeManager:"com.ibm.social.as.ee.EEManager",extensions:["com.ibm.social.as.lconn.extension.GadgetPreloaderExtension"],boardId:this.getBoardIdFromUrl(c.feedUrl)};c.extensions&&
(c.extensions.commenting&&a.extensions.push("com.ibm.social.as.extension.CommentExtension"),c.extensions.saving&&a.extensions.push("lconn.homepage.as.extension.SavedActionExtension"),c.extensions.refreshButton&&a.extensions.push("com.ibm.social.as.gadget.refresh.RefreshButtonExtension"),c.extensions.deleteButton&&a.extensions.push("com.ibm.social.as.lconn.extension.MicroblogDeletionExtension"));a.eeManager&&delete a.eeManager;-1===c.feedUrl.indexOf("anonymous")?this.getUserInfo().then(function(c){if(c&&
c.id&&c.displayName)a.userInfo=c;b.resolve(a)},function(a){b.reject(a)}):(this.requireExtensions(a.extensions),b.resolve(a));this.requireExtensions(a.extensions);return b},buildSbtConfig:function(c){return c.feedUrl?this.buildSbtConfigFromFeed(c):this.buildSbtConfigFull(c.config)}})})},"sbt/connections/controls/sharebox/_InputForm":function(){define(["sbt/declare","sbt/json","sbt/connections/controls/_ConnectionsWidget"],function(i,f,c){return i([c],{inputForm:null,constructor:function(c){var b=this;
this.xhrHandler.xhrGet({serviceUrl:"/${connections}/opensocial/basic/rest/ublog/@config/settings",handleAs:"json",load:function(a){var d={maxNumberChars:1E3,boardId:c.boardId||"@me",postType:lconn.news.microblogging.sharebox.Context.SU_CONTEXT};if(a=a&&a.entry)d.maxNumberChars=a["com.ibm.connections.ublog.microblogEntryMaxChars"],b.inputForm=new lconn.news.microblogging.sharebox.InputForm({params:d,xhrHandler:b.xhrHandler,UBLOG_RELATIVE_PATH:"/basic/rest/ublog/",isASGadget:!1},dojo.byId(c.shareBoxNode)),
b.inputForm.attachActionButtonNode&&dojo.empty(b.inputForm.attachActionButtonNode),b.modifyPostFunction()},error:function(){console.log("Failed to find InputForm settings at /${connections}/opensocial/basic/rest/ublog/@config/settings")}})},modifyPostFunction:function(){this.inputForm.postMicroblog=function(c,b){this._setPostButtonLabel(this._resourceBundle.POSTING);this._setSubmitState(!0);var a=this._buildRequestObj(c,b),d=this._getPostUrlForContext(),d=d.slice(d.lastIndexOf("/connections"));this.xhrHandler.xhrPost({serviceUrl:d,
postData:f.stringify(a),handleAs:"json",load:dojo.hitch(this,function(a){this.isGlobalSharebox?dojo.publish(this.AS_UPDATE,[a.entry.id]):dojo.publish(this.TOPIC_POST_MESSAGE,[a]);this._setInitialState();this._setSubmitState(!1);this._displaySuccessMessage();this.isGlobalSharebox?(this._closeSharebox(),this.setShareMode(lconn.news.microblogging.sharebox.constants.SHAREWITHEVERYONE),dojo.publish(lconn.news.microblogging.sharebox.events.STATUSSHAREBOX_CLOSING)):(this.mbSuccessClose.focus(),this.textBoxControl.collapseTextBox());
this._setPostButtonLabel(this._resourceBundle.POST)}),error:dojo.hitch(this,function(a){this._handlePostError(a)}),headers:{"Content-Type":"application/json"}})}}})})},"sbt/connections/controls/bookmarks/BookmarkGrid":function(){define("../../../declare,../../../controls/grid/Grid,../../../store/parameter,../../../connections/BookmarkConstants,../../../connections/CommunityConstants,./BookmarkGridRenderer".split(","),function(i,f,c,h,b,a){c={pageNumber:c.oneBasedInteger("page"),pageSize:c.oneBasedInteger("ps"),
sortBy:c.sortField("sortBy",{date:"created",popularity:"popularity"}),sortOrder:c.sortOrder("sortOrder")};return i(f,{options:{any:{storeArgs:{url:h.AtomBookmarksAll,attributes:h.BookmarkXPath,feedXPath:h.BookmarkFeedXPath,paramSchema:c},rendererArgs:null},community:{storeArgs:{url:b.AtomCommunityBookmarks,attributes:h.BookmarkXPath,feedXPath:h.BookmarkFeedXPath,paramSchema:c},rendererArgs:null}},defaultOption:"any",constructor:function(){var a=this.renderer.nls;this._sortInfo={date:{title:a.date,
sortMethod:"sortByDate",sortParameter:"date"},popularity:{title:a.popularity,sortMethod:"sortByPopularity",sortParameter:"popularity"}};this._activeSortAnchor=this._sortInfo.date;this._activeSortIsDesc=!0},buildUrl:function(a,b,c){return this.constructUrl(a,"private"==this.type?{access:"private"}:"public"==this.type?{access:"public"}:"community"==this.type?{communityUuid:this.communityUuid}:{access:"any"},{},c)},createDefaultRenderer:function(b){return new a(b)},getSortInfo:function(){return{active:{anchor:this._activeSortAnchor,
isDesc:this._activeSortIsDesc},list:[this._sortInfo.date,this._sortInfo.popularity]}},filterByTag:function(a,b,c){this._stopEvent(c);this._filter({tag:a.text},b)},sortByDate:function(a,b,c){this._sort("date",!0,a,b,c)},sortByPopularity:function(a,b,c){this._sort("popularity",!0,a,b,c)},handleClick:function(a,b,c){this._stopEvent(c);this.bookmarkAction.execute(b)},bookmarkAction:{getTooltip:function(a){return a.getValue("title")},execute:function(a){a=a.getValue("url");window.location.assign(a)}}})})},
"sbt/connections/BookmarkConstants":function(){define(["../lang","./ConnectionsConstants"],function(i,f){return i.mixin({BookmarkFeedXPath:f.ConnectionsFeedXPath,BookmarkXPath:{entry:"/a:entry",uid:"a:id",BookmarkUuid:"a:id",title:"a:title",privateFlag:"a:category[@term='private' and @scheme='http://www.ibm.com/xmlns/prod/sn/flags']",categoryType:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/type']/@term",content:"a:content",updated:"a:updated",published:"a:published",link:"a:link[not(@rel)]/@href",
linkEdit:"a:link[@rel='edit']/@href",linkSame:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/same']/@href",url:"a:link[1]/@href",authorId:"a:author/snx:userid",authorName:"a:author/a:name",authorEmail:"a:author/a:email",authorUri:"a:author/a:uri",tags:"a:category[not(@scheme)]/@term",clickcount:"snx:clickcount"},AtomBookmarksAll:"/${dogear}/atom",AtomBookmarksPopular:"/${dogear}/atom/popular",AtomBookmarksMyNotifications:"/${dogear}/atom/mynotifications",AtomBookmarksINotifiedMySentNotifications:"/${dogear}/atom/mysentnotifications",
AtomBookmarksTags:"/${dogear}/tags",AtomBookmarkCreateUpdateDelete:"/${dogear}/api/app"},f)})},"sbt/connections/CommunityConstants":function(){define(["../lang","./ConnectionsConstants"],function(i,f){return i.mixin({Public:"public",Moderated:"publicInviteOnly",Restricted:"private",Owner:"owner",Member:"member",CommunityFeedXPath:f.ConnectionsFeedXPath,CommunityXPath:{entry:"/a:entry",uid:"a:id",communityUuid:"a:id",communityTheme:"snx:communityTheme",title:"a:title",summary:"a:summary[@type='text']",
communityUrl:"a:link[@rel='alternate']/@href",communityAtomUrl:"a:link[@rel='self']/@href",logoUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/logo']/@href",tags:"a:category[not(@scheme)]/@term",content:"a:content[@type='html']",memberCount:"snx:membercount",communityType:"snx:communityType",published:"a:published",updated:"a:updated",authorUserid:"a:author/snx:userid",authorName:"a:author/a:name",authorEmail:"a:author/a:email",contributorUserid:"a:contributor/snx:userid",contributorName:"a:contributor/a:name",
contributorEmail:"a:contributor/a:email"},MemberXPath:{entry:"/a:entry",uid:"a:contributor/snx:userid",userid:"a:contributor/snx:userid",name:"a:contributor/a:name",email:"a:contributor/a:email",role:"snx:role"},InviteXPath:{entry:"/a:entry",uid:"a:id",inviteUuid:"a:id",title:"a:title",content:"a:content[@type='text']",updated:"a:updated",authorUserid:"a:author/snx:userid",authorName:"a:author/a:name",contributorUserid:"a:contributor/snx:userid",contributorName:"a:contributor/a:name",contributorEmail:"a:contributor/a:email",
contributorUserState:"a:contributor/snx:userState",communityUuid:"snx:communityUuid",communityUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/community']/@href",editUrl:"a:link[@rel='edit']/@href"},EventXPath:{entry:"/a:entry",uid:"a:id",eventUuid:"snx:eventUuid",eventInstUuid:"snx:eventInstUuid",title:"a:title",eventAtomUrl:"a:link[@rel='self']/@href",content:"a:content[@type='html']",location:"snx:location",authorUserid:"a:author/snx:userid",authorName:"a:author/a:name",authorEmail:"a:author/a:email",
authorState:"a:author/snx:userState",updated:"a:updated",communityLink:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/container']/@href",eventAtomInstances:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/calendar/event/instances']/@href",eventAtomAttendees:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/calendar/event/attend']/@href",eventAtomFollowers:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/calendar/event/follow']/@href",frequency:"snx:recurrence/@frequency",interval:"snx:recurrence/@interval",
until:"snx:recurrence/snx:until",allDay:"snx:recurrence/snx:allday",startDate:"snx:recurrence/snx:startDate",endDate:"snx:recurrence/snx:endDate",byDay:"snx:recurrence/snx:byDay"},AtomCommunitiesAll:"/${communities}/service/atom/communities/all",AtomCommunitiesMy:"/${communities}/service/atom/communities/my",AtomCommunityInvitesMy:"/${communities}/service/atom/community/invites/my",AtomCommunityInvites:"${communities}/service/atom/community/invites",AtomCommunitySubCommunities:"${communities}/service/atom/community/subcommunities",
AtomCommunityMembers:"${communities}/service/atom/community/members",AtomCommunityInstance:"${communities}/service/atom/community/instance",AtomCommunityForumTopics:"/${communities}/service/atom/community/forum/topics",AtomCommunityBookmarks:"/${communities}/service/atom/community/bookmarks",AtomCommunityEvents:"/${communities}/calendar/atom/calendar/event",AtomCommunityEvent:"/${communities}/calendar/atom/calendar/event",AtomCommunityInvites:"/${communities}/service/atom/community/invites"},f)})},
"sbt/connections/controls/bookmarks/BookmarkGridRenderer":function(){define("../../../declare,../../../i18n,../../../connections/controls/ConnectionsGridRenderer,../../../text!../../../connections/controls/bookmarks/templates/BookmarkRow.html,../../../text!../../../connections/controls/bookmarks/templates/TagAnchor.html,../../../i18n!../../../connections/controls/bookmarks/nls/BookmarkGridRenderer,../../../lang".split(","),function(i,f,c,h,b,a,d){return i(c,{_nls:a,constructor:function(){this.template=
h;this.tagAnchorTemplate=b},tooltip:function(a,b){return a.bookmarkAction.getTooltip(b)},tagsAnchors:function(a,b,c){a=b.getValue("tags");if(void 0==a)return"";b="";if(d.isArray(a))for(c=0;c<a.length;c++)b+=this._substitute(this.tagAnchorTemplate,{tagName:a[c]}),c+1<a.length&&(b+=", ");else d.isString(a)&&(b=this._substitute(this.tagAnchorTemplate,{tagName:a}));return b},getUserProfileHref:function(a,b){return this.getProfileUrl(a,b.getValue("authorId"))}})})},"sbt/connections/controls/bootstrap/CommunityRendererMixin":function(){define(["../../../lang",
"../../../controls/grid/bootstrap/GridRendererMixin","../../../text!./templates/CommunityRow.html","../../../text!./templates/TagAnchor.html"],function(i,f,c,h){return i.mixin(f,{template:c,tagAnchorTemplate:h})})},"sbt/controls/grid/bootstrap/GridRendererMixin":function(){define(["../../../text!./templates/GridPager.html","../../../text!./templates/GridSorter.html","../../../text!./templates/SortAnchor.html"],function(i,f,c){return{tableClass:"table  table-striped table-bordered",emptyClass:"label label-info",
errorClass:"label label-warning",loadingClass:"label label-info",loadingImgClass:"icon-refresh",firstClass:"",defaultSortClass:"icon-arrow-down",ascendingSortClass:"icon-arrow-up",descendingSortClass:"icon-arrow-down",pagerTemplate:i,sortTemplate:f,sortAnchor:c}})},"sbt/connections/controls/bootstrap/FileRendererMixin":function(){define(["../../../lang","../../../controls/grid/bootstrap/GridRendererMixin","../../../text!./templates/FileRow.html"],function(i,f,c){return i.mixin(f,{template:c})})},
"sbt/connections/controls/bootstrap/ProfileRendererMixin":function(){define(["../../../lang","../../../controls/grid/bootstrap/GridRendererMixin","../../../text!./templates/ProfileRow.html"],function(i,f,c){return i.mixin(f,{template:c})})},"sbt/connections/controls/communities/CommunityAction":function(){define(["../../../declare","../../../controls/grid/GridAction","../../../stringUtil"],function(i,f,c){return i(f,{nls:{tooltip:"{title}"},constructor:function(){},getTooltip:function(f){return c.replace(this.nls.tooltip,
{title:f.getValue("title")})},execute:function(c){window.open(c.getValue("communityUrl"))}})})},"sbt/connections/controls/communities/CommunityGrid":function(){define("../../../declare,../../../controls/grid/Grid,./CommunityGridRenderer,./CommunityAction,../../../connections/controls/vcard/SemanticTagService,../../../config,../../../connections/CommunityConstants,../../../store/parameter".split(","),function(i,f,c,h,b,a,d,g){a={pageNumber:g.oneBasedInteger("page"),pageSize:g.oneBasedInteger("ps"),
sortBy:g.sortField("sortField",{date:"modified",popularity:"count",name:"title"}),sortOrder:g.booleanSortOrder("asc")};return i(f,{contextRootMap:{communities:"communities"},options:{"public":{storeArgs:{url:d.AtomCommunitiesAll,attributes:d.CommunityXPath,feedXPath:d.CommunityFeedXPath,paramSchema:a},rendererArgs:null},my:{storeArgs:{url:d.AtomCommunitiesMy,attributes:d.CommunityXPath,feedXPath:d.CommunityFeedXPath,paramSchema:a},rendererArgs:null},invited:{storeArgs:{url:d.AtomCommunityInvitesMy,
attributes:d.CommunityXPath,feedXPath:d.CommunityFeedXPath,paramSchema:a},rendererArgs:null}},communityAction:new h,defaultOption:"public",constructor:function(){var a=this.renderer.nls;this._sortInfo={date:{title:a.date,sortMethod:"sortByDate",sortParameter:"date"},popularity:{title:a.popularity,sortMethod:"sortByPopularity",sortParameter:"popularity"},name:{title:a.name,sortMethod:"sortByName",sortParameter:"name"}};this._activeSortAnchor=this._sortInfo.date;this._activeSortIsDesc=!0},createDefaultRenderer:function(a){return new c(a)},
postCreate:function(){this.inherited(arguments);b.loadSemanticTagService()},handleClick:function(a,b,c){this.communityAction&&(this._stopEvent(c),this.communityAction.execute(b,{grid:this.grid},c))},filterByTag:function(a,b,c){this._stopEvent(c);this._filter({tag:a.text},b)},getSortInfo:function(){return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},list:[this._sortInfo.date,this._sortInfo.popularity,this._sortInfo.name]}},sortByDate:function(a,b,c){this._sort("date",!0,a,b,
c)},sortByPopularity:function(a,b,c){this._sort("popularity",!0,a,b,c)},sortByName:function(a,b,c){this._sort("name",!1,a,b,c)}})})},"sbt/connections/controls/communities/CommunityGridRenderer":function(){define("../../../declare,../../../stringUtil,../../../i18n,../../../lang,../../../connections/controls/ConnectionsGridRenderer,../../../text!../../../connections/controls/communities/templates/CommunityRow.html,../../../text!../../../connections/controls/communities/templates/TagAnchor.html,../../../i18n!../../../connections/controls/communities/nls/CommunityGridRenderer".split(","),
function(i,f,c,h,b,a,d,g){return i(b,{_nls:g,template:a,tagAnchorTemplate:d,constructor:function(){},rowClass:function(a,b,c){return 0===c?"placeRow lotusFirst":"placeRow"},tooltip:function(a,b){if(a.communityAction)return a.communityAction.getTooltip(b)},communityImage:function(a,b){var c=b.getValue("logoUrl");return a.encodeImageUrl(c)},numOfMembers:function(a,b){var c=b.getValue("memberCount");return 1==c?this.nls.person:f.replace(this.nls.people,{memberCount:c})},updatedDate:function(a,b){return c.getUpdatedLabel(b.getValue("updated"))},
displayTags:function(a,b){return void 0==b.getValue("tags")?"display: none":""},displayRestricted:function(a,b){var c=b.getValue("communityType");return void 0==c||"publicInviteOnly"!=c?"display: none;":"display: inline-block;"},tagsLabel:function(a,b){return void 0==b.getValue("tags")?"":this.nls.tags},tagsAnchors:function(a,b,c){a=b.getValue("tags");if(void 0==a)return"";b="";if(h.isArray(a))for(c=0;c<a.length;c++)b+=this._substitute(this.tagAnchorTemplate,{tagName:a[c]}),c+1<a.length&&(b+=", ");
else h.isString(a)&&(b=this._substitute(this.tagAnchorTemplate,{tagName:a}));return b},getUserProfileHref:function(a,b){return this.getProfileUrl(a,b.getValue("authorUserid"))}})})},"sbt/connections/controls/vcard/SemanticTagService":function(){define(["../../../declare","../../../Endpoint","dojo/_base/config","sbt/config"],function(i,f,c,h){var i=i(null,{}),b,a,d,g;i.loadSemanticTagService=function(e){if(b)e.error&&e.error(b);else if(!a&&!d){a=!0;var j=!1;if(e&&e.inclDojo)j=e.inclDojo;var k=h.findEndpoint("connections");
if(e&&e.endpoint)k=e.endpoint;var f=k.proxy.proxyUrl+"/"+k.proxyPath;if(!g)g=k.baseUrl;var n="en";if(c)c.proxy=f,n=c.locale;k.xhrGet({serviceUrl:"/profiles/ibm_semanticTagServlet/javascript/semanticTagService.js?inclDojo="+j,handleAs:"text",headers:{"Accept-Language":n+",en;q=0.8"},load:function(c){a=!1;try{var g=c.replace(RegExp(k.baseUrl,"g"),f);eval(g);d=!0}catch(j){b=j,e&&e.error&&e.error(j)}},error:function(c){a=!1;b=c;e&&e.error&&e.error(c)}})}};return i})},"sbt/Endpoint":function(){define("./declare,./lang,./ErrorTransport,./Promise,./pathUtil,./compat,./log,./stringUtil,sbt/i18n!sbt/nls/Endpoint,./xml".split(","),
function(i,f,c,h,b,a,d,g,e,j){return i(null,{baseUrl:null,proxy:null,proxyPath:null,transport:null,authenticator:null,authType:null,loginUi:"",loginPage:null,dialogLoginPage:null,autoAuthenticate:null,isAuthenticated:!1,authenticationErrorCode:null,constructor:function(a){f.mixin(this,a||{})},request:function(a,c){var d=a;0!=d.indexOf("http")&&(d=this.proxy?this.proxy.rewriteUrl(this.baseUrl,a,this.proxyPath):b.concat(this.baseUrl,a));c||(c={method:"GET",handleAs:"text"});var e=new h;e.response=new h;
var g=this;this.transport.request(d,c).response.then(function(b){"form"==g.authType&&g._isAuthRequiredFormBasedEP(b,c)&&g._authenticate(a,c,e);e.fulfilled(b.data);e.response.fulfilled(b)},function(b){if(!b.message)b.message=g.getErrorMessage(b.cause);g._isAuthRequired(b,c).then(function(d){d?g._authenticate(a,c,e):(e.rejected(b),e.response.rejected(b))},function(a){e.rejected(a);e.response.rejected(a)})});return e},xhr:function(a,c,d){var e=this,g=f.mixin({},c);if(!g.url)g.url=this.proxy?this.proxy.rewriteUrl(this.baseUrl,
g.serviceUrl,this.proxyPath):b.concat(this.baseUrl,g.serviceUrl);delete g.load;delete g.error;g.handle=function(b,j){if(b instanceof Error){if(!b.message)b.message=e.getErrorMessage(b.cause);var f=!1;403==b.code&&403==e.authenticationErrorCode&&e.isAuthenticated&&(f=!0);if(401==b.code||!f&&b.code==e.authenticationErrorCode)if(f=g.autoAuthenticate||e.autoAuthenticate,void 0==f&&(f=!0),f&&e.authenticator&&(options={dialogLoginPage:e.loginDialogPage,loginPage:e.loginPage,transport:e.transport,proxy:e.proxy,
proxyPath:e.proxyPath,loginUi:g.loginUi||e.loginUi,name:e.name,callback:function(){e.xhr(a,c,d)}},e.authenticator.authenticate(options)))return;e._notifyError(c,b,j)}else e._notifyResponse(c,b,j)};this.transport.xhr(a,g,d)},xhrGet:function(a){this.xhr("GET",a)},xhrPost:function(a){this.xhr("POST",a,!0)},xhrPut:function(a){this.xhr("PUT",a,!0)},xhrDelete:function(a){this.xhr("DELETE",a)},authenticate:function(a){var b=new h,a=a||{};a.forceAuthentication||!this.isAuthenticated?this.authenticator.authenticate({dialogLoginPage:this.loginDialogPage,
loginPage:this.loginPage,transport:this.transport,proxy:this.proxy,proxyPath:this.proxyPath,loginUi:a.loginUi||this.loginUi,name:this.name,callback:function(a){b.fulfilled(a)},cancel:function(a){b.rejected(a)}}):b.fulfilled(!0);return b},logout:function(){var a=new h,b=this,c=this.proxy.proxyUrl;this.transport.xhr("POST",{handleAs:"json",url:c.substring(0,c.lastIndexOf("/"))+"/authHandler/"+this.proxyPath+"/logout",load:function(c){b.isAuthenticated=!1;a.fulfilled(c)},error:function(c){b.isAuthenticated=
!1;a.rejected(c)}},!0);return a},isAuthenticated:function(){var a=new h,b=this,c=this.proxy.proxyUrl;this.transport.xhr("POST",{handleAs:"json",url:c.substring(0,c.lastIndexOf("/"))+"/authHandler/"+this.proxyPath+"/isAuth",load:function(c){b.isAuthenticated=!0;a.fulfilled(c)},error:function(b){a.rejected(b)}},!0);return a},isAuthenticationValid:function(){var a=new h,b=this,c=this.proxy.proxyUrl;this.transport.xhr("POST",{handleAs:"json",url:c.substring(0,c.lastIndexOf("/"))+"/authHandler/"+this.proxyPath+
"/isAuthValid",load:function(c){b.isAuthenticated=c.result;a.fulfilled(c)},error:function(b){a.rejected(b)}},!0);return a},_notifyError:function(a,b,c){if(a.handle)try{a.handle(b,c)}catch(d){}if(a.error)try{a.error(b,c)}catch(e){}},_notifyResponse:function(a,b,c){if(a.handle)try{a.handle(b,c)}catch(d){}if(a.load)try{a.load(b,c)}catch(e){}},_authenticate:function(a,b,c){var d=this;return this.authenticator.authenticate({dialogLoginPage:this.loginDialogPage,loginPage:this.loginPage,transport:this.transport,
proxy:this.proxy,proxyPath:this.proxyPath,loginUi:b.loginUi||this.loginUi,name:this.name,callback:function(){d.request(a,b).response.then(function(a){c.fulfilled(a.data);c.response.fulfilled(a)},function(a){c.rejected(a);c.response.rejected(a)})},cancel:function(){d._authRejected=!0;var a=Error();a.message="Authentication is required and has failed or has not yet been provided.";a.code=401;c.rejected(a);c.response.rejected(a)}})},_isAuthRequired:function(a,b){var c=new h,d=a.response.status||null,
d=401==d||d==this.authenticationErrorCode;if(this.isAuthenticated)d?this.isAuthenticationValid().then(function(a){c.fulfilled(!a.result)},function(a){c.rejected(a)}):c.fulfilled(!1);else{var e=b.autoAuthenticate||this.autoAuthenticate;void 0==e&&(e=!0);c.fulfilled(d&&e&&this.authenticator&&!this._authRejected)}return c},_isAuthRequiredFormBasedEP:function(a){return 200==a.status&&"text/html"==a.getHeader("Content-Type")?!0:!1},getErrorMessage:function(a){var b=a.responseText||a.response&&a.response.text;
if(b){try{var c=j.parse(b).getElementsByTagName("message");c&&0!=c.length&&(b=c[0].text||c[0].textContent,b=f.trim(b))}catch(d){}return b.replace(/(\r\n|\n|\r)/g,"")?b:a.message}return a}})})},"sbt/ErrorTransport":function(){define("./declare,./lang,./Promise,./stringUtil,./log,sbt/i18n!sbt/nls/ErrorTransport".split(","),function(i,f,c,h,b,a){return i(null,{_called:!1,_endpointName:null,_message:null,constructor:function(b,c){this._endpointName=b;this._message=c?c:h.substitute(a.endpoint_not_available,
[b])},request:function(){if(!this._called)alert(this._message),this._called=!0;var a=new c,b=Error(this._message);b.status=400;a.rejected(b);return a},xhr:function(a,c){if(!this._called)b.error(this._message),this._called=!0;var e=c.handle,j=c.error;if(f.isFunction(j)||f.isFunction(e)){var h=Error(this._message);h.status=400;f.isFunction(j)&&j(h);f.isFunction(e)&&e(h)}}})})},"sbt/Promise":function(){define(["./declare","./log"],function(i){var f=i(null,{_isRejected:!1,_isFulfilled:!1,_isCanceled:!1,
_deferreds:null,response:null,error:null,constructor:function(c){c?c instanceof Error?this.rejected(c):this.fulfilled(c):this._deferreds=[]},then:function(c,h){var b=new f;this._isFulfilled?this._fulfilled(c,h,b,this.data):this._isRejected?this._rejected(h,b,this.error):this._deferreds.push([c,h,b]);return b},cancel:function(){this._isCanceled=!0},isResolved:function(){return this._isRejected||this._isFulfilled},isRejected:function(){return this._isRejected},isFulfilled:function(){return this._isFulfilled},
isCanceled:function(){return this._isCanceled},fulfilled:function(c){if(!this._isCanceled&&(this._isFulfilled=!0,this.data=c,this._deferreds))for(;0<this._deferreds.length;){var f=this._deferreds.shift();this._fulfilled(f[0],f[1],f[2],c)}},rejected:function(c){if(!this._canceled&&(this._isRejected=!0,this.error=c,this._deferreds))for(;0<this._deferreds.length;){var f=this._deferreds.shift();this._rejected(f[1],f[2],c)}},_fulfilled:function(c,h,b,a){if(c)try{var d=c(a);d instanceof f?d.then(function(a){b.fulfilled(a)},
function(a){b.rejected(a)}):b.fulfilled(d)}catch(g){b.rejected(g)}else b.fulfilled(a)},_rejected:function(c,f,b){if(c)try{var a=c(b);a||f.rejected(a)}catch(d){f.rejected(d)}else f.rejected(b)}});return f})},"sbt/pathUtil":function(){define(["./stringUtil"],function(i){return{concat:function(f,c){if(!f)return c;if(!c)return f;i.endsWith(f,"/")&&(f=f.substring(0,f.length-1));i.startsWith(c,"/")&&(c=c.substring(1));return f+"/"+c},isAbsolute:function(f){return 0<=f.indexOf("://")}}})},"sbt/compat":function(){define([],
function(){if(!Array.prototype.indexOf)Array.prototype.indexOf=function(i,f){for(var c=f||0,h=this.length;c<h;c++)if(this[c]===i)return c;return-1};return{}})},"sbt/connections/controls/communities/CommunityMembersAction":function(){define(["../../../declare","../../../controls/grid/GridAction","sbt/connections/CommunityService","sbt/connections/CommunityConstants"],function(i,f,c,h){return i(f,{nls:{tooltip:"Go to ${name}"},constructor:function(){},getTooltip:function(){},execute:function(){},removeMember:function(b,
a,c){_removeMember(b,a,c)},updateMember:function(b,a,d,g,e){var j=new c,f=document.getElementById("rbOwner"+d.uid);j.getMembers(e).then(function(a){for(var c=0;c<a.length;c++){var g=a[c];if(g.getUserid()==d.uid){f.checked?g.setRole(h.Owner):g.setRole(h.Member);j.updateMember(e,g).then(function(){b.update(null)},function(a){console.log(a)});break}}},function(a){console.log(a)})},closeEditForm:function(b,a,c){document.getElementById("editTable"+c.uid).style.display="none"},openEditForm:function(b){document.getElementById("editTable"+
b.uid).style.display="block"},removeMember:function(b,a,d){var g=new c;g.getMembers(currentCommunity).then(function(c){for(var j=0;j<c.length;j++){var f=c[j];if(f.getUserid()==d.uid){g.getCommunity(currentCommunity).then(function(c){c.removeMember(f.getUserid(),{}).then(function(){b.update(null);a.parentNode.removeChild(container)},function(a){console.log(a)})},function(a){console.log(a)});break}}},function(a){console.log(a)})}})})},"sbt/connections/CommunityService":function(){define("../declare,../config,../lang,../stringUtil,../Promise,./CommunityConstants,../base/BaseService,../base/BaseEntity,../base/XmlDataHandler,./ForumService,../pathUtil".split(","),
function(i,f,c,h,b,a,d,g,e,j){var k=i(e,{getEntityId:function(){var a=h.trim(this.getAsString("uid"));return q(this.service,a)}}),m=i(g,{constructor:function(){},getCommunityUuid:function(){var a=this.getAsString("communityUuid");return q(this.service,a)},setCommunityUuid:function(a){return this.setAsString("communityUuid",a)},getTitle:function(){return this.getAsString("title")},setTitle:function(a){return this.setAsString("title",a)},getCommunityType:function(){return this.getAsString("communityType")},
setCommunityType:function(a){return this.setAsString("communityType",a)},getCommunityTheme:function(){return this.getAsString("communityTheme")},setCommunityTheme:function(a){return this.setAsString("communityTheme",a)},getContent:function(){return this.getAsString("content")},setContent:function(a){return this.setAsString("content",a)},getTags:function(){return this.getAsArray("tags")},setTags:function(a){return this.setAsArray("tags",a)},getAuthor:function(){return this.getAsObject(["authorUserid",
"authorName","authorEmail"])},getContributor:function(){return this.getAsObject(["contributorUserid","contributorName","contributorEmail"])},getSummary:function(){return this.getAsString("summary")},getCommunityUrl:function(){return this.getAsString("communityUrl")},getLogoUrl:function(){return this.getAsString("logoUrl")},getMemberCount:function(){return this.getAsNumber("memberCount")},getPublished:function(){return this.getAsDate("published")},getUpdated:function(){return this.getAsDate("updated")},
getForumTopics:function(a){return this.service.getForumTopics(this.getCommunityUuid(),a)},createForumTopic:function(a,b,c){return this.service.createForumTopic(this.getCommunityUuid(),b,c)},getSubCommunities:function(a){return this.service.getSubCommunities(this.getCommunityUuid(),a)},getMembers:function(a){return this.service.getMembers(this.getCommunityUuid(),a)},addMember:function(a,b){return this.service.addMember(this.getCommunityUuid(),a,b)},removeMember:function(a,b){return this.service.removeMember(this.getCommunityUuid(),
a,b)},getMember:function(a,b){return this.service.getMember(this.getCommunityUuid(),a,b)},getAllInvites:function(a){return this.service.getAllInvites(this.getCommunityUuid(),a)},getForums:function(a){var b=this.service.getForumService(),a=c.mixin(a||{},{communityUuid:this.getCommunityUuid()});return b.getForums(a)},load:function(b){var d=this.getCommunityUuid(),e=this.service._validateCommunityUuid(d);if(e)return e;var g=this,b={handleAs:"text",query:c.mixin({communityUuid:d},b||{})};return this.service.getEntity(a.AtomCommunityInstance,
b,d,{createEntity:function(b,c){g.setDataHandler(new k({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityXPath}));return g}})},remove:function(a){return this.service.deleteCommunity(this.getCommunityUuid(),a)},update:function(a){return this.service.updateCommunity(this,a)},save:function(a){return this.getCommunityUuid()?this.service.updateCommunity(this,a):this.service.createCommunity(this,a)}}),n=i(g,{communityUuid:null,constructor:function(){this.getRole()||this.setRole(a.Member)},getCommunityUuid:function(){return this.communityUuid},
getName:function(){return this.getAsString("name")},setName:function(a){return this.setAsString("name",a)},getUserid:function(){return this.getAsString("userid")},setUserid:function(a){return this.setAsString("userid",a)},getEmail:function(){return this.getAsString("email")},setEmail:function(a){return this.setAsString("email",a)},getRole:function(){return this.getAsString("role")},setRole:function(a){return this.setAsString("role",a)},load:function(b){var d=this.communityUuid,g=this.service._validateCommunityUuid(d);
if(g)return g;var j=this,d={communityUuid:d},g=null,g=this.getUserid()?d.userid=this.getUserid():d.email=this.getEmail(),d=c.mixin(d,b||{});return this.service.getEntity(a.AtomCommunityMembers,{handleAs:"text",query:d},g,{createEntity:function(b,c){j.setDataHandler(new e({data:c,namespaces:a.Namespaces,xpath:a.MemberXPath}));j.id=j.dataHandler.getEntityId();return j}})},remove:function(a){var b=this.getUserid()||this.getEmail();return this.service.removeMember(this.getCommunityUuid(),b,a)}}),p=i(g,
{communityUuid:null,userid:null,inviteeUuid:null,constructor:function(a){this.inherited(arguments,[a])},getInviteUuid:function(){var a=this.getAsString("inviteUuid");return a&&0==a.indexOf("urn:lsid:ibm.com:communities:invite-")?a.substring(36):a},setInviteUuid:function(a){return this.setAsString("inviteUuid",a)},setCommunityUuid:function(a){this.communityUuid=a;return this},getCommunityUuid:function(){if(!this.communityUuid)this.communityUuid=this.service.getUrlParameter(this.getAsString("communityUrl"),
"communityUuid");return this.communityUuid},setInviteeUuid:function(a){this.inviteeUuid=a;return this},getInviteeUuid:function(){if(!this.inviteeUuid){var a=this.getInviteUuid(),b=this.getCommunityUuid();this.inviteeUuid=a&&0==a.indexOf(b)?a.substring(b.length+1):a}return this.inviteeUuid},setUserid:function(a){this.userid=a;return this},getUserid:function(){if(!this.userid&&this.getContributor())this.userid=this.getContributor().userid||null;return this.userid},setEmail:function(a){this.email=a;
return this},getEmail:function(){if(!this.email&&this.getContributor())this.email=this.getContributor().email||null;return this.email},getId:function(){return this.getAsString("uid")},getTitle:function(){return this.getAsString("title")},setTitle:function(a){return this.setAsString("title",a)},getContent:function(){return this.getAsString("content")},setContent:function(a){return this.setAsString("content",a)},getUpdated:function(){return this.getAsDate("updated")},getAuthor:function(){return this.getAsObject(["authorUserid",
"authorName"],["userid","name"])},getContributor:function(){return this.getAsObject(["contributorUserid","contributorName","contributorEmail","contributorUserState"],["userid","name","email","userState"])},load:function(b){var d=this.getCommunityUuid(),g=this.service._validateCommunityUuid(d);if(g)return g;var j=this.getInviteeUuid();if(g=this.service._validateUserid(j))return g;var r=this,b={handleAs:"text",query:c.mixin({communityUuid:d,userid:j},b||{})};return this.service.getEntity(a.AtomCommunityInvites,
b,d+"-"+j,{createEntity:function(b,c){r.setDataHandler(new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.InviteXPath}));return r}})},remove:function(a){return this.service.removeInvite(this,a)},update:function(a){return this.service.updateInvite(this,a)},save:function(a){return this.getInviteUuid()?this.service.updateInvite(this,a):this.service.createInvite(this,a)}}),o=i(g,{constructor:function(a){this.inherited(arguments,[a])},getCommunityUuid:function(){return this.getAsString("communityUuid")},
getId:function(){return this.getAsString("uid")},getEventUuid:function(){return this.getAsString("eventUuid")},getEventInstUuid:function(){return this.getAsString("eventInstUuid")},getTitle:function(){return this.getAsString("title")},setTitle:function(a){return this.setAsString("title",a)},getSummary:function(){return this.getAsString("summary")},setSummary:function(a){return this.setAsString("summary",a)},getEventAtomUrl:function(){return this.getAsString("eventAtomUrl")},getFullEvent:function(){return this.service.getEvent(this.getEventInstUuid())},
getContent:function(){return this.getAsString("content")},getLocation:function(){return this.getAsString("location")},getAuthor:function(){if(!this._author)this._author={userid:this.getAsString("authorUserid"),name:this.getAsString("authorName"),email:this.getAsString("authorEmail"),authorState:this.getAsString("authorState")};return this._author},getRecurrence:function(){if(!this._recurrence)this._recurrence={frequency:this.getAsString("frequency"),interval:this.getAsString("interval"),until:this.getAsString("until"),
allDay:this.getAsString("allDay"),startDate:this.getAsString("startDate"),endDate:this.getAsString("endDate"),byDay:this.getAsString("byDay")};return this._recurrence},getContributor:function(){if(!this._contributor)this._contributor={userid:this.getAsString("contributorUserid"),name:this.getAsString("contributorName")};return this._contributor}}),q=function(a,b){return b&&0==b.indexOf("http")?a.getUrlParameter(b,"communityUuid"):b},v={createEntities:function(b,c){return new k({service:b,data:c,namespaces:a.Namespaces,
xpath:a.CommunityFeedXPath})},createEntity:function(b,c){var d=new k({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityXPath});return new m({service:b,dataHandler:d})}},u={createEntities:function(b,c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityFeedXPath})}},r={createEntities:function(b,c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityFeedXPath})},createEntity:function(b,c){var d=new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.InviteXPath});
return new p({service:b,id:d.getEntityId(),dataHandler:d})}},z={createEntities:function(b,c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityFeedXPath})},createEntity:function(b,c){var d=new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.EventXPath});return new o({service:b,id:d.getEntityId(),dataHandler:d})}},t={createEntity:function(b,c){var d=new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.EventXPath});return new o({service:b,id:d.getEntityId(),dataHandler:d})}},
x={createEntity:function(b,c){var d=new k({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityXPath});return new m({service:b,id:d.getEntityId(),dataHandler:d})}},s={createEntities:function(b,c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityFeedXPath})},createEntity:function(a,b){var c=a.getForumService().newForumTopic({});c.setData(b);return c}};return i(d,{forumService:null,contextRootMap:{communities:"communities"},constructor:function(){if(!this.endpoint)this.endpoint=
f.findEndpoint(this.getDefaultEndpointName())},getDefaultEndpointName:function(){return"connections"},getForumService:function(){if(!this.forumService)this.forumService=new j,this.forumService.endpoint=this.endpoint;return this.forumService},getPublicCommunities:function(b){return this.getEntities(a.AtomCommunitiesAll,{method:"GET",handleAs:"text",query:b||{}},this._getCommunityFeedCallbacks())},getMyCommunities:function(b){return this.getEntities(a.AtomCommunitiesMy,{method:"GET",handleAs:"text",
query:b||{}},this._getCommunityFeedCallbacks())},getMembers:function(b,d){var e=this._validateCommunityUuid(b);if(e)return e;var e={method:"GET",handleAs:"text",query:c.mixin({communityUuid:b},d||{})},g=this._getMemberFeedCallbacks(b);return this.getEntities(a.AtomCommunityMembers,e,g)},getMember:function(a,b,c){a=new n({service:this,communityUuid:a});this.isEmail(b)?a.setEmail(b):a.setUserid(b);return a.load(c)},getCommunityEvents:function(b,d,e,g){var j=this._validateCommunityUuid(b)||this._validateDateTimes(d,
e);if(j)return j;b={calendarUuid:b};d&&c.mixin(b,{startDate:d});e&&c.mixin(b,{endDate:e});g=c.mixin(g,b);return this.getEntities(a.AtomCommunityEvents,{method:"GET",handleAs:"text",query:g||{}},this._getEventFeedCallbacks())},getEvent:function(b){return this.getEntity(a.AtomCommunityEvent,{method:"GET",handleAs:"text",query:{eventInstUuid:b}},b,this._getEventCallbacks())},getMyInvites:function(b){return this.getEntities(a.AtomCommunityInvitesMy,{method:"GET",handleAs:"text",query:b||{}},this._getInviteFeedCallbacks())},
getAllInvites:function(b,d){var e=this._validateCommunityUuid(b);if(e)return e;e={method:"GET",handleAs:"text",query:c.mixin({communityUuid:b},d||{})};return this.getEntities(a.AtomCommunityInvites,e,this._getInviteFeedCallbacks())},getSubCommunities:function(b,d){var e=this._validateCommunityUuid(b);if(e)return e;e={method:"GET",handleAs:"text",query:c.mixin({communityUuid:b},d||{})};return this.getEntities(a.AtomCommunitySubCommunities,e,this._getCommunityFeedCallbacks())},getForumTopics:function(b,
d){var e=this._validateCommunityUuid(b);if(e)return e;e={method:"GET",handleAs:"text",query:c.mixin({communityUuid:b},d||{})};return this.getEntities(a.AtomCommunityForumTopics,e,this._getForumTopicFeedCallbacks())},newCommunity:function(a){return this._toCommunity(a)},newMember:function(a){return this._toMember(a)},newInvite:function(a,b){return this._toInvite(a,b)},getCommunity:function(a,b){return(new m({service:this,_fields:{communityUuid:a}})).load(b)},createCommunity:function(b,c){var d=this._toCommunity(b),
e=this._validateCommunity(d,!1,c);if(e)return e;e={method:"POST",query:c||{},headers:a.AtomXmlHeaders,data:this._constructCommunityPostData(d)};return this.updateEntity(a.AtomCommunitiesMy,e,{createEntity:function(a,b,c){a=this.getLocationParameter(c,"communityUuid");d.setCommunityUuid(a);return d}},c)},updateCommunity:function(b,d){var e=this._toCommunity(b),g=this._validateCommunity(e,!0,d);if(g)return g;g={method:"PUT",query:c.mixin({communityUuid:e.getCommunityUuid()},d||{}),headers:a.AtomXmlHeaders,
data:this._constructCommunityPostData(e)};return this.updateEntity(a.AtomCommunityInstance,g,{createEntity:function(b,c){var d=e.getCommunityUuid();if(c){var g=new k({service:b,data:c,namespaces:a.Namespaces,xpath:a.CommunityXPath});e.setDataHandler(g)}e.setCommunityUuid(d);return e}},d)},deleteCommunity:function(b,d){var e=this._validateCommunityUuid(b);if(e)return e;e={method:"DELETE",query:c.mixin({communityUuid:b},d||{}),handleAs:"text"};return this.deleteEntity(a.AtomCommunityInstance,e,b)},
addMember:function(b,d,e){var g=this._validateCommunityUuid(b);if(g)return g;var j=this._toMember(d);if(g=this._validateMember(j))return g;d={method:"POST",query:c.mixin({communityUuid:b},e||{}),headers:a.AtomXmlHeaders,data:this._constructMemberPostData(j)};return this.updateEntity(a.AtomCommunityMembers,d,{createEntity:function(a,c,d){a=this.getLocationParameter(d,"userid");j.setUserid(a);j.communityUuid=b;return j}},e)},updateMember:function(b,d,e){var g=this.validateField("communityUuid",b);if(g)return g;
d=this._toMember(d);if(g=this._validateMember(d,!0,!0))return g;var g=this._constructMemberPostData(d),b={communityUuid:b},j=d.getEmail()?"email":"userid",d=d.getEmail()?d.getEmail():d.getUserid();b[j]=d;b=c.mixin(b,e||{});return this.updateEntity(a.AtomCommunityMembers,{method:"PUT",headers:a.AtomXmlHeaders,query:b,data:g},{createEntity:function(a,b,c){return c}})},removeMember:function(b,d,e){var g=this._validateCommunityUuid(b);if(g)return g;d=this._toMember(d);if(g=this._validateMember(d))return g;
b={communityUuid:b};g=d.getEmail()?"email":"userid";d=d.getEmail()?d.getEmail():d.getUserid();b[g]=d;b=c.mixin(b,e||{});return this.deleteEntity(a.AtomCommunityMembers,{method:"DELETE",query:b,handleAs:"text"},d)},getInvite:function(a,b){return(new p({service:this,_fields:{communityUuid:a,userid:b}})).load()},createInvite:function(b,d){var g=this._toInvite(b),j=this._validateInvite(g,!0);if(j)return j;j={method:"POST",query:c.mixin({communityUuid:g.getCommunityUuid()},d||{}),headers:a.AtomXmlHeaders,
data:this._constructInvitePostData(g)};return this.updateEntity(a.AtomCommunityInvites,j,{createEntity:function(b,c){var d=new e({data:c,namespaces:a.Namespaces,xpath:a.InviteXPath});g.setDataHandler(d);return g}},d)},removeInvite:function(b,d){var e=this._toInvite(b),g=this._validateInvite(e,!0);if(g)return g;g={method:"DELETE",query:c.mixin({communityUuid:e.getCommunityUuid(),userid:e.getInviteeUuid()},d||{}),handleAs:"text"};e=e.getCommunityUuid()+"-"+e.getInviteeUuid();return this.deleteEntity(a.AtomCommunityInvites,
g,e)},acceptInvite:function(b,d){var e=this._toInvite(b),g=this._validateInvite(e,!0);if(g)return g;g={method:"POST",query:c.mixin({communityUuid:e.getCommunityUuid()},d||{}),headers:a.AtomXmlHeaders,data:this._constructInvitePostData(e)};return this.updateEntity(a.AtomCommunityMembers,g,{createEntity:function(){return e}},d)},createForumTopic:function(b,d,e){var g=this._validateCommunityUuid(b);if(g)return g;var g=this.getForumService(),j=g.newForumTopic(d);if(g=g._validateForumTopic(j,!1,e))return g;
b={method:"POST",query:c.mixin({communityUuid:b},e||{}),headers:a.AtomXmlHeaders,data:j.createPostData()};return this.updateEntity(a.AtomCommunityForumTopics,b,{createEntity:function(a,b,c){a=this.getLocationParameter(c,"topicUuid");j.setTopicUuid(a);j.setData(b);return j}},e)},updateCommunityLogo:function(b,c){var d=this.validateField("File Control Or Id",b);if(d||(d=this.validateHTML5FileSupport()))return d;if(d=this.validateField("CommunityUuid",c))return d;d=null;d=this.getFileControl(b);if(!d)return this.createBadRequestPromise("File Control or ID is required");
filePath=d.value;d=d.files;if(1!=d.length)return this.createBadRequestPromise("Only one file needs to be provided to this API");var e=d[0],d=new FormData;d.append("file",e);var g={communityUuid:c},e=this.constructUrl(a.AtomUpdateCommunityLogo,null,{endpointName:this.endpoint.proxyPath,fileName:encodeURIComponent(e.name)});if(this.endpoint.proxy)e=f.Properties.serviceUrl+e;else return this.createBadRequestPromise("File Proxy is required to run this API");return this.updateEntity(e,{method:"PUT",headers:{"Content-Type":!1,
"Process-Data":!1},query:g,data:d},{createEntity:function(a,b){return b}})},_getCommunityFeedCallbacks:function(){return v},_getForumTopicFeedCallbacks:function(){return s},_getMemberFeedCallbacks:function(b){return c.mixin({createEntity:function(c,d){var e=new k({data:d,namespaces:a.Namespaces,xpath:a.MemberXPath});return new n({service:c,id:e.getEntityId(),communityUuid:b,dataHandler:e})}},u)},_getInviteFeedCallbacks:function(){return r},_getEventFeedCallbacks:function(){return z},_getEventCallbacks:function(){return t},
getCommunityCallbacks:function(){return x},_toCommunity:function(a){if(a instanceof m)return a;c.isString(a)&&(a={communityUuid:a});return new m({service:this,_fields:c.mixin({},a)})},_toInvite:function(a){if(a instanceof p)return a;c.isString(a)&&(a={communityUuid:a});return new p({service:this,_fields:c.mixin({},a)})},_toCommunityUuid:function(a){var b=null;a&&(c.isString(a)?b=a:a instanceof m&&(b=a.getCommunityUuid()));return b},_toMember:function(a){if(a){if(a instanceof n)return a;var b=new n({service:this});
if(c.isString(a))this.isEmail(a)?b.setEmail(a):b.setUserid(a);else{if(a.id&&!a.userid&&!a.email)this.isEmail(a.id)?a.email=a.id:a.userid=a.id,delete a.id;b._fields=c.mixin({},a)}return b}},_validateCommunityUuid:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected communityUuid.")},_validateUserid:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected userid.")},_validateDateTimes:function(a,b){if((!a||0===a.length)&&
(!b||0===b.length))return this.createBadRequestPromise("Invalid date arguments, expected either a startDate, endDate or both as parameters.")},_validateContributorId:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected contributorId.")},_validateCommunity:function(a,b){if(!a||!a.getTitle())return this.createBadRequestPromise("Invalid argument, community with title must be specified.");if(b&&!a.getCommunityUuid())return this.createBadRequestPromise("Invalid argument, community with UUID must be specified.")},
_validateInvite:function(a,b){if(!a||!a.getEmail()&&!a.getUserid()&&!a.getInviteeUuid())return this.createBadRequestPromise("Invalid argument, invite with email or userid or invitee must be specified.");if(b&&!a.getCommunityUuid())return this.createBadRequestPromise("Invalid argument, invite with community UUID must be specified.")},_validateMember:function(a){if(!a||!a.getUserid()&&!a.getEmail())return this.createBadRequestPromise("Invalid argument, member with userid or email must be specified.")},
_constructCommunityPostData:function(b){b=h.transform('<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom" xmlns:app="http://www.w3.org/2007/app" xmlns:snx="http://www.ibm.com/xmlns/prod/sn"><title type="text">${getTitle}</title><content type="html">${getContent}</content><category term="community" scheme="http://www.ibm.com/xmlns/prod/sn/type"></category>${getTags}<snx:communityType>${getCommunityType}</snx:communityType><snx:isExternal>false</snx:isExternal>${getCommunityUuid}${getCommunityTheme}</entry>',
b,function(b,c){if("getTags"==c){var d=b,b="",e;for(e in d)b+=h.transform('<category term="${tag}"></category>',{tag:d[e]})}else"getCommunityType"==c&&!b?b=a.Restricted:"getCommunityUuid"==c&&b?b=h.transform('<snx:communityUuid xmlns:snx="http://www.ibm.com/xmlns/prod/sn">${communityUuid}</snx:communityUuid>',{communityUuid:b}):"getCommunityTheme"==c&&b&&(b=h.transform('<snx:communityTheme xmlns:snx="http://www.ibm.com/xmlns/prod/sn" snx:uuid="default">${ommunityTheme}</snx:communityTheme>',{communityTheme:b}));
return b},b);return h.trim(b)},_constructMemberPostData:function(a){return h.transform('<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom" xmlns:app="http://www.w3.org/2007/app" xmlns:opensearch="http://a9.com/-/spec/opensearch/1.1/" xmlns:snx="http://www.ibm.com/xmlns/prod/sn"><contributor>${getEmail}${getUserid}</contributor><snx:role xmlns:snx="http://www.ibm.com/xmlns/prod/sn" component="http://www.ibm.com/xmlns/prod/sn/communities">${getRole}</snx:role><category term="person" scheme="http://www.ibm.com/xmlns/prod/sn/type"></category></entry>',
a,function(b,c){"getEmail"==c&&b&&(b=h.transform("<email>${email}</email>",{email:b}));"getUserid"==c&&b&&(b=h.transform('<snx:userid xmlns:snx="http://www.ibm.com/xmlns/prod/sn">${userid}</snx:userid>',{userid:b}));"getRole"==c&&(b=a.getRole());return b},a)},_constructInvitePostData:function(a){return h.transform('<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom" xmlns:app="http://www.w3.org/2007/app" xmlns:snx="http://www.ibm.com/xmlns/prod/sn"><category term="invite" scheme="http://www.ibm.com/xmlns/prod/sn/type"></category>${getTitle}${getContent}<contributor>${getEmail}${getUserid}</contributor></entry>',
a,function(b,c){var d=null;"getTitle"==c&&a.getTitle()&&(d=h.transform('<title type="text">${title}</title>',{title:a.getTitle()}));"getContent"==c&&a.getContent()&&(d=h.transform('<content type="text">${content}</content>',{content:a.getContent()}));"getEmail"==c&&a.getEmail()&&(d=h.transform("<email>${email}</email>",{email:a.getEmail()}));"getUserid"==c&&a.getUserid()&&(d=h.transform('<snx:userid xmlns:snx="http://www.ibm.com/xmlns/prod/sn">${userid}</snx:userid>',{userid:a.getUserid()}));return d},
null)}})})},"sbt/base/BaseService":function(){define("../config,../declare,../lang,../log,../stringUtil,../Cache,../Promise,../util".split(","),function(i,f,c,h,b,a,d,g){var e={};return f(null,{endpoint:null,_cache:null,_regExp:/\/{2}/,contextRootMap:{},constructor:function(b){if(b&&b.endpoint)this.endpoint=i.findEndpoint(b.endpoint);if(b&&b.cacheSize)this._cache=new a(b.cacheSize)},constructUrl:function(a,d,e){if(!a)throw Error("BaseService.constructUrl: Invalid argument, url is undefined or null.");
this.endpoint&&(c.mixin(this.contextRootMap,this.endpoint.serviceMappings),a=b.transform(a,this.contextRootMap,function(a,b){return a?a:b},this));e&&(a=b.replace(a,e),-1!=a.indexOf("//")&&(a=a.replace(this._regExp,"/")));if(d)for(param in d)-1==a.indexOf("?")?a+="?":a.indexOf("&")!=a.length-1&&(a+="&"),(e=encodeURIComponent(d[param]))&&(a+=param+"="+e);return a},getEntities:function(a,b,c){var a=this.constructUrl(a),e=this,g=new d;this.request(a,b,null,g).response.then(function(a){g.response=a;try{for(var b=
c.createEntities.apply(e,[e,a.data,a]),d=b.getEntitiesDataArray(),j=[],r=0;r<d.length;r++){var f=c.createEntity.apply(e,[e,d[r],a]);j.push(f)}g.summary=b.getSummary();g.fulfilled(j)}catch(h){a=Error("Invalid response"),a.cause=h,g.rejected(a)}},function(a){g.rejected(a)});return g},getEntity:function(a,b,c,e){var a=this.constructUrl(a),g=this._validateEntityId(c);if(g)return g;var g=new d,f=this.getFromCache(c);if(f)return g.fulfilled(f),g;var q=this;this.request(a,b,c,g).response.then(function(a){g.response=
a;try{var b=e.createEntity.apply(q,[q,a.data,a]);q._cache&&c?q.fullFillOrRejectPromises.apply(q,[c,b,a]):g.fulfilled(b)}catch(d){a=Error("Invalid response"),a.cause=d,q._cache&&c?q.fullFillOrRejectPromises.apply(q,[c,a]):g.rejected(a)}},function(a){q._cache&&c?q.fullFillOrRejectPromises.apply(q,[c,a]):g.rejected(a)});return g},updateEntity:function(a,b,c){var a=this.constructUrl(a),e=this,g=new d;this.endpoint.request(a,b,null,g).response.then(function(a){g.response=a;a=c.createEntity.apply(e,[e,
a.data,a]);a instanceof d?a.then(function(a){g.fulfilled(a)},function(a){g.rejected(a)}):(a.id&&e.removeFromCache(a.id),a.id&&a.data&&e.addToCache(a.id,a),g.fulfilled(a))},function(a){g.rejected(a)});return g},deleteEntity:function(a,b,c){var a=this.constructUrl(a),e=this._validateEntityId(c);if(e)return e;var g=this,e=new d;this.endpoint.request(a,b,c,e).response.then(function(a){e.response=a;e.fulfilled(c);g.removeFromCache(c)},function(a){e.rejected(a)});return e},request:function(a,b,c,d){a=this.constructUrl(a);
this._cache&&c&&this.pushPromise(c,d);return this.endpoint.request(a,b)},pushPromise:function(a,b){h.debug("pushPromise, id : {0}, promise : {1}",a,b);e[a]||(e[a]=[]);e[a].push(b)},fullFillOrRejectPromises:function(a,b,c){h.debug("fullFillOrRejectPromises, id : {0}, data : {1}, response : {2}",a,b,c);this.addToCache(a,b);var d=e[a];if(d){delete e[a];for(a=0;a<d.length;a++)this.fullFillOrReject.apply(this,[d[a],b,c])}},fullFillOrReject:function(a,b,c){if(a)try{a.response=c,b instanceof Error?a.rejected(b):
a.fulfilled(b)}catch(d){h.debug("fullFillOrReject: "+d.message)}},addToCache:function(a,b){this._cache&&!(b instanceof Error)&&this._cache.put(a,b)},removeFromCache:function(a){this._cache&&this._cache.remove(a)},getFromCache:function(a){if(this._cache)return this._cache.get(a)},createBadRequestError:function(a){var b=Error();b.code=400;b.message=a;return b},createBadRequestPromise:function(a){return new d(this.createBadRequestError(a))},isEmail:function(a){return a&&0<=a.indexOf("@")},getLocationParameter:function(a,
b){var c=a.getHeader("Location")||void 0;if(c)return this.getUrlParameter(c,b)},getUrlParameter:function(a,b){return decodeURIComponent((RegExp("[?|&]"+b+"=([^&;]+?)(&|#|;|$)").exec(a)||[,""])[1].replace(/\+/g,"%20"))||null},validateField:function(a,c){if(!c){var d;d=b.substitute("Invalid value {0} for field {1}, the field must not be empty or undefined.",[c||"'undefined'",a]);return this.createBadRequestPromise(d)}},validateFields:function(a){for(var b in a){var c=this.validateField(b,a[b]);if(c)return c}},
validateHTML5FileSupport:function(){if(!window.File||!window.FormData)return this.createBadRequestPromise("HTML 5 File API is not supported by the Browser.");if(-1!=g.getJavaScriptLibrary().indexOf("Dojo 1.4"))return this.createBadRequestPromise("Dojo 1.4.* is not supported for Update Profile Photo")},_validateEntityId:function(a){if(!a||!c.isString(a))return a=b.substitute("Invalid argument {0}, expected valid entity identifier.",[a||"'undefined'"]),this.createBadRequestPromise(a)}})})},"sbt/Cache":function(){define(["./declare"],
function(i){return i(null,{constructor:function(f){this.limit=f;this._cache={};this.tail=this.head=null;this.count=0},get:function(f){if(f=this._cache[f]){if(this.head!=f){if(f.prev)f.prev.next=f.next;f.next?f.next.prev=f.prev:this.tail=f.prev;f.next=this.head;this.head.prev=f;f.prev=null;this.head=f}return f.value}return null},put:function(f,c){this._cache[f]&&(this.remove(f),this.count--);var h=this._cache[f]={key:f,value:c};this.count==this.limit&&(this.remove(this.tail.key),this.count--);h.next=
this.head;h.next?h.next.prev=h:this.tail=h;this.head=h;h.prev=null;this.count++},remove:function(f){var c=this._cache[f];if(c)c.next?c.next.prev=c.prev:this.tail=c.prev,c.prev?c.prev.next=c.next:this.head=c.next,c.next=c.prev=null,delete this._cache[f],this.count--},browse:function(f){if(f)for(var c in this._cache){var h=this._cache[c];if(h=f(h.key,h.value))return h}return null}})})},"sbt/base/BaseEntity":function(){define(["../declare","../lang","../log","../stringUtil"],function(i,f,c,h){return i(null,
{id:null,service:null,dataHandler:null,_fields:null,constructor:function(b){f.mixin(this,b);if(!this._fields)this._fields={};if(!this.service)throw Error("Invalid BaseEntity, an associated service must be specified.");},setDataHandler:function(b){this._fields={};this.dataHandler=b},setData:function(b){this._fields={};this.dataHandler.setData(b)},isLoaded:function(){return this.dataHandler?this.dataHandler.getData()?!0:!1:!1},getAsString:function(b){this._validateFieldName(b,"getAsString");return this._fields.hasOwnProperty(b)?
this._fields[b]:this.dataHandler?this.dataHandler.getAsString(b):null},getAsNumber:function(b){this._validateFieldName(b,"getAsNumber");return this._fields.hasOwnProperty(b)?this._fields[b]:this.dataHandler?this.dataHandler.getAsNumber(b):null},getAsDate:function(b){this._validateFieldName(b,"getAsDate");return this._fields.hasOwnProperty(b)?this._fields[b]:this.dataHandler?this.dataHandler.getAsDate(b):null},getAsBoolean:function(b){this._validateFieldName(b,"getAsBoolean");return this._fields.hasOwnProperty(b)?
this._fields[b]:this.dataHandler?this.dataHandler.getAsBoolean(b):!1},getAsArray:function(b){this._validateFieldName(b,"getAsArray");return this._fields.hasOwnProperty(b)?this._fields[b]:this.dataHandler?this.dataHandler.getAsArray(b):null},getAsNodesArray:function(b){this._validateFieldName(b,"getAsNodesArray");return this._fields.hasOwnProperty(b)?this._fields[b]:this.dataHandler?this.dataHandler.getAsNodesArray(b):null},getAsObject:function(b,a){for(var c={},g=0;g<b.length;g++){this._validateFieldName(b[g],
"getAsObject");var e=this.getAsString(b[g]);e&&(a?c[a[g]]=e:c[b[g]]=e)}return c},setAsString:function(b,a){this._validateFieldName(b,"setAsString",a);null===a||void 0===a?delete this._fields[b]:this._fields[b]=a.toString();return this},setAsNumber:function(b,a){this._validateFieldName(b,"setAsNumber",a);if(a instanceof Number)this._fields[b]=a;else if(a){var c=new Number(a);if(isNaN(c))throw c=h.substitute("Invalid argument for BaseService.setAsNumber {0},{1}",[b,a]),Error(c);this._fields[b]=c}else delete this._fields[b];
return this},setAsDate:function(b,a){this._validateFieldName(b,"setAsDate",a);if(a instanceof Date)this._fields[b]=a;else if(a){var c=new Date(a);if(isNaN(c.getDate()))throw c=h.substitute("Invalid argument for BaseService.setAsDate {0},{1}",[b,a]),Error(c);this._fields[b]=c}else delete this._fields[b];return this},setAsBoolean:function(b,a){this._validateFieldName(b,"setAsBoolean",a);null!=a?this._fields[b]=a?!0:!1:delete this._fields[b];return this},setAsArray:function(b,a){this._validateFieldName(b,
"setAsArray",a);f.isArray(a)?this._fields[b]=a.slice(0):f.isString(a)?this._fields[b]=0<a.length?a.split(/[ ,]+/):[]:a?this._fields[b]=[a]:delete this._fields[b];return this},setAsObject:function(b){for(var a in b)if(b.hasOwnProperty(a)){var c=b[a];c?this._fields[a]=c:delete this._fields[a]}},remove:function(b){delete this._fields[b]},toJson:function(){return this.dataHandler?this.dataHandler.toJson():{}},_validateFieldName:function(b,a,c){if(!b)throw b=h.substitute("Invalid argument for BaseService.{1} {0},{2}",
[b,a,c||""]),Error(b);}})})},"sbt/base/XmlDataHandler":function(){define("../declare,../lang,../stringUtil,../xml,../xpath,./DataHandler".split(","),function(i,f,c,h,b,a){return i(a,{dataType:"xml",xpath:null,namespaces:null,_values:null,_summary:null,constructor:function(a){f.mixin(this,a);this._values={};this.data=this._fromNodeOrString(a.data)},setData:function(a){this._values={};this.data=this._fromNodeOrString(a)},getAsString:function(a){this._validateProperty(a,"getAsString");return this._values?
(this._values.hasOwnProperty(a)||(this._values[a]=this._selectText(a)),this._values[a]):_selectText(a)},getAsNumber:function(a){this._validateProperty(a,"getAsNumber");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._selectNumber(a)),this._values[a]):this._selectNumber(a)},getAsDate:function(a){this._validateProperty(a,"getAsDate");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._selectDate(a)),this._values[a]):this._selectDate(a)},getAsBoolean:function(a){this._validateProperty(a,
"getAsBoolean");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._selectBoolean(a)),this._values[a]):this._selectBoolean(a)},getAsArray:function(a){this._validateProperty(a,"getAsArray");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._selectArray(a)),this._values[a]):this._selectArray(a)},getAsNodesArray:function(a){this._validateProperty(a,"getNodesArray");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._selectNodesArray(a)),
this._values[a]):this._selectNodesArray(a)},getEntityId:function(){return c.trim(this.getAsString("uid"))},getEntityData:function(a){var c=this.xpath.entry;if(!c)return a;this._values.entry||(this._values.entry=b.selectNodes(a,c,this.namespaces)[0]||[]);return this._values.entry},getSummary:function(){if(!this._summary&&this._getXPath("totalResults"))this._summary={totalResults:b.selectNumber(this.data,this._getXPath("totalResults"),this.namespaces),startIndex:b.selectNumber(this.data,this._getXPath("startIndex"),
this.namespaces),itemsPerPage:b.selectNumber(this.data,this._getXPath("itemsPerPage"),this.namespaces)};return this._summary},getEntitiesDataArray:function(){var a=this.xpath.entries;if(!a)return this.data;this._values.entries||(this._values.entries=b.selectNodes(this.data,a,this.namespaces));return this._values.entries},toJson:function(){var a={},b;for(b in this.xpath)this.xpath.hasOwnProperty(b)&&(a[b]=this.getAsString(b));return a},_fromNodeOrString:function(a){return f.isString(a)?(a=c.trim(a),
this.getEntityData(h.parse(a))):a},_getXPath:function(a){return this.xpath[a]||a},_validateProperty:function(a,b){if(!a){var e=c.substitute("Invalid argument for XmlDataHandler.{1} {0}",[a,b]);throw Error(e);}},_selectText:function(a){return!this.data?null:c.trim(b.selectText(this.data,this._getXPath(a),this.namespaces))},_selectNumber:function(a){return!this.data?null:b.selectNumber(this.data,this._getXPath(a),this.namespaces)},_selectDate:function(a){return!this.data?null:(a=this._selectText(a))?
new Date(a):null},_selectBoolean:function(a){if(!this.data)return!1;var a=b.selectNodes(this.data,this._getXPath(a),this.namespaces),c=!1;a&&(c=0<a.length);return c},_selectArray:function(a){if(!this.data)return null;var a=b.selectNodes(this.data,this._getXPath(a),this.namespaces),g=null;if(a)for(var g=[],e=0;e<a.length;e++)g.push(c.trim(a[e].text||a[e].textContent));return g},_selectNodesArray:function(a){return!this.data?null:b.selectNodes(this.data,this._getXPath(a),this.namespaces)}})})},"sbt/base/DataHandler":function(){define(["../declare",
"../lang"],function(i,f){return i(null,{dataType:null,data:null,constructor:function(c){f.mixin(this,c)},setData:function(c){this.data=c},getData:function(){return this.data},getAsString:function(){return null},getAsNumber:function(){return null},getAsDate:function(){return null},getAsBoolean:function(){return null},getAsArray:function(){return null},getEntityId:function(){return null},getEntityData:function(){return data},getSummary:function(){return null},getEntitiesDataArray:function(){return[]},
toJson:function(){}})})},"sbt/connections/ForumService":function(){define("../declare,../config,../lang,../stringUtil,../Promise,./ForumConstants,../base/BaseService,../base/AtomEntity,../base/XmlDataHandler".split(","),function(i,f,c,h,b,a,d,g,e){var j=i(g,{xpath:a.ForumXPath,contentType:"html",categoryScheme:'<category scheme="http://www.ibm.com/xmlns/prod/sn/type" term="forum-forum"></category>',constructor:function(){},createEntryData:function(){if(!this.getCommunityUuid())return"";var a=h.transform('<snx:communityUuid xmlns:snx="http://www.ibm.com/xmlns/prod/sn">${getCommunityUuid}</snx:communityUuid>',
this,function(a){return a},this);return h.trim(a)},getForumUuid:function(){var a=this.getAsString("forumUuid");return p(a)},setForumUuid:function(a){return this.setAsString("forumUuid",a)},getCommunityUuid:function(){return this.getAsString("communityUuid")},setCommunityUuid:function(a){return this.setAsString("communityUuid",a)},getModeration:function(){return this.getAsDate("moderation")},getThreadCount:function(){return this.getAsNumber("threadCount")},getForumUrl:function(){return this.getAlternateUrl()},
getTopics:function(a){return this.service.getTopics(this.getForumUuid(),a)},load:function(b){var e=this.getForumUuid(),d=this.service._validateForumUuid(e);if(d)return d;var g=this,b={handleAs:"text",query:c.mixin({forumUuid:e},b||{})};return this.service.getEntity(a.AtomForum,b,e,{createEntity:function(a,b){g.setData(b);return g}})},remove:function(a){return this.service.deleteForum(this.getForumUuid(),a)},update:function(a){return this.service.updateForum(this,a)},save:function(a){return this.getForumUuid()?
this.service.updateForum(this,a):this.service.createForum(this,a)}}),k=i(g,{xpath:a.ForumTopicXPath,contentType:"html",categoryScheme:'<category scheme="http://www.ibm.com/xmlns/prod/sn/type" term="forum-topic"></category>',constructor:function(){},createEntryData:function(){var b="";this.isPinned()&&(b+=h.transform('<category scheme="http://www.ibm.com/xmlns/prod/sn/flags" term="${flag}"></category>',this,function(){return a.FlagPinned},this));this.isLocked()&&(b+=h.transform('<category scheme="http://www.ibm.com/xmlns/prod/sn/flags" term="${flag}"></category>',
this,function(){return a.FlagLocked},this));this.isQuestion()&&(b+=h.transform('<category scheme="http://www.ibm.com/xmlns/prod/sn/flags" term="${flag}"></category>',this,function(){return a.FlagQuestion},this));return h.trim(b)},getTopicUuid:function(){var a=this.getAsString("topicUuid");return p(a)},setTopicUuid:function(a){return this.setAsString("topicUuid",a)},getForumUuid:function(){var a=this.getAsString("forumUuid");return p(a)},setForumUuid:function(a){return this.setAsString("forumUuid",
a)},getCommunityUuid:function(){return this.getAsString("communityUuid")},setCommunityUuid:function(a){return this.setAsString("communityUuid",a)},getTopicUrl:function(){return this.getAsString("alternateUrl")},getPermisisons:function(){return this.getAsString("permissions")},isPinned:function(){return this.getAsBoolean("pinned")},setPinned:function(a){return this.setAsBoolean("pinned",a)},isLocked:function(){return this.getAsBoolean("locked")},setLocked:function(a){return this.setAsBoolean("locked",
a)},isQuestion:function(){return this.getAsBoolean("question")},setQuestion:function(a){return this.setAsBoolean("question",a)},isAnswered:function(){return this.getAsBoolean("answered")},isNotRecommendedByCurrentUser:function(){return this.getAsBoolean("notRecommendedByCurrentUser")},getTags:function(){return this.getAsArray("tags")},setTags:function(a){return this.setAsArray("tags",a)},getRecommendationsUrl:function(){return this.getAsString("recommendationsUrl")},getRecommendations:function(a){return this.service.getForumRecommendations(this.getTopicUuid(),
a)},getReplies:function(a){return this.service.getForumTopicReplies(this.getTopicUuid(),a)},createRecommendation:function(a){return this.service.createForumRecommendation(this.getTopicUuid(),a)},deleteRecommendation:function(a){return this.service.deleteForumRecommendation(this.getTopicUuid(),a)},load:function(b){var e=this.getTopicUuid(),d=this.service._validateTopicUuid(e);if(d)return d;var g=this,b={handleAs:"text",query:c.mixin({topicUuid:e},b||{})};return this.service.getEntity(a.AtomTopic,b,
e,{createEntity:function(a,b){g.setData(b);return g}})},remove:function(a){return this.service.deleteForumTopic(this.getTopicUuid(),a)},update:function(a){return this.service.updateForumTopic(this,a)},save:function(a){return this.getTopicUuid()?this.service.updateForumTopic(this,a):this.service.createForumTopic(this,a)}}),m=i(g,{xpath:a.ForumReplyXPath,contentType:"html",categoryScheme:'<category scheme="http://www.ibm.com/xmlns/prod/sn/type" term="forum-reply"></category>',constructor:function(){},
createEntryData:function(){if(!this.getTopicUuid())return"";var b="";this.isAnswer()&&(b+=h.transform('<category scheme="http://www.ibm.com/xmlns/prod/sn/flags" term="${flag}"></category>',this,function(){return a.FlagAnswer},this));b+=h.transform('<thr:in-reply-to xmlns:thr="http://purl.org/syndication/thread/1.0" ref="urn:lsid:ibm.com:forum:${getTopicUuid}" type="application/atom+xml" href=""></thr:in-reply-to>',this,function(a){return a},this);return h.trim(b)},getReplyUuid:function(){var a=this.getAsString("replyUuid");
return p(a)},setReplyUuid:function(a){return this.setAsString("replyUuid",a)},getTopicUuid:function(){var a=this.getAsString("topicUuid");return p(a)},setTopicUuid:function(a){return this.setAsString("topicUuid",a)},getReplyToPostUuid:function(){var a=this.getAsString("replyTo");return p(a)},setReplyToPostUuid:function(a){return this.setAsString("replyTo",a)},getReplyUrl:function(){return this.getAlternateUrl()},getPermisisons:function(){return this.getAsString("permissions")},isAnswer:function(){return this.getAsBoolean("answer")},
setAnswer:function(a){return this.setAsBoolean("answer",a)},isNotRecommendedByCurrentUser:function(){return this.getAsBoolean("notRecommendedByCurrentUser")},getRecommendationsUrl:function(){return this.getAsString("recommendationsUrl")},getRecommendations:function(a){return this.service.getForumRecommendations(this.getReplyUuid(),a)},getReplies:function(a){return this.service.getForumReplyReplies(this.getReplyUuid(),a)},createRecommendation:function(a){return this.service.createForumRecommendation(this.getReplyUuid(),
a)},deleteRecommendation:function(a){return this.service.deleteForumRecommendation(this.getReplyUuid(),a)},load:function(b){var e=this.getReplyUuid(),d=this.service._validateReplyUuid(e);if(d)return d;var g=this,b={handleAs:"text",query:c.mixin({replyUuid:e},b||{})};return this.service.getEntity(a.AtomReply,b,e,{createEntity:function(a,b){g.setData(b);return g}})},remove:function(a){return this.service.deleteForumReply(this.getReplyUuid(),a)},update:function(a){return this.service.updateForumReply(this,
a)},save:function(a){return this.getReplyUuid()?this.service.updateForumReply(this,a):this.service.createForumReply(this,a)}});i(g,{categoryScheme:null,constructor:function(){}});var n=i(g,{xpath:a.ForumRecommendationXPath,contentType:"text",categoryScheme:'<category scheme="http://www.ibm.com/xmlns/prod/sn/type" term="recommendation"></category>',constructor:function(){},getTitle:function(){return this.getAsString("title")||"liked"},getRecommendationUuid:function(){var a=this.getAsString("id");return p(a)},
getPostUuid:function(){var a=this.getAsString("postUuid");return this.service.getUrlParameter(a,"postUuid")||a},setPostUuid:function(a){return this.setAsString("postUuid",a)}});i(g,{categoryScheme:null,constructor:function(){}});var p=function(a){return a&&0==a.indexOf("urn:lsid:ibm.com:forum:")?a.substring(23):a},o={createEntities:function(b,c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.ForumsFeedXPath})},createEntity:function(a,b){return new j({service:a,data:b})}},q={createEntities:function(b,
c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.ForumsFeedXPath})},createEntity:function(a,b){return new k({service:a,data:b})}},v={createEntities:function(b,c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.ForumsFeedXPath})},createEntity:function(a,b){return new m({service:a,data:b})}},u={createEntities:function(b,c){return new e({service:b,data:c,namespaces:a.Namespaces,xpath:a.ForumsFeedXPath})},createEntity:function(a,b){return new n({service:a,data:b})}};return i(d,
{contextRootMap:{forums:"forums"},constructor:function(){if(!this.endpoint)this.endpoint=f.findEndpoint(this.getDefaultEndpointName())},getDefaultEndpointName:function(){return"connections"},newForum:function(a){return this._toForum(a)},newForumTopic:function(a){return this._toForumTopic(a)},newForumReply:function(a){return this._toForumReply(a)},getMyForums:function(b){return this.getEntities(a.AtomForumsMy,{method:"GET",handleAs:"text",query:b||{}},o)},getMyTopics:function(b){return this.getEntities(a.AtomTopicsMy,
{method:"GET",handleAs:"text",query:b||{}},q)},getAllForums:function(b){return this.getEntities(a.AtomForums,{method:"GET",handleAs:"text",query:b||{}},o)},getPublicForums:function(b){return this.getEntities(a.AtomForumsPublic,{method:"GET",handleAs:"text",query:b||{}},o)},getForumTopics:function(b,e){var d=this._validateForumUuid(b);if(d)return d;d={method:"GET",handleAs:"text",query:c.mixin({forumUuid:b},e||{})};return this.getEntities(a.AtomTopics,d,q)},getForumRecommendations:function(b,e){var d=
this._validatePostUuid(b);if(d)return d;d={method:"GET",handleAs:"text",query:c.mixin({postUuid:b},e||{})};return this.getEntities(a.AtomRecommendationEntries,d,u)},getForumTopicReplies:function(b,e){var d=this._validateTopicUuid(b);if(d)return d;d={method:"GET",handleAs:"text",query:c.mixin({topicUuid:b},e||{})};return this.getEntities(a.AtomReplies,d,v)},getForumReplyReplies:function(b,e){var d=this._validateReplyUuid(b);if(d)return d;d={method:"GET",handleAs:"text",query:c.mixin({replyUuid:b},
e||{})};return this.getEntities(a.AtomReplies,d,v)},getForumReplies:function(b){return this.getEntities(a.AtomReplies,{method:"GET",handleAs:"text",query:b},v)},getForums:function(b){return this.getEntities(a.AtomForums,{method:"GET",handleAs:"text",query:b||{}},o)},getForum:function(a,b){return(new j({service:this,_fields:{forumUuid:a}})).load(b)},createForum:function(b,c){var e=this._toForum(b),d=this._validateForum(e,!1,c);if(d)return d;d={method:"POST",query:c||{},headers:a.AtomXmlHeaders,data:e.createPostData()};
return this.updateEntity(a.AtomForumsMy,d,{createEntity:function(a,b,c){e.setData(b);a=this.getLocationParameter(c,"forumUuid");e.setForumUuid(a);return e}},c)},updateForum:function(b,e){var d=this._toForum(b),g=this._validateForum(d,!0,e);if(g)return g;g={method:"PUT",query:c.mixin({forumUuid:d.getForumUuid()},e||{}),headers:a.AtomXmlHeaders,data:d.createPostData()};return this.updateEntity(a.AtomForum,g,{createEntity:function(a,b){var c=d.getForumUuid();d.setData(b);d.setForumUuid(c);return d}},
e)},deleteForum:function(b,e){var d=this._validateForumUuid(b);if(d)return d;d={method:"DELETE",query:c.mixin({forumUuid:b},e||{}),handleAs:"text"};return this.deleteEntity(a.AtomForum,d,b)},getForumTopic:function(a,b){return(new k({service:this,_fields:{topicUuid:a}})).load(b)},createForumTopic:function(b,e){var d=this._toForumTopic(b),g=this._validateForumTopic(d,!1,e);if(g)return g;g={method:"POST",query:c.mixin({forumUuid:d.getForumUuid()},e||{}),headers:a.AtomXmlHeaders,data:d.createPostData()};
return this.updateEntity(a.AtomTopics,g,{createEntity:function(a,b,c){a=this.getLocationParameter(c,"topicUuid");d.setTopicUuid(a);d.setData(b);return d}},e)},updateForumTopic:function(b,e){var d=this._toForumTopic(b),g=this._validateForumTopic(d,!0,e);if(g)return g;g={method:"PUT",query:c.mixin({topicUuid:d.getTopicUuid()},e||{}),headers:a.AtomXmlHeaders,data:d.createPostData()};return this.updateEntity(a.AtomTopic,g,{createEntity:function(a,b){var c=d.getTopicUuid();d.setData(b);d.setTopicUuid(c);
return d}},e)},deleteForumTopic:function(b,e){var d=this._validateTopicUuid(b);if(d)return d;d={method:"DELETE",query:c.mixin({topicUuid:b},e||{}),handleAs:"text"};return this.deleteEntity(a.AtomTopic,d,b)},getForumReply:function(a,b){return(new m({service:this,_fields:{replyUuid:a}})).load(b)},createForumReply:function(b,c){var d=this._toForumReply(b),e=this._validateForumReply(d,!1,c);if(e)return e;e={method:"POST",query:c||{topicUuid:d.getTopicUuid()},headers:a.AtomXmlHeaders,data:d.createPostData()};
return this.updateEntity(a.AtomReplies,e,{createEntity:function(a,b,c){a=this.getLocationParameter(c,"replyUuid");d.setReplyUuid(a);d.setData(b);return d}},c)},updateForumReply:function(b,d){var e=this._toForumReply(b),g=this._validateForumReply(e,!0,d);if(g)return g;g={method:"PUT",query:c.mixin({replyUuid:e.getReplyUuid()},d||{}),headers:a.AtomXmlHeaders,data:e.createPostData()};return this.updateEntity(a.AtomReply,g,{createEntity:function(a,b){var c=e.getReplyUuid();e.setData(b);e.setReplyUuid(c);
return e}},d)},deleteForumReply:function(b,e){var d=this._validateReplyUuid(b);if(d)return d;d={method:"DELETE",query:c.mixin({replyUuid:b},e||{}),handleAs:"text"};return this.deleteEntity(a.AtomReply,d,b)},getForumRecommendation:function(a,b){return(new n({service:this,_fields:{postUuid:a}})).load(b)},createForumRecommendation:function(b,c){var d=this._toForumRecommendation(b),e=this._validateForumRecommendation(d,!1,c);if(e)return e;e={method:"POST",query:c||{postUuid:d.getPostUuid()},headers:a.AtomXmlHeaders,
data:d.createPostData()};return this.updateEntity(a.AtomRecommendationEntries,e,{createEntity:function(a,b){d.setData(b);return d}},c)},deleteForumRecommendation:function(b,d){var e=this._validatePostUuid(b);if(e)return e;e={method:"DELETE",query:c.mixin({postUuid:b},d||{}),handleAs:"text"};return this.deleteEntity(a.AtomRecommendationEntries,e,b)},_validateForum:function(a,b){if(!a||!a.getTitle())return this.createBadRequestPromise("Invalid argument, forum with title must be specified.");if(b&&!a.getForumUuid())return this.createBadRequestPromise("Invalid argument, forum with UUID must be specified.")},
_validateForumTopic:function(a,b){if(!a||!a.getTitle())return this.createBadRequestPromise("Invalid argument, forum topic with title must be specified.");if(b&&!a.getTopicUuid())return this.createBadRequestPromise("Invalid argument, forum topic with UUID must be specified.")},_validateForumReply:function(a,b){if(!a||!a.getTitle())return this.createBadRequestPromise("Invalid argument, forum reply with title must be specified.");if(b&&!a.getReplyUuid())return this.createBadRequestPromise("Invalid argument, forum reply with UUID must be specified.")},
_validateForumRecommendation:function(a,b){if(!a||!a.getPostUuid())return this.createBadRequestPromise("Invalid argument, forum recommendation with postUuid must be specified.");if(b&&!a.getRecommendationUuid())return this.createBadRequestPromise("Invalid argument, forum recommendation with UUID must be specified.")},_validateForumUuid:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected forumUuid.")},_validatePostUuid:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected postUuid.")},
_validateTopicUuid:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected topicUuid.")},_validateReplyUuid:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected replyUuid.")},_toForum:function(a){if(a instanceof j)return a;c.isString(a)&&(a={forumUuid:a});return new j({service:this,_fields:c.mixin({},a)})},_toForumTopic:function(a){if(a instanceof k)return a;c.isString(a)&&(a={forumTopicUuid:a});return new k({service:this,
_fields:c.mixin({},a)})},_toForumReply:function(a){if(a instanceof m)return a;c.isString(a)&&(a={forumReplyUuid:a});return new m({service:this,_fields:c.mixin({},a)})},_toForumRecommendation:function(a){if(a instanceof n)return a;c.isString(a)&&(a={postUuid:a});a instanceof k&&(a={postUuid:a.getTopicUuid()});a instanceof m&&(a={postUuid:a.getReplyUuid()});return new n({service:this,_fields:c.mixin({},a)})}})})},"sbt/connections/ForumConstants":function(){define(["../lang","./ConnectionsConstants"],
function(i,f){return i.mixin(f,{FlagAnswer:"recommendation",FlagAnswer:"answer",FlagPinned:"pinned",FlagLocked:"locked",FlagQuestion:"question",FlagAnswered:"answered",ForumsFeedXPath:f.ConnectionsFeedXPath,ForumXPath:i.mixin({forumUuid:"a:id",content:"a:content[@type='text']",moderation:"snx:moderation/@status",threadCount:"a:link[@rel='replies']/@thr:count",forumUrl:"a:link[@rel='alternate']/@href",communityUuid:"snx:communityUuid"},f.AtomEntryXPath),ForumTopicXPath:i.mixin({topicUuid:"a:id",forumUuid:"thr:in-reply-to/@ref",
tags:"a:category[not(@scheme)]/@term",permissions:"snx:permissions",communityUuid:"snx:communityUuid",threadCount:"a:link[@rel='replies']/@thr:count",locked:"a:category[@term='locked' and @scheme='http://www.ibm.com/xmlns/prod/sn/flags']",pinned:"a:category[@term='pinned' and @scheme='http://www.ibm.com/xmlns/prod/sn/flags']",question:"a:category[@term='question' and @scheme='http://www.ibm.com/xmlns/prod/sn/flags']",answered:"a:category[@term='answered' and @scheme='http://www.ibm.com/xmlns/prod/sn/flags']",
notRecommendedByCurrentUser:"a:category[@term='NotRecommendedByCurrentUser']",threadRecommendationCount:"a:category[@term='ThreadRecommendationCount']/@label",recommendationsUrl:"a:link[@rel='recommendations']/@href"},f.AtomEntryXPath),ForumReplyXPath:i.mixin({replyUuid:"a:id",topicUuid:"thr:in-reply-to/@ref",permissions:"snx:permissions",communityUuid:"snx:communityUuid",answer:"a:category[@term='answer' and @scheme='http://www.ibm.com/xmlns/prod/sn/flags']",replyTo:"thr:in-reply-to/@ref",notRecommendedByCurrentUser:"a:category[@term='NotRecommendedByCurrentUser']",
recommendationsUrl:"a:link[@rel='recommendations']/@href"},f.AtomEntryXPath),ForumRecommendationXPath:i.mixin({postUuid:"a:link[@rel='self']/@href"},f.AtomEntryXPath),AtomForum:"${forums}/atom/forum",AtomTopic:"/${forums}/atom/topic",AtomReply:"/${forums}/atom/reply",AtomForums:"/${forums}/atom/forums",AtomForumsPublic:"/${forums}/atom/forums/public",AtomForumsMy:"/${forums}/atom/forums/my",AtomTopics:"/${forums}/atom/topics",AtomTopicsMy:"/${forums}/atom/topics/my",AtomReplies:"/${forums}/atom/replies",
AtomTagsForum:"/atom/tags/forums",AtomTagsTopics:"/atom/tags/topics",AtomRecommendationEntries:"/${forums}/atom/recommendation/entries"})})},"sbt/base/AtomEntity":function(){define("../declare,../lang,../stringUtil,./BaseConstants,./BaseEntity,./XmlDataHandler".split(","),function(i,f,c,h,b,a){return i(b,{contentType:"html",categoryScheme:null,constructor:function(b){this.dataHandler=new a({service:b.service,data:b.data,namespaces:f.mixin(h.Namespaces,b.namespaces||{}),xpath:f.mixin({},h.AtomEntryXPath,
b.xpath||this.xpath||{})})},getId:function(){return this.getAsString("id")},getTitle:function(){return this.getAsString("title")},setTitle:function(a){return this.setAsString("title",a)},getSummary:function(){return this.getAsString("summary")},setSummary:function(a){return this.setAsString("summary",a)},getContent:function(){return this.getAsString("content")},setContent:function(a){return this.setAsString("content",a)},getCategoryTerms:function(){return this.getAsArray("categoryTerm")},setCategoryTerms:function(a){return this.setAsArray("categoryTerm",
a)},getAuthor:function(){return this.getAsObject(["authorUserid","authorName","authorEmail","authorUserState"],["userid","name","email","userState"])},getContributor:function(){return this.getAsObject(["contributorUserid","contributorName","contributorEmail","contributorUserState"],["userid","name","email","userState"])},getPublished:function(){return this.getAsDate("published")},getUpdated:function(){return this.getAsDate("updated")},getAlternateUrl:function(){return this.getAsString("alternateUrl")},
getSelfUrl:function(){return this.getAsString("selfUrl")},getEditUrl:function(){return this.getAsString("editUrl")},createPostData:function(){var a=c.transform('<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom" ${createNamespaces}><title type="text">${getTitle}</title><content type="${contentType}">${getContent}</content><summary type="text">${getSummary}</summary>${categoryScheme}${createEntryData}</entry>',this,function(a,b){"getContent"==b&&"html"==this.contentType&&
(a=a&&f.isString(a)?a.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a);return a},this);return c.trim(a)},createEntryData:function(){return""},createNamespaces:function(){if(!this.dataHandler)return"";var a="",b=this.dataHandler.namespaces;for(prefix in b)a+="xmlns:"+prefix+'="'+b[prefix]+'" ';return a}})})},"sbt/connections/controls/communities/CommunityMembersGrid":function(){define("../../../declare,../../../config,../../../lang,../../../controls/grid/Grid,./CommunityMembersGridRenderer,./CommunityMembersAction,../../../connections/controls/vcard/SemanticTagService,../../../store/parameter,../../../connections/ProfileConstants,../../../connections/CommunityConstants,sbt/connections/CommunityService".split(","),
function(i,f,c,h,b,a,d,g,e,j){f={pageNumber:g.oneBasedInteger("page"),pageSize:g.oneBasedInteger("ps"),sortBy:g.sortField("sortBy",{displayName:"displayName",recent:"3"}),sortOrder:g.sortOrder("sortOrder")};g={pageNumber:g.oneBasedInteger("page"),pageSize:g.oneBasedInteger("ps"),sortBy:g.sortField("sortBy",{displayName:"displayName",created:"created"}),sortOrder:g.sortOrder("sortOrder")};return i(h,{options:{profile:{storeArgs:{url:e.AtomProfileDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,
paramSchema:f},rendererArgs:{type:"profile"}},colleagues:{storeArgs:{url:e.AtomConnectionsDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},connectionsInCommon:{storeArgs:{url:e.AtomConnectionsInCommonDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},peopleManaged:{storeArgs:{url:e.AtomPeopleManagedDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},
reportingChain:{storeArgs:{url:e.AtomReportingChainDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},search:{storeArgs:{url:e.AtomSearchDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},dynamic:{storeArgs:{attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},communityMembers:{storeArgs:{url:j.AtomCommunityMembers,attributes:j.MemberXPath,feedXPath:j.CommunityFeedXPath,
paramSchema:g},rendererArgs:{type:"communityMembers"}}},communityMembersAction:new a,defaultOption:"colleagues",constructor:function(a){if("peopleManaged"==a.type||"reportingChain"==a.type||"profile"==a.type)this.hideSorter=!0;var b=this.renderer.nls;"communityMembers"==a.type?(this._sortInfo={displayName:{title:b.displayName,sortMethod:"sortByTitle",sortParameter:"title"},recent:{title:b.created,sortMethod:"sortByCreated",sortParameter:"created"}},this._activeSortAnchor=this._sortInfo.created):(this._sortInfo=
{displayName:{title:b.displayName,sortMethod:"sortByDisplayName",sortParameter:"displayName"},recent:{title:b.recent,sortMethod:"sortByRecent",sortParameter:"recent"}},this._activeSortAnchor=this._sortInfo.recent);this._activeSortIsDesc=!1},contextRootMap:{profiles:"profiles"},buildUrl:function(a,b,e){b={outputType:"profile",format:"full"};this.query&&(b=c.mixin(b,this.query));"colleagues"==this.type?b=c.mixin(b,{connectionType:"colleague"}):"communityMembers"==this.type&&(b=c.mixin(b,{communityUuid:this.communityUuid}));
this.email&&(b=c.mixin(b,{email:this.email}));this.email1&&this.email2&&(b=c.mixin(b,{email:this.email1+","+this.email2}));this.userid&&(b=c.mixin(b,{userid:this.userid}));this.userid1&&this.userid2&&(b=c.mixin(b,{userid:this.userid1+","+this.userid2}));return this.constructUrl(a,b,this.getUrlParams(),e)},postCreate:function(){this.inherited(arguments);d.loadSemanticTagService()},createDefaultRenderer:function(a){return new b(a)},handleClick:function(a,b,c){this.communityMembersAction&&(this._stopEvent(c),
this.communityMembersAction.execute(b,{grid:this.grid},c))},updateMember:function(a,b,c){this.communityMembersAction&&(this._stopEvent(c),this.communityMembersAction.updateMember(this,a,b,c,this.communityUuid))},removeMember:function(a,b,c){this.communityMembersAction&&(this._stopEvent(c),this.communityMembersAction.removeMember(this,a,b,c,this.communityUuid))},closeEditForm:function(a,b,c){this.communityMembersAction&&(this._stopEvent(c),this.communityMembersAction.closeEditForm(this,a,b,c))},openEditForm:function(a,
b,c){this.communityMembersAction&&(this._stopEvent(c),this.communityMembersAction.openEditForm(b))},removeMember:function(a,b,c){this.communityMembersAction&&(this._stopEvent(c),this.communityMembersAction.removeMember(this,this.communityUuid,b))},getSortInfo:function(){return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},list:[this._sortInfo.displayName,this._sortInfo.recent]}},sortByDisplayName:function(a,b,c){this._sort("displayName",!0,a,b,c)},sortByRecent:function(a,b,
c){this._sort("recent",!0,a,b,c)},sortByCreated:function(a,b,c){this._sort("created",!0,a,b,c)},sortByTitle:function(a,b,c){this._sort("title",!0,a,b,c)}})})},"sbt/connections/controls/communities/CommunityMembersGridRenderer":function(){define(["../../../declare","../ConnectionsGridRenderer","../../../i18n!./nls/CommunityMembersGridRenderer","../../../text!./templates/CommunityMemberRow.html"],function(i,f,c,h){return i(f,{_nls:c,constructor:function(b){if("communityMembers"==b.type)this.template=
h},rowClass:function(b,a,c){a.rowClass=0===c?"lotusFirst":1===c%2?"lotusAltRow":null},tooltip:function(b,a){if(b.profileAction)return b.profileAction.getTooltip(a)},photoUrl:function(b,a){return b.store.getEndpoint().baseUrl+"/profiles/photo.do?email="+a.getValue("email")}})})},"sbt/connections/ProfileConstants":function(){define(["../lang","./ConnectionsConstants"],function(i,f){return i.mixin(f,{DefaultCacheSize:10,AddressFields:"streetAddress,extendedAddress,locality,region,postalCode,countryName".split(","),
ProfileFeedXPath:f.ConnectionsFeedXPath,TypeColleague:"colleague",StatusPending:"pending",ProfileXPath:{entry:"/a:feed/a:entry",uid:"a:contributor/snx:userid",id:"a:id",userid:"a:contributor/snx:userid",name:"a:contributor/a:name",email:"a:contributor/a:email",title:"a:title",updated:"a:updated",altEmail:"a:content/h:div/h:span/h:div[@class='x-groupwareMail']",photoUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/image']/@href",fnUrl:"a:content/h:div/h:span/h:div/h:a[@class='fn url']/@href",soundUrl:"a:content/h:div/h:span/h:div/h:a[@class='sound url']/@href",
jobTitle:"a:content/h:div/h:span/h:div[@class='title']",organizationUnit:"a:content/h:div/h:span/h:div[@class='org']/h:span[@class='organization-unit']",telephoneNumber:"a:content/h:div/h:span/h:div[@class='tel']/h:span[@class='value']",building:"a:content/h:div/h:span/h:div/h:span[@class='x-building']",floor:"a:content/h:div/h:span/h:div/h:span[@class='x-floor']",officeNumber:"a:content/h:div/h:span/h:div/h:span[@class='x-office-number']",streetAddress:"a:content/h:div/h:span/h:div/h:div[@class='street-address']",
extendedAddress:"a:content/h:div/h:span/h:div/h:div[@class='extended-address x-streetAddress2']",locality:"a:content/h:div/h:span/h:div/h:span[@class='locality']",postalCode:"a:content/h:div/h:span/h:div/h:span[@class='postal-code']",region:"a:content/h:div/h:span/h:div/h:span[@class='region']",countryName:"a:content/h:div/h:span/h:div/h:div[@class='country-name']",summary:"a:summary",groupwareMail:"a:content/h:div/h:span/h:div[@class='x-groupwareMail']",blogUrl:"a:content/h:div/h:span/h:div/h:a[@class='x-blog-url url']/@href",
role:"a:content/h:div/h:span/h:div[@class='role']",managerUid:"a:content/h:div/h:span/h:div[@class='x-manager-uid']",isManager:"a:content/h:div/h:span/h:div[@class='x-is-manager']"},ColleagueConnectionXPath:{entry:"/a:feed/a:entry",uid:"a:id",id:"a:id",updated:"a:updated",authorUserid:"a:author/snx:userid",contributorUserid:"a:contributor/snx:userid",authorName:"a:author/snx:name",contributorName:"a:contributor/snx:name",authorEmail:"a:author/snx:email",contributorEmail:"a:contributor/snx:email",
title:"a:title",content:"a:content",selfLink:"a:link[@rel='self']/@href",editLink:"a:link[@rel='edit']/@href"},ProfileVCardXPath:{entry:"/a:feed/a:entry",uid:"a:contributor/snx:userid",vcard:"a:content",id:"a:id",userid:"a:contributor/snx:userid",name:"a:contributor/a:name",email:"a:contributor/a:email",title:"a:title",updated:"a:updated",altEmail:"EMAIL;X_GROUPWARE_MAIL",photoUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/image']/@href",fnUrl:"URL",soundUrl:"SOUND;VALUE=URL",jobTitle:"TITLE",
organizationUnit:"a:content/h:div/h:span/h:div[@class='org']/h:span[@class='organization-unit']",telephoneNumber:"TEL;WORK",building:"X_BUILDING",floor:"X_FLOOR",officeNumber:"X_OFFICE_NUMBER",workLocation:"ADR;WORK",streetAddress:"a:content/h:div/h:span/h:div/h:div[@class='street-address']",extendedAddress:"a:content/h:div/h:span/h:div/h:div[@class='extended-address x-streetAddress2']",locality:"a:content/h:div/h:span/h:div/h:span[@class='locality']",postalCode:"a:content/h:div/h:span/h:div/h:span[@class='postal-code']",
region:"a:content/h:div/h:span/h:div/h:span[@class='region']",countryName:"a:content/h:div/h:span/h:div/h:div[@class='country-name']",summary:"a:summary",groupwareMail:"EMAIL;X_GROUPWARE_MAIL"},ProfileTagsXPath:{entries:"/app:categories/a:category",targetEmail:"app:categories/snx:targetEmail",numberOfContributors:"app:categories/@snx:numberOfContributors",entry:"/app:categories/a:category",uid:"@term",id:"@term",term:"@term",frequency:"@snx:frequency",intensity:"@snx:intensityBin",visibility:"@snx:visibilityBin",
contributorName:"a:name",contributorUserid:"a:userid",contributorEmail:"a:email"},InviteXPath:i.mixin({connectionType:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/connection/type']/@term",status:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/status']/@term"},f.AtomEntryXPath),profileCreateAttributes:{guid:"com.ibm.snx_profiles.base.guid",email:"com.ibm.snx_profiles.base.email",uid:"com.ibm.snx_profiles.base.uid",distinguishedName:"com.ibm.snx_profiles.base.distinguishedName",displayName:"com.ibm.snx_profiles.base.displayName",
givenNames:"com.ibm.snx_profiles.base.givenNames",surname:"com.ibm.snx_profiles.base.surname",userState:"com.ibm.snx_profiles.base.userState"},AtomProfileDo:"/${profiles}{authType}/atom/profile.do",AtomProfileEntryDo:"/${profiles}{authType}/atom/profileEntry.do",AtomConnectionsDo:"/${profiles}{authType}/atom/connections.do",AtomReportingChainDo:"/${profiles}{authType}/atom/reportingChain.do",AtomPeopleManagedDo:"/${profiles}{authType}/atom/peopleManaged.do",AtomConnectionsInCommonDo:"/${profiles}{authType}/atom/connectionsInCommon.do",
AtomSearchDo:"/${profiles}{authType}/atom/search.do",AtomPeopleManagedDo:"/${profiles}{authType}/atom/peopleManaged.do",AtomTagsDo:"/${profiles}{authType}/atom/profileTags.do",AdminAtomProfileDo:"/${profiles}/admin/atom/profiles.do",AdminAtomProfileEntryDo:"/${profiles}/admin/atom/profileEntry.do"})})},"sbt/connections/controls/files/FileAction":function(){define(["../../../declare","../../../stringUtil","../../../controls/grid/GridAction"],function(i,f,c){return i(c,{nls:{tooltip:"Click to download ${title}"},
constructor:function(){},getTooltip:function(c){return f.replace(this.nls.tooltip,{title:c.getValue("title")})},execute:function(c){window.open(c.getValue("fileUrl"))}})})},"sbt/connections/controls/files/FileGrid":function(){define("../../../declare,../../../lang,../../../dom,../../../stringUtil,../../../config,../../../store/parameter,../../../controls/grid/Grid,./FileGridRenderer,./FileAction,../../../connections/controls/vcard/SemanticTagService,../../../connections/FileService,../../../connections/FileConstants".split(","),
function(i,f,c,h,b,a,d,g,e,j,k,m){c={id:"id",uuid:"td:uuid",title:"a:title",label:"td:label",fileSize:"td:totalMediaSize",fileUrl:"a:link[@rel='alternate']/@href",downloadUrl:"a:link[@rel='edit-media']/@href",tags:"a:category/@term",summary:"a:summary[@type='text']",content:"a:content[@type='html']",visibility:"td:visibility",notification:"td:notification",versionUuid:"td:versionUuid",versionLabel:"td:versionLabel",documentVersionUuid:"td:documentVersionUuid",documentVersionLabel:"td:documentVersionLabel",
shareCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/share']",commentCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/comment']",hitCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/hit']",anonymousHitCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/anonymous_hit']",attachmentCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/attachments']",referenceCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/references']",recommendationCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/recommendations']",
collectionCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/collections']",versionCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/versions']",modified:"td:modified",created:"td:created",published:"a:published",updated:"a:updated",authorName:"a:author/a:name",authorUid:"a:author/snx:userid",authorEmail:"a:author/a:email",modifierName:"a:modifier/a:name",modifierId:"a:modifier/snx:userid",modifierEmail:"a:modifier/a:email"};h={id:"id",uuid:"td:uuid",title:"a:title",label:"td:label",
folderUrl:"a:link[@rel='alternate']/@href",logoUrl:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/logo']/@href",tags:"a:category/@term",summary:"a:summary[@type='text']",content:"a:content[@type='html']",visibility:"td:visibility",notification:"td:notification",versionUuid:"td:versionUuid",versionLabel:"td:versionLabel",documentVersionUuid:"td:documentVersionUuid",documentVersionLabel:"td:documentVersionLabel",itemCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/item']",shareCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/user']",
groupShareCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/group']",modified:"td:modified",created:"td:created",updated:"a:updated",authorName:"a:author/a:name",authorUid:"a:author/snx:userid",authorEmail:"a:author/a:email",content:"a:content[@type='text']",modifierName:"a:modifier/a:name",modifierId:"a:modifier/snx:userid",modifierEmail:"a:modifier/a:email"};a={pageNumber:a.oneBasedInteger("page"),pageSize:a.oneBasedInteger("ps"),sortBy:a.sortField("sortBy",{name:"title",updated:"modified",
downloads:"downloaded",comments:"commented",likes:"recommended",files:"itemCount",created:"created",modified:"modified"}),sortOrder:a.sortOrder("sortOrder")};return i(d,{gridSortType:"",fileService:null,options:{library:{storeArgs:{url:m.AtomFilesMy,attributes:c,paramSchema:a},rendererArgs:{type:"file"}},publicFiles:{storeArgs:{url:m.AtomFilesPublic,attributes:c,paramSchema:a},rendererArgs:{type:"file"}},pinnedFiles:{storeArgs:{url:m.AtomFilesMyPinned,attributes:c,paramSchema:a},rendererArgs:{type:"file"}},
folders:{storeArgs:{url:m.AtomFoldersMy,attributes:h,paramSchema:a},rendererArgs:{type:"folder"}},publicFolders:{storeArgs:{url:m.AtomFoldersPublic,attributes:h,paramSchema:a},rendererArgs:{type:"folder"}},pinnedFolders:{storeArgs:{url:m.AtomFilesMyPinned,attributes:h,paramSchema:a},rendererArgs:{type:"folder"}},activeFolders:{storeArgs:{url:m.AtomFoldersActive,attributes:h,paramSchema:a},rendererArgs:{type:"folder"}},shares:{storeArgs:{url:m.AtomFilesShared,attributes:c,paramSchema:a},rendererArgs:{type:"file"}},
recycledFiles:{storeArgs:{url:m.AtomFilesRecycled,attributes:c,paramSchema:a},rendererArgs:{type:"recycledFile"}},fileComments:{storeArgs:{url:m.AtomFileCommentsMy,attributes:{id:"a:id",uuid:"td:uuid",title:"a:title",content:"a:content[@type='text']",created:"td:created",modified:"td:modified",versionLabel:"td:versionLabel",updated:"a:updated",published:"a:published",modifierName:"a:modifier/a:name",modifierId:"a:modifier/snx:userid",modifierEmail:"a:modifier/a:email",authorName:"a:author/a:name",
authorUid:"a:author/snx:userid",authorEmail:"a:author/a:email"},paramSchema:a},rendererArgs:{type:"comment"}},fileShares:{storeArgs:{url:m.AtomFilesShared,attributes:c,paramSchema:a},rendererArgs:{type:"file"}}},contextRootMap:{files:"files"},defaultOption:"publicFiles",fileAction:new e,constructor:function(a){this.fileService=new k(this.endpointName||"connections");gridSortType="fileShares"==a.type||"library"==a.type||"pinnedFiles"==a.type?"file":"fileComments"==a.type||"recycledFiles"==a.type?"":
"publicFiles"==a.type?"publicFiles":"folder";var b=this.renderer.nls;this._sortInfo={name:{title:b.name,sortMethod:"sortByName",sortParameter:"name"},updated:{title:b.updated,sortMethod:"sortByLastUpdated",sortParameter:"updated"},downloads:{title:b.downloads,sortMethod:"sortByDownloads",sortParameter:"downloads"},comments:{title:b.comments,sortMethod:"sortByComments",sortParameter:"comments"},likes:{title:b.likes,sortMethod:"sortByLikes",sortParameter:"likes"},created:{title:b.created,sortMethod:"sortByCreatedDate",
sortParameter:"created"},files:{title:b.files,sortMethod:"sortByNumberOfFiles",sortParameter:"files"}};"publicFiles"==a.type?(this._activeSortAnchor=this._sortInfo.created,this._activeSortIsDesc=!1):(this._activeSortAnchor="folders"==a.type?this._sortInfo.name:this._sortInfo.updated,this._activeSortIsDesc=!0);if(a&&a.pinFile)this.renderer.pinFiles=a.pinFile},buildUrl:function(a,b,c){b={format:this.format};this.query&&(b=f.mixin(b,this.query));this.direction&&(b=f.mixin(b,{direction:this.direction}));
return this.constructUrl(a,b,this.getUrlParams(),c)},getUrlParams:function(){var a={authType:this.getAuthType()};this.userId&&(a=f.mixin(a,{userId:this.userId}));this.documentId&&(a=f.mixin(a,{documentId:this.documentId}));return a},createDefaultRenderer:function(a){return new g(a)},postCreate:function(){this.inherited(arguments);j.loadSemanticTagService()},handleClick:function(a,b,c){this.fileAction&&(this._stopEvent(c),this.fileAction.execute(b,{grid:this.grid},c))},getSortInfo:function(){if("file"==
gridSortType)return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},list:[this._sortInfo.name,this._sortInfo.updated,this._sortInfo.downloads,this._sortInfo.comments,this._sortInfo.likes]};if("folder"==gridSortType)return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},list:[this._sortInfo.name,this._sortInfo.updated,this._sortInfo.created,this._sortInfo.files]};if("publicFiles"==gridSortType)return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},
list:[this._sortInfo.created,this._sortInfo.downloads,this._sortInfo.comments,this._sortInfo.likes]}},sortByName:function(a,b,c){this._sort("name",!0,a,b,c)},sortByLastUpdated:function(a,b,c){this._sort("updated",!0,a,b,c)},sortByDownloads:function(a,b,c){this._sort("downloads",!0,a,b,c)},sortByComments:function(a,b,c){this._sort("comments",!0,a,b,c)},sortByLikes:function(a,b,c){this._sort("likes",!0,a,b,c)},sortByCreatedDate:function(a,b,c){this._sort("created",!0,a,b,c)},sortByNumberOfFiles:function(a,
b,c){this._sort("files",!0,a,b,c)},showMore:function(){},onUpdate:function(){if(this.renderer.pinFiles){for(var a=document.getElementsByClassName(this.renderer.unPinnedClass),b=[],c=0;c<a.length;c++)b[c]=a[c].id;var e={pinClass:this.renderer.pinnedClass,unPinnedClass:this.renderer.unPinnedClass,ids:b,renderer:this.renderer};this.renderer._hitch(e,this.fileService.getPinnedFiles().then(function(a){for(var b=0;b<e.ids.length;b++)for(var c=0;c<a.length;c++)e.ids[b]==a[c].getId()&&(e.renderer._removeClass(e.ids[b],
e.unPinnedClass),e.renderer._addClass(e.ids[b],e.pinClass))},function(){console.log("error getting pinned files")}))}},doPinFile:function(a,b){var c="";if(b.uuid)c=b.uuid;else if(b._attribs.uuid)c=b._attribs.uuid;var e={pinClass:this.renderer.pinnedClass,unPinnedClass:this.renderer.unPinnedClass,el:a,renderer:this.renderer};a.firstElementChild.className==this.renderer.unPinnedClass?this.renderer._hitch(e,this.fileService.pinFile(c).then(function(){e.renderer._removeClass(e.el.firstElementChild,e.unPinnedClass);
e.renderer._addClass(e.el.firstElementChild,e.pinClass)},function(){console.log("Error pinning file")})):a.firstElementChild.className==this.renderer.pinnedClass&&this.renderer._hitch(e,this.fileService.unpinFile(c).then(function(){e.renderer._removeClass(e.el.firstElementChild,e.pinClass);e.renderer._addClass(e.el.firstElementChild,e.unPinnedClass)},function(){console.log("error removing pin from file")}))}})})},"sbt/connections/controls/files/FileGridRenderer":function(){define("../../../declare,../../../stringUtil,../../../i18n,../ConnectionsGridRenderer,../../../i18n!./nls/FileGridRenderer,../../../text!./templates/FileRow.html,../../../text!./templates/RecycledFileRow.html,../../../text!./templates/FolderRow.html,../../../text!./templates/CommentRow.html".split(","),
function(i,f,c,h,b,a,d,g,e){return i(h,{_nls:b,pinFiles:!1,pinnedClass:"lconnSprite lconnSprite-iconPinned16-on",unPinnedClass:"lconnSprite lconnSprite-iconPinned16-off",constructor:function(b){if("file"==b.type)this.template=a;else if("recycledFile"==b.type)this.template=d;else if("folder"==b.type)this.template=g;else if("comment"==b.type)this.template=e},renderItem:function(a,b,c,e,d,g){e.rowClass=0===d?"lotusFirst":1===d%2?"lotusAltRow":null;this.inherited(arguments)},tooltip:function(a,b){if(a.fileAction)return a.fileAction.getTooltip(b)},
createdLabel:function(a,b){return c.getUpdatedLabel(b.getValue("created"))},formattedContent:function(a,b){return b.getValue("content").replace("\n","<br><br>")},modifiedLabel:function(a,b){return c.getUpdatedLabel(b.getValue("modified"))},commentEditedLabel:function(a,b){var e="",d=c.getUpdatedLabel(b.getValue("modified")),g=c.getUpdatedLabel(b.getValue("created"));d!=g&&(e="Edited "+d);return e},shareLabel:function(a,b){return"shared"==b.getValue("visibility")?"shared with "+b.getValue("shareCount"):
b.getValue("visibility")},visibilityLabel:function(a,b){var c=b.getValue("visibility");return c.charAt(0).toUpperCase()+c.slice(1)},detailedCreated:function(a,b){return(new Date(b.getValue("created"))).toUTCString()},ftype:function(a,b){return b.getValue("title").slice(-3)},recommendationLabel:function(a,b){return 0==b.getValue("recommendationCount")?this._nls.noLikes:1==b.getValue("recommendationCount")?this._nls.oneLike:f.replace(this._nls.nLikes,b)},pinFileOnOrOff:function(){if(this.pinFiles){if(this.pinFiles)return this.unPinnedClass}else return""},
getUserProfileHref:function(a,b){return this.getProfileUrl(a,b.getValue("authorUid"))}})})},"sbt/connections/FileService":function(){define("../declare,../lang,../stringUtil,../Promise,./FileConstants,../base/BaseService,../base/BaseEntity,../base/XmlDataHandler,../config,../util,../xml".split(","),function(i,f,c,h,b,a,d,g,e,j,k){var m=i(d,{getCommentId:function(){return this.id||this.getAsString("uid")},getTitle:function(){return this.getAsString("title")},getContent:function(){return this.getAsString("content")},
getCreated:function(){return this.getAsDate("created")},getModified:function(){return this.getAsDate("modified")},getVersionLabel:function(){return this.getAsString("versionLabel")},getUpdated:function(){return this.getAsDate("updated")},getPublished:function(){return this.getAsDate("published")},getModifier:function(){return this.getAsObject(["modifierName","modifierUserId","modifierEmail","modifierUserState"])},getAuthor:function(){return this.getAsObject(["authorName","authorUserId","authorEmail",
"authorUserState"])},getLanguage:function(){return this.getAsString("language")},getDeleteWithRecord:function(){return this.getAsBoolean("deleteWithRecord")}}),n=i(d,{getFileId:function(){return this.id||this._fields.id||this.getAsString("uid")},getLabel:function(){return this.getAsString("label")},getSelfUrl:function(){return this.getAsString("selfUrl")},getAlternateUrl:function(){return this.getAsString("alternateUrl")},getDownloadUrl:function(){return e.Properties.serviceUrl+"/files/"+this.service.endpoint.proxyPath+
"/connections/DownloadFile/"+this.getFileId()+"/"+this.getLibraryId()},getType:function(){return this.getAsString("type")},getCategory:function(){return this.getAsString("category")},getSize:function(){return this.getAsNumber("length")},getEditLink:function(){return this.getAsString("editLink")},getEditMediaLink:function(){return this.getAsString("editMediaLink")},getThumbnailUrl:function(){return this.getAsString("thumbnailUrl")},getCommentsUrl:function(){return this.getAsString("commentsUrl")},
getAuthor:function(){return this.getAsObject(["authorName","authorUserId","authorEmail","authorUserState"])},getTitle:function(){return this.getAsString("title")},getPublished:function(){return this.getAsDate("published")},getUpdated:function(){return this.getAsDate("updated")},getCreated:function(){return this.getAsDate("created")},getModified:function(){return this.getAsDate("modified")},getLastAccessed:function(){return this.getAsDate("lastAccessed")},getModifier:function(){return this.getAsObject(["modifierName",
"modifierUserId","modifierEmail","modifierUserState"])},getVisibility:function(){return this.getAsString("visibility")},getLibraryId:function(){return this.getAsString("libraryId")},setLibraryId:function(a){return this.setAsString("libraryId",a)},getLibraryType:function(){return this.getAsString("libraryType")},getVersionUuid:function(){return this.getAsString("versionUuid")},getVersionLabel:function(){return this.getAsString("versionLabel")},getPropagation:function(){return this.getAsString("propagation")},
getRecommendationsCount:function(){return this.getAsNumber("recommendationsCount")},getCommentsCount:function(){return this.getAsNumber("commentsCount")},getSharesCount:function(){return this.getAsNumber("sharesCount")},getFoldersCount:function(){return this.getAsNumber("foldersCount")},getAttachmentsCount:function(){return this.getAsNumber("attachmentsCount")},getVersionsCount:function(){return this.getAsNumber("versionsCount")},getReferencesCount:function(){return this.getAsNumber("referencesCount")},
getTotalMediaSize:function(){return this.getAsNumber("totalMediaSize")},getSummary:function(){return this.getAsString("summary")},getContentUrl:function(){return this.getAsString("contentUrl")},getContentType:function(){return this.getAsString("contentType")},getObjectTypeId:function(){return this.getAsString("objectTypeId")},getLockType:function(){return this.getAsString("lock")},getAcls:function(){return this.getAsString("acls")},getHitCount:function(){return this.getAsNumber("hitCount")},getAnonymousHitCount:function(){return this.getAsNumber("anonymousHitCount")},
getTags:function(){return this.getAsArray("tags")},setTags:function(a){return this.setAsArray("tags",a)},setLabel:function(a){return this.setAsString("label",a)},setSummary:function(a){return this.setAsString("summary",a)},setVisibility:function(a){return this.setAsString("visibility",a)},setNotification:function(a){return this.setAsBoolean("notification",a?"on":"off")},load:function(a,c,e){var d=this.getFileId(),j=this.service.validateField("fileId",d);if(j||c&&(j=this.service.validateField("libraryId",
this.getLibraryId())))return j;var h=this,a={query:f.mixin({fileUuid:d},a||{})};e||(e=c?this.service.constructUrl(b.AtomFileInstancePublic,null,{documentId:d,libraryId:this.getLibraryId()}):this.service.constructUrl(b.AtomFileInstance,null,{documentId:d}));return this.service.getEntity(e,a,d,{createEntity:function(a,c){h.dataHandler=new g({data:c,namespaces:b.Namespaces,xpath:b.FileXPath});return h}})},save:function(a){if(this.getFileId())return this.service.updateFileMetadata(this,a)},addComment:function(a,
b){return this.service.addCommentToFile(this.getAuthor().authorUserId,this.getFileId(),a,b)},pin:function(a){return this.service.pinFile(this.getFileId(),a)},unpin:function(a){return this.service.unpinFile(this.getFileId(),a)},lock:function(a){return this.service.lockFile(this.getFileId(),a)},unlock:function(a){return this.service.unlockFile(this.getFileId(),a)},remove:function(a){return this.service.deleteFile(this.getFileId(),a)},update:function(a){return this.service.updateFileMetadata(this,a)},
download:function(){return this.service.downloadFile(this.getFileId(),this.getLibraryId())}}),p={createEntities:function(a,c){return new g({data:c,namespaces:b.Namespaces,xpath:b.FileFeedXPath})},createEntity:function(a,c){var e=null,e="object"==typeof c?c:(new g({data:c,namespaces:b.Namespaces,xpath:b.FileXPath})).data,e=new g({data:e,namespaces:b.Namespaces,xpath:b.FileXPath});return new n({service:a,dataHandler:e})}},o={createEntities:function(a,c){return new g({data:c,namespaces:b.Namespaces,
xpath:b.CommentFeedXPath})},createEntity:function(a,c){var e=null,e="object"==typeof c?c:(new g({data:c,namespaces:b.Namespaces,xpath:b.CommentXPath})).data,e=new g({data:e,namespaces:b.Namespaces,xpath:b.CommentXPath});return new m({service:a,dataHandler:e})}};return i(a,{contextRootMap:{files:"files"},constructor:function(a){a=a?a.endpoint?a.endpoint:this.getDefaultEndpointName():this.getDefaultEndpointName();if(!this.endpoint)this.endpoint=e.findEndpoint(a)},getDefaultEndpointName:function(){return"connections"},
getFileFeedCallbacks:function(){return p},getCommentFeedCallbacks:function(){return o},newFile:function(a){if(a instanceof n)return a;f.isString(a)&&(a={id:a});return new n({service:this,_fields:f.mixin({},a)})},getFile:function(a,b){var c=this.validateField("fileId",a);return c?c:this.newFile({id:a}).load(b)},getCommunityFile:function(a,c,e){var d=this.validateField("fileId",a);d||(d=this.validateField("communityId",c));if(d)return d;a=this.newFile({id:a});c=this.constructUrl(b.AtomGetCommunityFile,
null,{communityId:c,documentId:a.getFileId()});return a.load(e,null,c)},getMyFiles:function(a){return this.getEntities(b.AtomFilesMy,{method:"GET",handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},getCommunityFiles:function(a,c){var e={method:"GET",handleAs:"text",query:c||{}};return this.getEntities(this.constructUrl(b.AtomGetAllFilesInCommunity,null,{communityId:a}),e,this.getFileFeedCallbacks())},getFilesSharedWithMe:function(a){a={method:"GET",handleAs:"text",query:f.mixin({direction:"inbound"},
a?a:{})};return this.getEntities(b.AtomFilesShared,a,this.getFileFeedCallbacks())},getFilesSharedByMe:function(a){a={method:"GET",handleAs:"text",query:f.mixin({direction:"outbound"},a?a:{})};return this.getEntities(b.AtomFilesShared,a,this.getFileFeedCallbacks())},getPublicFiles:function(a){return this.getEntities(b.AtomFilesPublic,{method:"GET",handleAs:"text",query:a||{},headers:{}},this.getFileFeedCallbacks())},getMyFolders:function(a){return this.getEntities(b.AtomFoldersMy,{method:"GET",handleAs:"text",
query:a||{}},this.getFileFeedCallbacks())},getMyFileComments:function(a,b,c){return this.getFileComments(b,a,!1,null,c)},getPublicFileComments:function(a,b,c){return this.getFileComments(b,a,!0,null,c)},addCommentToFile:function(a,c,e,d,g){var f=this.validateField("fileId",c);f||(f=this.validateField("comment",e));if(f)return f;e={method:"POST",query:g||{},headers:b.AtomXmlHeaders,data:this._constructPayloadForComment(!1,e)};d||(d=a?this.constructUrl(b.AtomAddCommentToFile,null,{userId:a,documentId:c}):
this.constructUrl(b.AtomAddCommentToMyFile,null,{documentId:c}));return this.updateEntity(d,e,this.getCommentFeedCallbacks())},addCommentToMyFile:function(a,b,c){return this.addCommentToFile(null,a,b,null,c)},addCommentToCommunityFile:function(a,c,e,d){e=this.constructUrl(b.AtomAddCommentToCommunityFile,null,{communityId:e,documentId:a});return this.addCommentToFile(null,a,c,e,d)},updateFileMetadata:function(a,c,e){var d=this.validateField("fileOrJson",a);if(d)return d;a=this.newFile(a);e={method:"PUT",
query:e||{},headers:b.AtomXmlHeaders,data:this._constructPayload(a._fields,a.getFileId())};c||(c=this.constructUrl(b.AtomUpdateFileMetadata,null,{documentId:a.getFileId()}));return this.updateEntity(c,e,this.getFileFeedCallbacks())},updateCommunityFileMetadata:function(a,c,e){var d=this.validateField("fileOrJson",a);if(d)return d;var g=this.newFile(a),d=new h,f=this,j=function(){var a=f.constructUrl(b.AtomUpdateCommunityFileMetadata,null,{libraryId:g.getLibraryId(),documentId:g.getFileId()});f.updateFileMetadata(g,
a,e).then(function(a){d.fulfilled(a)},function(a){d.rejected(a)})};g.isLoaded()?j():(a=f.constructUrl(b.AtomGetCommunityFile,null,{communityId:c,documentId:g.getFileId()}),g.load(null,null,a).then(function(){j()},function(a){d.rejected(a)}));return d},pinFile:function(a,c){var e=this.validateField("fileId",a);if(e)return e;e=c?f.mixin({},c):{};e.itemId=a;return this.updateEntity(b.AtomPinFile,{method:"POST",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:e},{createEntity:function(){return"Success"}})},
unpinFile:function(a,c){var e=this.validateField("fileId",a);if(e)return e;e=c?f.mixin({},c):{};e.itemId=a;return this.deleteEntity(b.AtomPinFile,{method:"DELETE",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:e},a)},addFilesToFolder:function(a,c){var e=this.validateField("fileIds",a);e||(e=this.validateField("folderId",c));var e=this.constructUrl(b.AtomAddFilesToFolder,null,{collectionId:c}),d="?",g;for(g in a)e+=d+"itemId="+a[g],d="&";return this.updateEntity(e,{method:"POST",headers:{"X-Update-Nonce":"{X-Update-Nonce}"}},
{createEntity:function(){return"Success"}})},getPinnedFiles:function(a){return this.getEntities(b.AtomFilesMyPinned,{method:"GET",handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},deleteFile:function(a){var c=this.validateField("fileId",a);return c?c:this.deleteEntity(this.constructUrl(b.AtomDeleteFile,null,{documentId:a}),{method:"DELETE",headers:{"X-Update-Nonce":"{X-Update-Nonce}"}},a)},lockFile:function(a,c){var e=c?f.mixin({},c):{};e.type="HARD";var d={method:"POST",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},
query:c||{}};return this.updateEntity(this.constructUrl(b.AtomLockUnlockFile,e,{documentId:a}),d,{createEntity:function(){return"Success"}},c)},unlockFile:function(a,c){var e=c?f.mixin({},c):{};e.type="NONE";var d={method:"POST",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:c||{}};return this.updateEntity(this.constructUrl(b.AtomLockUnlockFile,e,{documentId:a}),d,{createEntity:function(){return"Success"}},c)},uploadFile:function(a,b){var c=this.validateField("File Control Or Id",a);if(c||(c=
this.validateHTML5FileSupport()))return c;c=null;if("string"==typeof a)c=document.getElementById(a),filePath=c.value,c=c.files;else if("object"==typeof a)filePath=a.value,c=a.files;else return this.createBadRequestPromise("File Control or ID is required");var c=c[0],e=new FormData;e.append("file",c);return this.uploadFileBinary(e,c.name,b)},uploadFileBinary:function(a,b,c){var d=this.validateField("Binary Content",a);return d?d:(d=this.validateField("File Name",b))?d:-1!=j.getJavaScriptLibrary().indexOf("Dojo 1.4.3")?
this.createBadRequestPromise("Dojo 1.4.3 is not supported for File upload"):this.updateEntity(this.constructUrl(e.Properties.serviceUrl+"/files/"+this.endpoint.proxyPath+"/connections/UploadFile/"+encodeURIComponent(b),c&&c.parameters?c.parameters:{}),{method:"POST",headers:{"Content-Type":!1,"Process-Data":!1},query:c||{},data:a},this.getFileFeedCallbacks())},uploadNewVersion:function(a,b,c){var e=this.validateField("File Control Or Id",b);e||(e=this.validateField("File ID",a));if(e||(e=this.validateHTML5FileSupport()))return e;
e=null;if("string"==typeof b)b=document.getElementById(b),filePath=b.value,e=b.files;else if("object"==typeof b)filePath=b.value,e=b.files;else return this.createBadRequestPromise("File Control or ID is required");b=e[0];e=new FormData;e.append("file",b);return this.uploadNewVersionBinary(e,a,b.name,c)},uploadNewVersionBinary:function(a,b,c,d){var g=this.validateField("Binary Content",a);if(g||(g=this.validateField("File ID",b)))return g;if(g=this.validateField("File Name",c))return g;if(-1!=j.getJavaScriptLibrary().indexOf("Dojo 1.4.3"))return this.createBadRequestPromise("Dojo 1.4.3 is not supported for File Upload");
var b=this.constructUrl(e.Properties.serviceUrl+"/files/"+this.endpoint.proxyPath+"/connections/UploadNewVersion/"+encodeURIComponent(b)+"/"+encodeURIComponent(c),d&&d.parameters?d.parameters:{}),a={method:"PUT",headers:{"Content-Type":!1,"Process-Data":!1},data:a},g=new h,f=this;this.updateEntity(b,a,this.getFileFeedCallbacks()).then(function(a){d?f.updateFile(a.getFileId(),d).then(function(a){g.fulfilled(a)}):g.fulfilled(a)},function(a){g.rejected(a)});return g},updateFile:function(a,e){var d=this.validateField("File ID",
a);if(d)return d;var d=this.constructUrl(b.AtomFileInstance,null,{documentId:a}),g="?";if(e&&e.tags){var f=e.tags.split(","),j;for(j in f)d+=g+"tag="+c.trim(f[j]),g="&";delete e.tags}if(e&&e.removeTags){f=e.removeTags.split(",");for(j in f)d+=g+"removeTag="+c.trim(f[j]),g="&";delete e.removeTags}return this.updateEntity(d,{method:"PUT",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:e||{}},this.getFileFeedCallbacks())},downloadFile:function(a,b){window.open(e.Properties.serviceUrl+"/files/"+this.endpoint.proxyPath+
"/connections/DownloadFile/"+a+"/"+b)},actOnCommentAwaitingApproval:function(){},actOnFileAwaitingApproval:function(){},addFileToFolders:function(a,c,e){var d=this.validateField("fileId",a);d||(d=this.validateField("folderIds",c));if(d)return d;d=null;d=e?this.constructUrl(b.AtomAddFileToFolders,null,{userId:e,documentId:a}):this.constructUrl(b.AtomAddMyFileToFolders,null,{documentId:a});a=this._constructPayloadForMultipleEntries(c,"itemId","collection");return this.updateEntity(d,{method:"POST",
headers:b.AtomXmlHeaders,data:a},{createEntity:function(){}})},createFolder:function(a,c,e){var d=this.validateField("folderName",a);if(d)return d;d=b.AtomCreateFolder;a=this._constructPayloadFolder(a,c,e,"create");a={method:"POST",headers:f.mixin(b.AtomXmlHeaders,{"X-Update-Nonce":"{X-Update-Nonce}"}),data:a};return this.updateEntity(d,a,this.getFileFeedCallbacks())},deleteAllFilesFromRecycleBin:function(a){var c=null,c=a?this.constructUrl(b.AtomDeleteAllFilesFromRecyclebBin,null,{userId:a}):b.AtomDeleteMyFilesFromRecyclebBin;
return this.deleteEntity(c,{method:"DELETE"},"")},deleteAllVersionsOfFile:function(a,c,e){var d=this.validateField("fileId",a);d||(d=this.validateField("versionLabel",c));if(d)return d;c={method:"DELETE",query:f.mixin({category:"version",deleteFrom:c},e||{}),headers:{"X-Update-Nonce":"{X-Update-Nonce}"}};return this.deleteEntity(this.constructUrl(b.AtomDeleteAllVersionsOfAFile,null,{documentId:a}),c,a)},deleteComment:function(a,c,e,d){var g=this.validateField("fileId",a);g||(g=this.validateField("commentId",
c));if(g)return g;g=null;g=e?this.constructUrl(b.AtomDeleteComment,null,{userId:e,documentId:a,commentId:c}):this.constructUrl(b.AtomDeleteMyComment,null,{documentId:a,commentId:c});return this.deleteEntity(g,{method:"DELETE",query:d||{},headers:{"X-Update-Nonce":"{X-Update-Nonce}"}},c)},deleteFileFromRecycleBin:function(a,c,e){var d=this.validateField("fileId",a);if(d)return d;d=null;d=c?this.constructUrl(b.AtomDeleteFileFromRecycleBin,null,{userId:c,documentId:a}):this.constructUrl(b.AtomDeleteMyFileFromRecycleBin,
null,{documentId:a});return this.deleteEntity(d,{method:"DELETE",query:e||{},headers:{"X-Update-Nonce":"{X-Update-Nonce}"}},a)},deleteFileShare:function(a,c,e){var d=this.validateField("fileId",a);if(d)return d;e=f.mixin({sharedWhat:a},e||{});if(c)e.sharedWith=c;return this.deleteEntity(b.AtomDeleteFileShare,{method:"DELETE",query:e,headers:{"X-Update-Nonce":"{X-Update-Nonce}"}},a)},deleteFolder:function(a){var c=this.validateField("folderId",a);return c?c:this.deleteEntity(this.constructUrl(b.AtomDeleteFFolder,
null,{collectionId:a}),{method:"DELETE",headers:{"X-Update-Nonce":"{X-Update-Nonce}"}},a)},getAllUserFiles:function(a,c){var e=this.validateField("userId",a);if(e)return e;e={method:"GET",handleAs:"text",query:c||{}};return this.getEntities(this.constructUrl(b.AtomGetAllUsersFiles,null,{userId:a}),e,this.getFileFeedCallbacks())},getFileComments:function(a,c,e,d,g,f){var j=this.validateField("fileId",a);if(j)return j;j=null;if(g)j=this.constructUrl(b.AtomAddCommentToCommunityFile,null,{communityId:g,
documentId:a});else if(d)j=c?this.constructUrl(b.AtomGetFileComment,null,{userId:c,documentId:a,commentId:d}):this.constructUrl(b.AtomGetMyFileComment,null,{documentId:a,commentId:d});else{if(j=this.validateField("userId",c))return j;j=e?this.constructUrl(b.AtomFileCommentsPublic,null,{userId:c,documentId:a}):this.constructUrl(b.AtomFileCommentsMy,null,{userId:c,documentId:a})}return this.getEntities(j,{method:"GET",handleAs:"text",query:f||{}},this.getCommentFeedCallbacks())},getAllCommunityFileComments:function(a,
b,c){var e=this.validateField("fileId",a);e||(e=this.validateField("communityId",b));return e?e:this.getFileComments(a,null,null,null,b,c)},getFileFromRecycleBin:function(a,c,e){var d=this.validateField("fileId",a);if(d)return d;e={method:"GET",handleAs:"text",query:e||{}};return this.getEntity(this.constructUrl(b.AtomGetFileFromRecycleBin,null,{userId:c,documentId:a}),e,{createEntity:function(a,c){self.dataHandler=new g({data:c,namespaces:b.Namespaces,xpath:b.FileXPath});return self}})},getFilesAwaitingApproval:function(a){return this.getEntities(b.AtomGetFilesAwaitingApproval,
{method:"GET",handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},getFileShares:function(a){return this.getEntities(b.AtomGetFileShares,{method:"GET",handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},getFilesInFolder:function(a,c){return this.getEntities(this.constructUrl(b.AtomGetFilesInFolder,null,{collectionId:a}),{method:"GET",handleAs:"text",query:c||{}},this.getFileFeedCallbacks())},getFilesInMyRecycleBin:function(a){return this.getEntities(b.AtomGetFilesInMyRecycleBin,{method:"GET",
handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},getFileWithGivenVersion:function(a,c,e){var d=this.validateField("fileId",a);if(d)return d;if(!c)return this.getFile(a,e);e={method:"GET",handleAs:"text",query:e||{}};return this.getEntity(this.constructUrl(b.AtomGetFileWithGivenVersion,null,{documentId:a,versionId:c}),e,{createEntity:function(a,c){self.dataHandler=new g({data:c,namespaces:b.Namespaces,xpath:b.FileXPath});return self}})},getFolder:function(a){var c=this.validateField("folderId",
a);return c?c:this.getEntity(this.constructUrl(b.AtomGetFolder,null,{collectionId:a}),{method:"GET",handleAs:"text"},{createEntity:function(a,c){self.dataHandler=new g({data:c,namespaces:b.Namespaces,xpath:b.FileXPath});return self}})},getFoldersWithRecentlyAddedFiles:function(a){return this.getEntities(b.AtomGetFoldersWithRecentlyAddedFiles,{method:"GET",handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},getPinnedFolders:function(a){return this.getEntities(b.AtomGetPinnedFolders,{method:"GET",
handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},getPublicFolders:function(a){return this.getEntities(b.AtomGetPublicFolders,{method:"GET",handleAs:"text",query:a||{}},this.getFileFeedCallbacks())},pinFolder:function(a,c){var e=this.validateField("folderId",a);if(e)return e;e=c?f.mixin({},c):{};e.itemId=a;return this.updateEntity(b.AtomPinFolder,{method:"POST",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:e},{createEntity:function(){}})},removeFileFromFolder:function(a,c){var e=this.validateField("folderId",
a);if(e||(e=this.validateField("fileId",c)))return e;e=args?f.mixin({},args):{};e.itemId=c;return this.deleteEntity(this.constructUrl(b.AtomRemoveFileFromFolder,null,{collectionId:a}),{method:"DELETE",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:e},c)},restoreFileFromRecycleBin:function(a,c){var e=this.validateField("fileId",a);if(e||(e=this.validateField("userId",c)))return e;e=args?f.mixin({},args):{};e.undelete="true";e={method:"POST",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:e};
return this.updateEntity(this.constructUrl(b.AtomRestoreFileFromRecycleBin,null,{userId:c,documentId:a}),e,{createEntity:function(a,c){self.dataHandler=new g({data:c,namespaces:b.Namespaces,xpath:b.FileXPath});return self}})},shareFileWithCommunities:function(a,c){var e=this.validateField("fileId",a);e||(e=this.validateField("communityIds",c));if(e)return e;var e=this.constructUrl(b.AtomShareFileWithCommunities,null,{documentId:a}),d=this._constructPayloadForMultipleEntries(c,"itemId","community");
return this.updateEntity(e,{method:"POST",headers:b.AtomXmlHeaders,data:d},{createEntity:function(a,b,c){return c}})},unpinFolder:function(a,c){var e=this.validateField("folderId",a);if(e)return e;e=c?f.mixin({},c):{};e.itemId=a;return this.deleteEntity(b.AtomPinFolder,{method:"DELETE",headers:{"X-Update-Nonce":"{X-Update-Nonce}"},query:e},a)},updateMyComment:function(a,b,c,e){return updateComment(a,b,c,null,e)},updateComment:function(a,c,e,d,g){var f=this.validateField("fileId",a);f||(f=this.validateField("comment",
e));if(f)return f;f||(f=this.validateField("commentId",c));if(f)return f;e={method:"POST",query:g||{},headers:b.AtomXmlHeaders,data:this._constructPayloadForComment(!1,e)};g=null;g=d?this.constructUrl(b.AtomUpdateComment,null,{userId:d,documentId:a,commentId:c}):this.constructUrl(b.AtomUpdateMyComment,null,{documentId:a,commentId:c});return this.updateEntity(g,e,this.getCommentFeedCallbacks())},addFileToFolder:function(a,b,c,e){return this.addFileToFolders(a,[b],c,e)},_constructPayloadFolder:function(a,
b,e,d,g){var f=this,j=null,h=null,i=null;e&&""!=c.trim(e)&&(e=e.split(","),3==e.length&&(j=e[0],h=e[1],i=e[2]));var m=function(c,e){"category"==e?c=k.encodeXmlEntry("collection"):"id"==e?c=k.encodeXmlEntry(g):"label"==e?c=k.encodeXmlEntry(a):"title"==e?c=k.encodeXmlEntry(a):"summary"==e?c=k.encodeXmlEntry(b):"visibility"==e?c=k.encodeXmlEntry("private"):"shareWithId"==e&&j?c=k.encodeXmlEntry(j):"shareWithWhat"==e&&h?c=k.encodeXmlEntry(h):"shareWithRole"==e&&i&&(c=k.encodeXmlEntry(i));return c},e=
c.transform('<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom">${getCategory}${getId}${getFolderLabel}${getTitle}${getSummary}${getVisibility}${getVisibilityShare}</entry>',this,function(a,b){"getCategory"==b?a=c.transform('<category term="${category}" label="${category}" scheme="tag:ibm.com,2006:td/type"/>',f,m,f):"getId"==b&&g?a=c.transform("<id>${id}</id>",f,m,f):"getFolderLabel"==b?a=c.transform('<label xmlns="urn:ibm.com/td" makeUnique="true">${label}</label>',
f,m,f):"getTitle"==b?a=c.transform("<title>${title}</title>",f,m,f):"getSummary"==b?a=c.transform('<summary type="text">${summary}</summary>',f,m,f):"getVisibility"==b?a=c.transform('<visibility xmlns="urn:ibm.com/td">${visibility}</visibility>',f,m,f):"getVisibilityShare"==b&&j&&(a=c.transform('<sharedWith xmlns="urn:ibm.com/td"> <member xmlns="http://www.ibm.com/xmlns/prod/composite-applications/v1.0" ca:type="${shareWithWhat}" xmlns:ca="http://www.ibm.com/xmlns/prod/composite-applications/v1.0" ca:id="${shareWithId}" ca:role="${shareWithRole}"/> </sharedWith>',
f,m,f));return a},this);return c.trim(e)},_constructPayloadForMultipleEntries:function(a,b,e){var b='<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">${getEntries}</feed>',d="",g="",f="",j="",h=function(a,b){"category"==b?a=k.encodeXmlEntry(e):"getCategory"==b?a=g:"fileId"==b?a=k.encodeXmlEntry(j):"getItem"==b?a=f:"getEntries"==b&&(a=d);return a},i;for(i in a){var j=a[i],m="<entry>${getCategory}${getItem}</entry>";e&&(g=c.transform('<category term="${category}" label="${category}" scheme="tag:ibm.com,2006:td/type"/>',
this,h,this));f=c.transform('<itemId xmlns="urn:ibm.com/td">${fileId}</itemId>',this,h,this);m=c.transform(m,this,h,this);d+=m}""!=d&&(b=c.transform(b,this,h,this));return b},_constructPayloadForComment:function(a,b){var e='<entry xmlns="http://www.w3.org/2005/Atom">${getCategory}${getDeleteComment}${getContent}</entry>',d="",g="",f="",j=function(a,c){"category"==c?a=k.encodeXmlEntry("comment"):"content"==c?a=k.encodeXmlEntry(b):"deleteWithRecord"==c?a="true":"getCategory"==c&&""!=d?a=d:"getContent"==
c&&""!=g?a=g:"getDeleteComment"==c&&""!=f&&(a=f);return a},d=c.transform('<category term="${category}" label="${category}" scheme="tag:ibm.com,2006:td/type"/>',this,j,this),g=c.transform('<content type="text/plain">${content}</content>',this,j,this);a&&(f=c.transform('<deleteWithRecord xmlns="urn:ibm.com/td">${deleteWithRecord}</deleteWithRecord>',this,j,this));return e=c.transform(e,this,j,this)},_constructPayload:function(a){var b='<entry xmlns="http://www.w3.org/2005/Atom">${getCategory}${getId}${getUuid}${getLabel}${getTitle}${getSummary}${getVisibility}${getItem}${getTags}${getNotification}</entry>',
e="",d="",g="",f="",j="",h="",i="",m="",n="",p="",y=null,w=function(a,b){y?a=k.encodeXmlEntry(y):"getCategory"==b&&""!=e?a=e:"getId"==b&&""!=d?a=d:"getUuid"==b&&""!=g?a=g:"getLabel"==b&&""!=f?a=f:"getTitle"==b&&""!=j?a=j:"getSummary"==b&&""!=h?a=h:"getVisibility"==b&&""!=i?a=i:"getItem"==b&&""!=m?a=m:"getTags"==b&&""!=n?a=n:"getNotification"==b&&""!=p&&(a=p);return a},o;for(o in a)if(y=a[o],-1!=o.indexOf("category"))e=c.transform('<category term="${category}" label="${category}" scheme="tag:ibm.com,2006:td/type"/>',
this,w,this);else if(-1!=o.indexOf("id"))d=c.transform("<id>${id}</id>",this,w,this);else if(-1!=o.indexOf("uuid"))g=c.transform('<uuid xmlns="urn:ibm.com/td">${uuid}</uuid>',this,w,this);else if(-1!=o.indexOf("label"))f=c.transform('<label xmlns="urn:ibm.com/td">${label}</label>',this,w,this),j=c.transform("<title>${title}</title>",this,w,this);else if(-1!=o.indexOf("summary"))h=c.transform('<summary type="text">${summary}</summary>',this,w,this);else if(-1!=o.indexOf("visibility"))i=c.transform('<visibility xmlns="urn:ibm.com/td">${visibility}</visibility>',
this,w,this);else if(-1!=o.indexOf("itemId"))m=c.transform('<itemId xmlns="urn:ibm.com/td">${fileId}</itemId>',this,w,this);else if(-1!=o.indexOf("tags")){var C=y,D;for(D in C)n+=c.transform('<category term="${tag}" /> ',{tag:C[D]})}else o.contains("notification")&&(p=c.transform("<td:notification>${notification}</td:notification>",this,w,this));y=null;return b=c.transform(b,this,w,this)}})})},"sbt/connections/FileConstants":function(){define(["../lang","./ConnectionsConstants"],function(i,f){return i.mixin({FileFeedXPath:f.ConnectionsFeedXPath,
CommentFeedXPath:f.ConnectionsFeedXPath,FileXPath:{entry:"/a:entry",id:"a:id",uid:"td:uuid",label:"td:label",selfUrl:"a:link[@rel='self']/@href",alternateUrl:"a:link[@rel='alternate']/@href",downloadUrl:"a:link[@rel='enclosure']/@href",type:"a:link[@rel='enclosure']/@type",length:"a:link[@rel='enclosure']/@length",editLink:"a:link[@rel='edit']/@href",editMediaLink:"a:link[@rel='edit-media']/@href",thumbnailUrl:"a:link[@rel='thumbnail']/@href",commentsUrl:"a:link[@rel='replies']/@href",authorName:"a:author/a:name",
authorUserId:"a:author/snx:userid",authorEmail:"a:author/a:email",authorUserState:"a:author/snx:userState",title:"a:title",published:"a:published",updated:"a:updated",created:"td:created",modified:"td:modified",lastAccessed:"td:lastAccessed",modifierName:"td:modifier/td:name",modifierUserId:"td:modifier/snx:userid",modifierEmail:"td:modifier/td:email",modifierUserState:"td:modifier/snx:userState",visibility:"td:visibility",libraryId:"td:libraryId",libraryType:"td:libraryType",versionUuid:"td:versionUuid",
versionLabel:"td:versionLabel",propagation:"td:propagation",recommendationsCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/recommendations']",commentsCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/comment']",sharesCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/share']",foldersCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/collections']",attachmentsCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/attachments']",versionsCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/versions']",
referencesCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/references']",totalMediaSize:"td:totalMediaSize",summary:"a:summary",contentUrl:"a:content/@src",contentType:"a:content/@type",objectTypeId:"td:objectTypeId",lock:"td:lock/@type",acls:"td:permissions",hitCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/hit']",anonymousHitCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/anonymous_hit']",tags:"a:category/@term",category:"a:category/@label"},CommentXPath:{entry:"a:entry",
id:"a:id",uid:"td:uuid",title:"a:title",content:"a:content[@type='text']",created:"td:created",modified:"td:modified",versionLabel:"td:versionLabel",updated:"a:updated",published:"a:published",modifierName:"td:modifier/td:name",modifierUserId:"td:modifier/snx:userid",modifierEmail:"td:modifier/td:email",modifierUserState:"td:modifier/snx:userState",authorName:"a:author/a:name",authorUserId:"a:author/snx:userid",authorEmail:"a:author/a:email",authorUserState:"a:author/snx:userState",language:"td:language",
deleteWithRecord:"td:deleteWithRecord"},AtomFileInstance:"${files}/basic/api/myuserlibrary/document/{documentId}/entry",AtomFileInstancePublic:"${files}/basic/anonymous/api/library/{libraryId}/document/{documentId}/entry",AtomFilesMy:"/${files}/basic/api/myuserlibrary/feed",AtomFilesShared:"/${files}/basic/api/documents/shared/feed",AtomFilesPublic:"/${files}/basic/anonymous/api/documents/feed?visibility=public",AtomFilesRecycled:"/${files}/basic/api/myuserlibrary/view/recyclebin/feed",AtomFoldersMy:"/${files}/basic/api/collections/feed",
AtomFoldersPublic:"/${files}/basic/anonymous/api/collections/feed",AtomFoldersActive:"/${files}/basic/api/collections/addedto/feed",AtomFileCommentsPublic:"/${files}/basic/anonymous/api/userlibrary/{userId}/document/{documentId}/feed?category=comment",AtomFileCommentsMy:"/${files}/basic/api/userlibrary/{userId}/document/{documentId}/feed?category=comment",AtomAddCommentToFile:"/${files}/basic/api/userlibrary/{userId}/document/{documentId}/feed",AtomAddCommentToMyFile:"/${files}/basic/api/myuserlibrary/document/{documentId}/feed",
AtomUpdateFileMetadata:"/${files}/basic/api/myuserlibrary/document/{documentId}/entry",AtomFilesMyPinned:"/${files}/basic/api/myfavorites/documents/feed",AtomPinFile:"/${files}/basic/api/myfavorites/documents/feed",AtomAddFilesToFolder:"/${files}/basic/api/collection/{collectionId}/feed",AtomDeleteFile:"/${files}/basic/api/myuserlibrary/document/{documentId}/entry",AtomLockUnlockFile:"/${files}/basic/api/document/{documentId}/lock",AtomAddFileToFolders:"/${files}/basic/api/userlibrary/{userId}/document/{documentId}/feed",
AtomAddMyFileToFolders:"/${files}/basic/api/myuserlibrary/document/{documentId}/feed",AtomCreateFolder:"/${files}/basic/api/collections/feed",AtomDeleteAllFilesFromRecyclebBin:"/${files}/basic/api/userlibrary/{userId}/view/recyclebin/feed",AtomDeleteMyFilesFromRecyclebBin:"/${files}/basic/api/myuserlibrary/view/recyclebin/feed",AtomDeleteAllVersionsOfAFile:"/${files}/basic/api/myuserlibrary/document/{documentId}/feed",AtomDeleteComment:"/${files}/basic/api/userlibrary/{userId}/document/{documentId}/comment/{commentId}/entry",
AtomDeleteMyComment:"/${files}/basic/api/myuserlibrary/document/{documentId}/comment/{commentId}/entry",AtomDeleteFileFromRecycleBin:"/${files}/basic/api/userlibrary/{userId}/view/recyclebin/{documentId}/entry",AtomDeleteMyFileFromRecycleBin:"/${files}/basic/api/myuserlibrary/view/recyclebin/{documentId}/entry",AtomDeleteFileShare:"/${files}/basic/api/shares/feed",AtomDeleteFolder:"/${files}/basic/api/collection/{collectionId}/entry",AtomGetAllUsersFiles:"/${files}/basic/anonymous/api/userlibrary/{userId}/feed",
AtomGetFileComment:"/${files}/basic/api/userlibrary/{userId}/document/{documentId}/comment/{commentId}/entry",AtomGetMyFileComment:"/${files}/basic/api/myuserlibrary/document/{documentId}/comment/{commentId}/entry",AtomGetFileFromRecycleBin:"/${files}/basic/api/userlibrary/{userId}/view/recyclebin/{documentId}/entry",AtomGetFilesAwaitingApproval:"/${files}/basic/api/approval/documents",AtomGetFileShares:"/${files}/basic/api/documents/shared/feed",AtomGetFilesInFolder:"/${files}/basic/api/collection/{collectionId}/feed",
AtomGetFilesInMyRecycleBin:"/${files}/basic/api/myuserlibrary/view/recyclebin/feed",AtomGetFileWithGivenVersion:"/${files}/basic/api/myuserlibrary/document/{documentId}/version/{versionId}/entry",AtomGetFolder:"/${files}/basic/api/collection/{collectionId}/entry",AtomGetFoldersWithRecentlyAddedFiles:"/${files}/basic/api/collections/addedto/feed",AtomGetPinnedFolders:"/${files}/basic/api/myfavorites/collections/feed",AtomGetPublicFolders:"/${files}/basic/anonymous/api/collections/feed",AtomPinFolder:"/${files}/basic/api/myfavorites/collections/feed",
AtomRemoveFileFromFolder:"/${files}/basic/api/collection/{collectionId}/feed",AtomRestoreFileFromRecycleBin:"/${files}/basic/api/userlibrary/{userId}/view/recyclebin/{documentId}/entry",AtomShareFileWithCommunities:"/${files}/basic/api/myuserlibrary/document/{documentId}/feed",AtomUpdateComment:"/${files}/basic/api/userlibrary/{userId}/document/{documentId}/comment/{commentId}/entry",AtomUpdateMyComment:"/${files}/basic/api/myuserlibrary/document/{documentId}/comment/{commentId}/entry",AtomAddCommentToCommunityFile:"/${files}/basic/api/communitylibrary/{communityId}/document/{documentId}/feed",
AtomGetAllFilesInCommunity:"/${files}/basic/api/communitylibrary/{communityId}/feed",AtomGetCommunityFile:"/${files}/basic/api/communitylibrary/{communityId}/document/{documentId}/entry",AtomUpdateCommunityFileMetadata:"/${files}/basic/api/library/{libraryId}/document/{documentId}/entry"},f)})},"sbt/connections/controls/forums/BackAction":function(){define(["../../../declare","../../../controls/grid/GridAction","../../../i18n!./nls/ForumGridRenderer"],function(i,f){return i(f,{constructor:function(){},
showForums:function(c,f){f.getForums({start:f.data.start,count:f.pageSize})},showTopics:function(c,f){f.getTopics("",{start:f.data.start,count:f.pageSize})}})})},"sbt/connections/controls/forums/ForumAction":function(){define(["../../../declare","../../../controls/grid/GridAction","../../../i18n!./nls/ForumGridRenderer","../../../stringUtil"],function(i,f,c,h){return i(f,{nls:{tooltip:"Go to {title}"},constructor:function(){},getTooltip:function(b){return h.replace(this.nls.tooltip,{title:b.getValue("title")})},
execute:function(b,a){var c=b.getValue("id").lastIndexOf(":")+1,c=b.getValue("id").substring(c,b.getValue("id").length),g={start:a.data.start,count:a.pageSize};a.renderer.template==a.renderer.topicTemplate?a.getTopicReplies(c,g):a.getTopics(c,g)}})})},"sbt/connections/controls/forums/ForumGrid":function(){define("../../../declare,../../../controls/grid/Grid,../../../store/parameter,./ForumGridRenderer,./ForumAction,./BackAction,../../../connections/ForumConstants".split(","),function(i,f,c,h,b,a,
d){c={pageNumber:c.oneBasedInteger("page"),pageSize:c.oneBasedInteger("ps"),sortBy:c.sortField("sortBy",{created:"created",modified:"modified"}),sortOrder:c.sortOrder("sortOrder")};return i(f,{hideHeader:!1,options:{my:{storeArgs:{url:d.AtomForumsMy,attributes:d.ForumXPath,feedXPath:d.ForumsFeedXPath,paramSchema:c},rendererArgs:{type:"my"}},"public":{storeArgs:{url:d.AtomForumsPublic,attributes:d.ForumXPath,feedXPath:d.ForumsFeedXPath,paramSchema:c},rendererArgs:{type:"public"}},myTopics:{storeArgs:{url:d.AtomTopicsMy,
attributes:d.ForumTopicXPath,feedXPath:d.ForumsFeedXPath,paramSchema:c},rendererArgs:{type:"myTopics"}}},defaultOption:"my",forumAction:new b,backAction:new a,hideBreadCrumb:!0,constructor:function(a){if(a.hideHeader)this.hideHeader=a.hideHeader;if(a.baseProfilesUrl)this.baseProfilesUrl=a.baseProfilesUrl},createDefaultRenderer:function(a){return new h(a)},handleClick:function(a,b,c){this.forumAction&&(this._stopEvent(c),this.forumAction.execute(b,this,c))},getForums:function(){this.renderer.template=
this.renderer.forumTemplate;this.renderer.headerTemplate=this.renderer.forumHeader;this.store.setAttributes(d.ForumXPath);this.hideBreadCrumb=!0;var a=this.store.getEndpoint();this.store.setUrl("my"==this.params.type?this.buildUrl(d.AtomForumsMy,{},a):this.buildUrl(d.AtomForumsPublic,{},a));this.update(null)},_forumID:"",getTopics:function(a){if(""!=a)this._forumID=a;this.renderer.template=this.renderer.topicTemplate;this.renderer.headerTemplate=this.renderer.topicHeader;this.renderer.breadCrumb=
this.renderer.topicBreadCrumb;this.store.setAttributes(d.ForumTopicXPath);this.hideBreadCrumb=!1;a=this.store.getEndpoint();"myTopics"==this.params.type?(a=this.buildUrl(d.AtomTopicsMy,{},a),this.store.setUrl(a),this.hideBreadCrumb=!0):(a=this.buildUrl(d.AtomTopics+"?forumUuid="+this._forumID,{},a),this.store.setUrl(a));this.update(null)},getTopicReplies:function(a){this.renderer.template=this.renderer.replyTemplate;this.renderer.headerTemplate=this.renderer.replyHeader;this.store.setAttributes(d.ForumReplyXPath);
this.hideBreadCrumb=!1;var b=this.store.getEndpoint();this.renderer.breadCrumb="myTopics"==this.params.type?this.renderer.myTopicsBreadCrumb:this.renderer.replyBreadCrumb;this.store.setUrl(this.buildUrl(d.AtomReplies+"?topicUuid="+a,{},b));this.update(null)},showTopics:function(a,b,c){this.backAction&&(this._stopEvent(c),this.backAction.showTopics(b,this,c))},showForums:function(a,b,c){this.backAction&&(this._stopEvent(c),this.backAction.showForums(b,this,c))},buildUrl:function(a,b,c){this.query&&
(params=lang.mixin(params,this.query));this.direction&&(params=lang.mixin(params,{direction:this.direction}));return this.constructUrl(a,{since:1},{},c)}})})},"sbt/connections/controls/forums/ForumGridRenderer":function(){define("../../../declare,../ConnectionsGridRenderer,../../../i18n,../../../text!./templates/ForumRow.html,../../../text!./templates/TableHeader.html,../../../text!./templates/TopicRow.html,../../../text!./templates/TopicHeader.html,../../../text!./templates/ReplyRow.html,../../../text!./templates/ReplyHeader.html,../../../text!./templates/ReplyBreadCrumb.html,../../../text!./templates/TopicBreadCrumb.html,../../../text!./templates/MyTopicsBreadCrumb.html,../../../i18n!./nls/ForumGridRenderer".split(","),
function(i,f,c,h,b,a,d,g,e,j,k,m,n){return i(f,{_nls:n,topicTemplate:a,topicHeader:d,replyTemplate:g,replyHeader:e,forumTemplate:h,forumHeader:b,headerTemplate:b,replyBreadCrumb:j,topicBreadCrumb:k,myTopicsBreadCrumb:m,breadCrumb:j,constructor:function(a){"myTopics"==a.type?(this.template=this.topicTemplate,this.headerTemplate=this.topicHeader):this.template=this.forumTemplate},render:function(a,b,c,e){for(;b.childNodes[0];)this._destroy(b.childNodes[0]);if(0===c.length)this.renderEmpty(a,b);else{this.renderPager(a,
b,c,e);this.renderBreadCrumb(a,b,c,e);var d=this.renderTable(a,b,c,e);this.renderHeader(a,b,c,e,d);for(b=0;b<c.length;b++)this.renderItem(a,d,e,c[b],b,c)}},renderHeader:function(a,b,c,e,d){this.headerTemplate&&!a.hideHeader&&(b=this._isString(this.headerTemplate)?this._toDom(this._substituteItems(this.headerTemplate,a,this,c,e),b.ownerDocument):this.headerTemplate.cloneNode(!0),d.appendChild(b),this._doAttachEvents(a,d,e))},renderBreadCrumb:function(a,b,c,e){this.breadCrumb&&!a.hideBreadCrumb&&(c=
this._isString(this.breadCrumb)?this._toDom(this._substituteItems(this.breadCrumb,a,this,c,e),b.ownerDocument):this.breadCrumb.cloneNode(!0),b.appendChild(c),this._doAttachEvents(a,b,e))},renderTable:function(a,b){return this._create("tbody",null,this._create("table",{"class":this.tableClass,border:"0",cellspacing:"0",cellpadding:"0",role:"presentation"},b))},renderEmpty:function(a,b,c){for(;b.childNodes[0];)this._destroy(b.childNodes[0]);this.renderBreadCrumb(a,b,c);this._create("div",{"class":this.emptyClass,
innerHTML:"<h2>"+this.nls.noResults+"</h2>",role:"document",tabIndex:0},b,"only");this._doAttachEvents(a,b,c)},getDateLabel:function(a,b){return c.getUpdatedLabel(b.getValue("updated"))},getParentLink:function(a,b){return"myTopics"==a.params.type?b.getValue("topicForumTitle"):'<a class="lotusBreakWord" href="#" data-dojo-attach-event="onclick: previousPage" >'+b.getValue("topicForumTitle")+"</a>"},tooltip:function(a,b){if(a.forumAction)return a.forumAction.getTooltip(b)},getUserProfileHref:function(a,
b){return this.getProfileUrl(a,b.getValue("authorUserid"))}})})},"sbt/connections/controls/nls/ConnectionsGridRenderer":function(){define({root:{empty:"Empty",loading:"Loading...",previous:"Previous",previousPage:"Previous Page",next:"Next",nextPage:"Next Page",pagingResults:"${start} - ${end} of ${totalCount}",sortBy:"Sort by:",msgNoData:"Please wait...",show10Items:"Show 10 items",show25Items:"Show 25 items",show50Items:"Show 50 items",show100Items:"Show 100 items",items:"items",feed:"${nls.feed}"}})},
"sbt/connections/controls/nls/WidgetWrapper":function(){define({root:{empty:"Empty",loading:"Loading...",msgNoData:"Please wait...",defaultTemplate:"No template specified."}})},"sbt/connections/controls/profiles/ColleagueGrid":function(){define("../../../declare,../../../config,../../../lang,../../../xml,../../../xpath,../../../stringUtil,../../../connections/ConnectionsConstants,./ProfileGrid,./ColleagueGridRenderer,../ViewAllAction".split(","),function(i,f,c,h,b,a,d,g,e,j){return i(g,{hideViewAll:!1,
viewAllAction:new j,createDefaultRenderer:function(a){return new e(a)},contextRootMap:{profiles:"profiles"},buildUrl:function(a,b,e){b={connectionType:"colleague",outputType:"profile",format:"full"};this.query&&(b=c.mixin(b,this.query));this.email&&(b=c.mixin(b,{email:this.email}));this.email1&&this.email2&&(b=c.mixin(b,{email:this.email1+","+this.email2}));this.userid&&(b=c.mixin(b,{userid:this.userid}));this.userid1&&this.userid2&&(b=c.mixin(b,{userid:this.userid1+","+this.userid2}));return this.constructUrl(a,
b,this.getUrlParams(),e)},postCreate:function(){this.inherited(arguments);(this.targetEmails||this.targetUserids)&&this.addColleagues()},addColleagues:function(){var a=arguments.targetEmails||arguments.targetUserids||this.targetEmails||this.targetUserids,b=arguments.email||arguments.userid||this.email||this.userid;if(b&&a&&0!=a.length)for(var c=f.findEndpoint(this.endpoint||"connections"),e="/profiles/atom/connection.do?connectionType=colleague",e=this._isEmail(b)?e+("&sourceEmail="+encodeURIComponent(b)):
e+("&sourceUserid="+encodeURIComponent(b)),e=arguments.targetEmails||this.targetEmails?e+"&targetEmail=":e+"&targetUserid=",d=this,g=0;g<a.length;g++)if(b==a[g])d.addProfile(c,b);else{var j=e+encodeURIComponent(a[g]);c.xhrGet({serviceUrl:j,handleAs:"text",load:function(a){a=h.parse(a);(a=d._getColleagueEmail(a,b))&&d.addProfile(c,a)},error:function(){}})}},addProfile:function(a,b,c){c||(c=0);var e=this,d={};this._isEmail(b)?d.email=b:d.userid=b;a.xhrGet({serviceUrl:"/profiles/atom/profile.do",handleAs:"text",
content:d,load:function(a){e.insertItem(h.parse(a),c);e.update()},error:function(a){e._updateWithError(a)}})},handleViewAll:function(a,b,c){this.viewAllAction&&(console.log(b),this._stopEvent(c),this.viewAllAction.execute(b,{grid:this.grid},c))},_getColleagueEmail:function(a,b){var c=this._selectArray(a,"/a:entry/snx:connection/a:contributor/snx:userid"),e=this._selectArray(a,"/a:entry/snx:connection/a:contributor/a:email");if(this._isEmail(b)&&0<=e.indexOf(b)&&1<e.length){var d=0==e.indexOf(b)?1:
0;return e[d]}if(0<=c.indexOf(b)&&1<c.length)return d=0==c.indexOf(b)?1:0,c[d]},_selectArray:function(c,e){var g=b.selectNodes(c,e,d.Namespaces),f=[];if(g)for(var j=0;j<g.length;j++)f.push(a.trim(g[j].text||g[j].textContent));return f},_isEmail:function(a){return a&&0<=a.indexOf("@")}})})},"sbt/connections/controls/profiles/ProfileGrid":function(){define("../../../declare,../../../config,../../../lang,../../../controls/grid/Grid,./ProfileGridRenderer,./ProfileAction,../../../connections/controls/vcard/SemanticTagService,../../../store/parameter,../../../connections/ProfileConstants,../../../connections/CommunityConstants".split(","),
function(i,f,c,h,b,a,d,g,e,j){f={pageNumber:g.oneBasedInteger("page"),pageSize:g.oneBasedInteger("ps"),sortBy:g.sortField("sortBy",{displayName:"displayName",recent:"3"}),sortOrder:g.sortOrder("sortOrder")};g={pageNumber:g.oneBasedInteger("page"),pageSize:g.oneBasedInteger("ps"),sortBy:g.sortField("sortBy",{displayName:"displayName",created:"created"}),sortOrder:g.sortOrder("sortOrder")};return i(h,{options:{profile:{storeArgs:{url:e.AtomProfileDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,
paramSchema:f},rendererArgs:{type:"profile"}},colleagues:{storeArgs:{url:e.AtomConnectionsDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},connectionsInCommon:{storeArgs:{url:e.AtomConnectionsInCommonDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},peopleManaged:{storeArgs:{url:e.AtomPeopleManagedDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},
reportingChain:{storeArgs:{url:e.AtomReportingChainDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},search:{storeArgs:{url:e.AtomSearchDo,attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},dynamic:{storeArgs:{attributes:e.ProfileXPath,feedXPath:e.ProfileFeedXPath,paramSchema:f},rendererArgs:{type:"profile"}},communityMembers:{storeArgs:{url:j.AtomCommunityMembers,attributes:j.MemberXPath,feedXPath:j.CommunityFeedXPath,
paramSchema:g},rendererArgs:{type:"communityMembers"}}},profileAction:new a,defaultOption:"colleagues",constructor:function(a){if("peopleManaged"==a.type||"reportingChain"==a.type||"profile"==a.type)this.hideSorter=!0;var b=this.renderer.nls;"communityMembers"==a.type?(this._sortInfo={displayName:{title:b.displayName,sortMethod:"sortByTitle",sortParameter:"title"},recent:{title:b.created,sortMethod:"sortByCreated",sortParameter:"created"}},this._activeSortAnchor=this._sortInfo.created):(this._sortInfo=
{displayName:{title:b.displayName,sortMethod:"sortByDisplayName",sortParameter:"displayName"},recent:{title:b.recent,sortMethod:"sortByRecent",sortParameter:"recent"}},this._activeSortAnchor=this._sortInfo.recent);this._activeSortIsDesc=!1},contextRootMap:{profiles:"profiles"},buildUrl:function(a,b,e){b={outputType:"profile",format:"full"};this.query&&(b=c.mixin(b,this.query));"colleagues"==this.type?b=c.mixin(b,{connectionType:"colleague"}):"communityMembers"==this.type&&(b=c.mixin(b,{communityUuid:this.communityUuid}));
this.email&&(b=c.mixin(b,{email:this.email}));this.email1&&this.email2&&(b=c.mixin(b,{email:this.email1+","+this.email2}));this.userid&&(b=c.mixin(b,{userid:this.userid}));this.userid1&&this.userid2&&(b=c.mixin(b,{userid:this.userid1+","+this.userid2}));return this.constructUrl(a,b,this.getUrlParams(),e)},postCreate:function(){this.inherited(arguments);d.loadSemanticTagService()},createDefaultRenderer:function(a){return new b(a)},handleClick:function(a,b,c){this.profileAction&&(console.log(b),this._stopEvent(c),
this.profileAction.execute(b,{grid:this.grid},c))},getSortInfo:function(){return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},list:[this._sortInfo.displayName,this._sortInfo.recent]}},sortByDisplayName:function(a,b,c){this._sort("displayName",!0,a,b,c)},sortByRecent:function(a,b,c){this._sort("recent",!0,a,b,c)},sortByCreated:function(a,b,c){this._sort("created",!0,a,b,c)},sortByTitle:function(a,b,c){this._sort("title",!0,a,b,c)}})})},"sbt/connections/controls/profiles/ProfileGridRenderer":function(){define("../../../declare,../ConnectionsGridRenderer,../../../i18n!./nls/ProfileGridRenderer,../../../text!./templates/ProfileRow.html,../../../text!./templates/SharedConnectionsRow.html,../../../text!./templates/StatusUpdateRow.html,../../../text!./templates/CommunityMemberRow.html".split(","),
function(i,f,c,h,b,a,d){return i(f,{_nls:c,constructor:function(b){if("profile"==b.type)this.template=h;else if("statusUpdates"==b.type)this.template=a;else if("communityMembers"==b.type)this.template=d},rowClass:function(a,b,c){b.rowClass=0===c?"lotusFirst":1===c%2?"lotusAltRow":null},tooltip:function(a,b){if(a.profileAction)return a.profileAction.getTooltip(b)},photoUrl:function(a,b){return a.store.getEndpoint().baseUrl+"/profiles/photo.do?email="+b.getValue("email")}})})},"sbt/connections/controls/profiles/ProfileAction":function(){define(["../../../declare",
"../../../controls/grid/GridAction"],function(i,f){return i(f,{nls:{tooltip:"Go to ${name}"},constructor:function(){},getTooltip:function(){},execute:function(){}})})},"sbt/connections/controls/profiles/ColleagueGridRenderer":function(){define("../../../declare,../../../stringUtil,../ConnectionsGridRenderer,../../../i18n!./nls/ColleagueGridRenderer,../../../text!./templates/ColleagueItem.html,../../../text!./templates/ViewAll.html,../../../text!./templates/ColleagueItemFull.html".split(","),function(i,
f,c,h,b,a,d){return i(c,{_nls:h,containerClass:"lotusChunk",template:b,viewAllTemplate:a,fullTemplate:d,countAlign:"left",verticalAlign:"middle",render:function(a,b,c,d){for(;b.childNodes[0];)this._destroy(b.childNodes[0]);if(0===c.length)this.renderEmpty(a,b);else{for(var f=this.renderContainer(a,b,c,d),h=0;h<c.length;h++)this.renderItem(a,f,d,c[h],h,c);this.renderViewAll(a,b,c,d)}},renderContainer:function(a,b){return this._create("div",{"class":this.containerClass},b)},renderViewAll:function(a,
b,c,d){this.viewAllTemplate&&!a.hideViewAll&&(c=this._isString(this.viewAllTemplate)?this._toDom(this._substituteItems(this.viewAllTemplate,a,this,c,d),b.ownerDocument):this.sortTemplate.cloneNode(!0),b.appendChild(c),this._doAttachEvents(a,b,d))},viewAllTitle:function(a,b,c,d){a=f.replace(1==d.totalCount?h.person:h.people,{totalCount:d.totalCount});return f.replace(h.viewAll,{totalCount:a})}})})},"sbt/connections/controls/profiles/ProfilePanel":function(){define("../../../declare,../../../lang,../../../config,../../../connections/ProfileService,../../../controls/panel/_ProfilePanel,../../../text!sbt/connections/controls/profiles/templates/ProfilePanel.html".split(","),
function(i,f,c,h,b,a){return i([b],{template:a,profileService:null,constructor:function(){},getMyProfile:function(){var a=this._getEndpoint(),b="/connections/opensocial/basic/rest/people/@me/";"oauth"==a.authType&&(b="/connections/opensocial/oauth/rest/people/@me/");var c=this;a.request(b,{handleAs:"json",preventCache:!0}).then(function(a){a=a.entry.id.replace("urn:lsid:lconn.ibm.com:profiles.person:","");c.getProfile(a)},function(a){c._displayError(a)})},getProfile:function(a){var b=this;this._getProfileService().getProfile(a).then(function(a){b.profile=
a;b.showProfile()},function(a){b.profile=null;b._displayError(a)})},_getProfileService:function(){if(!this.profileService)this.profileService=new h(this._getEndpointName());return this.profileService},_getEndpoint:function(){return c.findEndpoint(this._getEndpointName())},_getEndpointName:function(){return this.endpoint||"connections"}})})},"sbt/connections/ProfileService":function(){define("../declare,../lang,../config,../stringUtil,./ProfileConstants,../base/BaseService,../base/BaseEntity,../base/AtomEntity,../base/XmlDataHandler,../base/VCardDataHandler,../Cache,../util".split(","),
function(i,f,c,h,b,a,d,g,e,j,k){var m=i(d,{constructor:function(){},getUserid:function(){return this.getAsString("userid")},getName:function(){return this.getAsString("name")},getEmail:function(){return this.getAsString("email")},getGroupwareMail:function(){return this.getAsString("groupwareMail")},getThumbnailUrl:function(){return this.getAsString("photoUrl")},getJobTitle:function(){return this.getAsString("jobTitle")},getDepartment:function(){return this.getAsString("organizationUnit")},getAddress:function(){return this.getAsObject(b.AddressFields)},
getTelephoneNumber:function(){return this.getAsString("telephoneNumber")},getProfileUrl:function(){return this.getAsString("fnUrl")},getBuilding:function(){return this.getAsString("building")},getFloor:function(){return this.getAsString("floor")},getPronunciationUrl:function(){return this.getAsString("soundUrl")},getSummary:function(){return this.getAsString("summary")},setTelephoneNumber:function(a){this.setAsString("telephoneNumber",a)},setBuilding:function(a){this.setAsString("building",a)},setFloor:function(a){this.setAsString("floor",
a)},setJobTitle:function(a){this.setAsString("jobTitle",a)},setPhotoLocation:function(a){this.setAsString("imageLocation",a)},setAddress:function(a){this.setAsObject(a)},load:function(a){var c=this.getUserid()||this.getEmail(),d=this.service._validateProfileId(c);if(d)return d;var g=this,d={};this.service.isEmail(c)?d.email=c:d.userid=c;f.mixin(d,a||{});d={handleAs:"text",query:d};return this.service.getEntity(this.service.constructUrl(b.AtomProfileDo,{},{authType:this.service._getProfileAuthString()}),
d,c,{createEntity:function(a,c){g.dataHandler=new e({data:c,namespaces:b.Namespaces,xpath:b.ProfileXPath});g.id=g.dataHandler.getEntityId();return g}},a)},update:function(a){return this.service.updateProfile(this,a)},getColleagues:function(a){return this.service.getColleagues(this,a)},getColleagueConnections:function(a){return this.service.getColleagueConnections(this,a)}}),n=i(d,{constructor:function(){},getAuthorUserId:function(){return this.getAsString("authorUserid")},getContributorUserId:function(){return this.getAsString("contributorUserid")},
getAuthorName:function(){return this.getAsString("authorName")},getContributorName:function(){return this.getAsString("contributorName")},getAuthorEmail:function(){return this.getAsString("authorEmail")},getContributorEmail:function(){return this.getAsString("contributorEmail")},getTitle:function(){return this.getAsString("title")},getContent:function(){return this.getAsString("content")},getSelfLink:function(){return this.getAsString("selfLink")},getEditLink:function(){return this.getAsString("editLink")},
getUpdated:function(){return this.getAsString("updated")}}),p=i(d,{constructor:function(){},getTerm:function(){return this.getAsString("term")},getFrequency:function(){return this.getAsNumber("frequency")},getIntensity:function(){return this.getAsNumber("intensity")},getVisibility:function(){return this.getAsNumber("visibility")}}),o=i(g,{xpath:b.InviteXPath,contentType:"html",categoryScheme:'<category term="connection" scheme="http://www.ibm.com/xmlns/prod/sn/type" />',constructor:function(){},createEntryData:function(){var a;
a=""+h.transform('<category term="${getConnectionType}" scheme="http://www.ibm.com/xmlns/prod/sn/connection/type" />',this,function(a){return a},this);a+=h.transform('<category term="${getStatus}" scheme="http://www.ibm.com/xmlns/prod/sn/status" />',this,function(a){return a},this);return h.trim(a)},getConnectionType:function(){return this.getAsString("connectionType")||b.TypeColleague},setConnectionType:function(a){return this.setAsString("connectionType",a)},getStatus:function(){return this.getAsString("status")||
b.StatusPending},setStatus:function(a){return this.setAsString("status",a)},getConnectionId:function(){return this.getAsString("connectionId")},setConnectionId:function(a){return this.setAsString("connectionId",a)}}),q={createEntity:function(a,c,d){var g=null,g=d.args&&"vcard"==d.args.format?new j({data:c,namespaces:b.Namespaces,xpath:b.ProfileVCardXPath}):new e({data:c,namespaces:b.Namespaces,xpath:b.ProfileXPath});return new m({service:a,id:g.getEntityId(),dataHandler:g})}},v={createEntities:function(a,
c){return new e({data:c,namespaces:b.Namespaces,xpath:b.ProfileFeedXPath})},createEntity:function(a,c,d){var g=null,g=d.args&&"vcard"==d.args.format?new j({data:c,namespaces:b.Namespaces,xpath:b.ProfileVCardXPath}):new e({data:c,namespaces:b.Namespaces,xpath:b.ProfileXPath});return new m({service:a,id:g.getEntityId(),dataHandler:g})}},u={createEntities:function(a,c){return new e({data:c,namespaces:b.Namespaces,xpath:b.ProfileFeedXPath})},createEntity:function(a,c){var d=null,d=new e({data:c,namespaces:b.Namespaces,
xpath:b.ColleagueConnectionXPath});return new n({service:a,id:d.getEntityId(),dataHandler:d})}},r={createEntities:function(a,c){return new e({data:c,namespaces:b.Namespaces,xpath:b.ProfileTagsXPath})},createEntity:function(a,c){var d=new e({data:c,namespaces:b.Namespaces,xpath:b.ProfileTagsXPath});return new p({service:a,id:d.getEntityId(),dataHandler:d})}};return i(a,{contextRootMap:{profiles:"profiles"},constructor:function(){if(!this.endpoint)this.endpoint=c.findEndpoint(this.getDefaultEndpointName());
if(!this._cache&&(c.Properties.ProfileCacheSize||b.DefaultCacheSize))this._cache=new k(c.Properties.ProfileCacheSize||b.DefaultCacheSize)},getDefaultEndpointName:function(){return"connections"},newProfile:function(a){return this._toProfile(a)},newInvite:function(a){return this._toInvite(a)},getProfile:function(a,b){var c=this._toProfile(a),e=this._validateProfile(c);return e?e:c.load(b)},updateProfile:function(a,c){var e=this._toProfile(a),d=this._validateProfile(e);if(d)return d;d={};e.getUserid()?
d.userid=e.getUserid():d.email=e.getEmail();f.mixin(d,c||{});d={method:"PUT",query:d,headers:b.AtomXmlHeaders,data:this._constructProfilePostData(e)};return this.updateEntity(this.constructUrl(b.AtomProfileEntryDo,{},{authType:this._getProfileAuthString()}),d,{createEntity:function(){return e}},c)},getTags:function(a,c){var e=this._toTargetObject(a),d=this._validateTargetObject(e);if(d)return d;e={method:"GET",handleAs:"text",query:f.mixin(e,c||{})};return this.getEntities(this.constructUrl(b.AtomTagsDo,
{},{authType:this._getProfileAuthString()}),e,this.getProfileTagFeedCallbacks(),c)},getColleagues:function(a,c){var e=this._toIdObject(a),d=this._validateIdObject(e);if(d)return d;e={method:"GET",handleAs:"text",query:f.mixin(e,{connectionType:"colleague",outputType:"profile"},c||{})};return this.getEntities(this.constructUrl(b.AtomConnectionsDo,{},{authType:this._getProfileAuthString()}),e,this.getProfileFeedCallbacks(),c)},getColleagueConnections:function(a,c){var e=this._toIdObject(a),d=this._validateIdObject(e);
if(d)return d;e={method:"GET",handleAs:"text",query:f.mixin(e,{connectionType:"colleague",outputType:"connection"},c||{})};return this.getEntities(this.constructUrl(b.AtomConnectionsDo,{},{authType:this._getProfileAuthString()}),e,this.getColleagueConnectionFeedCallbacks(),c)},getReportingChain:function(a,c){var e=this._toIdObject(a),d=this._validateIdObject(e);if(d)return d;e={method:"GET",handleAs:"text",query:f.mixin(e,c||{})};return this.getEntities(this.constructUrl(b.AtomReportingChainDo,{},
{authType:this._getProfileAuthString()}),e,this.getProfileFeedCallbacks(),c)},getPeopleManaged:function(a,c){var e=this._toIdObject(a),d=this._validateIdObject(e);if(d)return d;e={method:"GET",handleAs:"text",query:f.mixin(e,c||{})};return this.getEntities(this.constructUrl(b.AtomPeopleManagedDo,{},{authType:this._getProfileAuthString()}),e,this.getProfileFeedCallbacks(),c)},search:function(a){if(!a)return this.createBadRequestPromise("Invalid arguments, one or more of the input parameters to narrow the search must be specified.");
var c={method:"GET",handleAs:"text",query:a};return this.getEntities(this.constructUrl(b.AtomSearchDo,{},{authType:this._getProfileAuthString()}),c,this.getProfileFeedCallbacks(),a)},updateProfilePhoto:function(a,b,e){var d=this.validateField("File Control Or Id",a);if(d)return d;promose=this.validateHTML5FileSupport();if(d)return d;b=this._toIdObject(b);d=null;if("string"==typeof a)a=document.getElementById(a),filePath=a.value,d=a.files;else if("object"==typeof a)filePath=a.value,d=a.files;else return this.createBadRequestPromise("File Control or ID is required");
if(1!=d.length)return this.createBadRequestPromise("Only one file needs to be provided to this API");a=d[0];d=new FormData;d.append("file",a);b=f.mixin(b,e||{});return this.updateEntity(this.constructUrl(c.Properties.serviceUrl+"/files/"+this.endpoint.proxyPath+"/connections/UpdateProfilePhoto/"+encodeURIComponent(a.name),e&&e.parameters?e.parameters:{}),{method:"PUT",headers:{"Content-Type":!1,"Process-Data":!1},query:b||{},data:d},{createEntity:function(a,b){return b}})},createInvite:function(a,
c,e){var a=this._toIdObject(a),d=this._validateIdObject(a);if(d)return d;var g=this._toInvite(c),c={method:"POST",query:f.mixin(a,e||{}),headers:b.AtomXmlHeaders,data:g.createPostData()};return this.updateEntity(this.constructUrl(b.AtomConnectionsDo,{},{authType:this._getProfileAuthString()}),c,{createEntity:function(a,b,c){g.setData(b);a=this.getLocationParameter(c,"connectionId");g.setConnectionId(a);return g}},e)},getProfileFeedCallbacks:function(){return v},getColleagueConnectionFeedCallbacks:function(){return u},
getProfileCallbacks:function(){return q},getProfileTagFeedCallbacks:function(){return r},_toIdObject:function(a){var b={};if(f.isString(a))this.isEmail(a)?b.email=a:b.userid=a;else if(a instanceof m)if(a.getUserid())b.userid=a.getUserid();else if(a.getEmail())b.email=a.getEmail();return b},_toTargetObject:function(a){var b={};if(f.isString(a))this.isEmail(a)?b.targetEmail=a:b.targetKey=a;else if(a instanceof m)if(a.getUserid())b.targetKey=a.getUserid();else if(a.getEmail())b.targetEmail=a.getEmail();
return b},_validateIdObject:function(a){if(!a.userid&&!a.email)return this.createBadRequestPromise("Invalid argument, userid or email must be specified.")},_validateTargetObject:function(a){if(!a.targetKey&&!a.targetEmail)return this.createBadRequestPromise("Invalid argument, userid or email must be specified.")},_toProfile:function(a){if(a instanceof m)return a;var b=a;if(f.isString(a))b={},this.isEmail(a)?b.email=a:b.userid=a;else if(b&&b.id&&!b.userid&&!b.email)this.isEmail(b.id)?b.email=b.id:
b.userid=b.id,delete b.id;return new m({service:this,_fields:f.mixin({},b)})},_toInvite:function(a){if(a instanceof o)return a;f.isString(a)&&(a={content:a});return new o({service:this,_fields:f.mixin({},a)})},_isAddressSet:function(a){return a._fields.streetAddress||a._fields.extendedAddress||a._fields.locality||a._fields.region||a._fields.postalCode||a._fields.countryName},_constructProfilePostData:function(a){return h.transform('<?xml version="1.0" encoding="UTF-8"?><entry xmlns:app="http://www.w3.org/2007/app" xmlns:thr="http://purl.org/syndication/thread/1.0" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:snx="http://www.ibm.com/xmlns/prod/sn" xmlns:opensearch="http://a9.com/-/spec/opensearch/1.1/" xmlns="http://www.w3.org/2005/Atom"><category term="profile" scheme="http://www.ibm.com/xmlns/prod/sn/type"></category><content type="text">\nBEGIN:VCARD\nVERSION:2.1\n${jobTitle}${address}${telephoneNumber}${building}${floor}END:VCARD\n</content></entry>',
a,function(c,e){return c="address"==e?a.service._isAddressSet(a)?h.transform("ADR;WORK:;;${streetAddress},${extendedAddress};${locality};${region};${postalCode};${countryName}\n",{streetAddress:a._fields.streetAddress,extendedAddress:a._fields.extendedAddress,locality:a._fields.locality,region:a._fields.region,postalCode:a._fields.postalCode,countryName:a._fields.countryName}):null:a._fields[e]?h.transform("${attributeName}:${attributeValue}\n",{attributeName:b.ProfileVCardXPath[e],attributeValue:a._fields[e]}):
null},a)},_constructProfilePutData:function(a){return h.transform('<?xml version="1.0" encoding="UTF-8"?><entry xmlns:app="http://www.w3.org/2007/app" xmlns:thr="http://purl.org/syndication/thread/1.0" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:snx="http://www.ibm.com/xmlns/prod/sn" xmlns:opensearch="http://a9.com/-/spec/opensearch/1.1/" xmlns="http://www.w3.org/2005/Atom"><category term="profile" scheme="http://www.ibm.com/xmlns/prod/sn/type"></category><content type="application/xml"><person xmlns="http://ns.opensocial.org/2008/opensocial"><com.ibm.snx_profiles.attrib>${guid}${email}${uid}${distinguishedName}${displayName}${givenNames}${surname}${userState}</com.ibm.snx_profiles.attrib></person></content></entry>',
a,function(c,e){if(a._fields[e])return c=h.transform("<entry><key>${attributeName}</key><value><type>text</type><data>${attributeValue}</data></value></entry>",{attributeName:b.profileCreateAttributes[e],attributeValue:a._fields[e]})},a)},_validateProfile:function(a){if(!a||!a.getUserid()&&!a.getEmail())return this.createBadRequestPromise("Invalid argument, profile with valid userid or email must be specified.")},_validateProfileId:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected userid or email")},
_getProfileAuthString:function(){return this.endpoint.authType==b.AuthTypes.Basic?"":this.endpoint.authType==b.AuthTypes.OAuth?"/oauth":""}})})},"sbt/base/VCardDataHandler":function(){define(["../declare","../lang","../config","../stringUtil","./XmlDataHandler"],function(i,f,c,h,b){return i(b,{lineDelim:"\n",itemDelim:":",_vcard:null,constructor:function(){this.parseVCard()},parseVCard:function(){var a=h.trim(this.getAsString("vcard")).split(this.lineDelim);this._vcard={};for(var b=1;b<a.length-1;b++){var c=
h.trim(a[b]),e=c.indexOf(this.itemDelim),f=c.substring(0,e),c=c.substring(e+1);this._vcard[f]=c}},_selectText:function(a){var b=this._getXPath(a);if(this._vcard&&this._vcard.hasOwnProperty(b))return this._vcard[b];try{return this.inherited(arguments,[a])}catch(c){return null}}})})},"sbt/connections/controls/profiles/ProfileTagAction":function(){define(["../../../declare","../../../controls/grid/GridAction"],function(i,f){return i(f,{nls:{tooltip:""},constructor:function(){},getTooltip:function(c){return c.getTerm()},
execute:function(){}})})},"sbt/connections/controls/profiles/ProfileTagsGrid":function(){define("../../../declare,../../../lang,../../../config,../../../controls/grid/Grid,./ProfileTagsGridRenderer,./ProfileTagAction,../../../store/parameter,../../../connections/ProfileConstants".split(","),function(i,f,c,h,b,a,d,g){return i(h,{format:"full",options:{list:{storeArgs:{url:g.AtomTagsDo,feedXPath:g.ProfileTagsXPath,attributes:g.ProfileTagsXPath,namespaces:g.Namespaces},rendererArgs:{type:"list"}}},profileTagAction:new a,
defaultOption:"list",constructor:function(){},contextRootMap:{profiles:"profiles"},buildUrl:function(a,b,c){b={format:this.format};this.query&&(b=f.mixin(b,this.query));this.targetEmail&&(b=f.mixin(b,{targetEmail:this.targetEmail}));this.targetKey&&(b=f.mixin(b,{targetKey:this.targetKey}));this.sourceEmail&&(b=f.mixin(b,{sourceEmail:this.sourceEmail}));this.sourceKey&&(b=f.mixin(b,{sourceKey:this.sourceKey}));return this.constructUrl(a,b,this.getUrlParams(),c)},postCreate:function(){this.inherited(arguments)},
createDefaultRenderer:function(a){return new b(a)},handleClick:function(a,b,c){this.profileTagAction&&(console.log(b),this._stopEvent(c),this.profileTagAction.execute(b,{grid:this.grid},c))}})})},"sbt/connections/controls/profiles/ProfileTagsGridRenderer":function(){define("../../../declare,../../../stringUtil,../../../xpath,../../../xml,../ConnectionsGridRenderer,../../../i18n!sbt/connections/controls/profiles/nls/ProfileTagsGridRenderer,../../../text!sbt/connections/controls/profiles/templates/TagListRow.html,../../../text!sbt/connections/controls/profiles/templates/TagListHeader.html".split(","),
function(i,f,c,h,b,a,d,g){return i(b,{_nls:a,containerClass:"lotusChunk",tagListClass:"lotusList lotusEditable lotusTags lotusMeta",_numberOfContributors:0,constructor:function(a){if("list"==a.type)this.template=d,this.listHeaderTemplate=g},render:function(a,b,c,d){for(;b.childNodes[0];)this._destroy(b.childNodes[0]);if(0===c.length)this.renderEmpty(a,b);else{this._computeRenderValues(a,b,c,d);this.renderTagListHeader(a,b,c,d);for(var b=this.renderContainer(a,b,c,d),g=0;g<c.length;g++)this.renderItem(a,
b,d,c[g],g,c)}},renderTagListHeader:function(a,b,c,d){this.listHeaderTemplate&&!a.hideListHeader&&(c=this._isString(this.listHeaderTemplate)?this._toDom(this._substituteItems(this.listHeaderTemplate,a,this,c,d),b.ownerDocument):this.listHeaderTemplate.cloneNode(!0),b.appendChild(c),this._doAttachEvents(a,b,d))},renderContainer:function(a,b){return this._create("ul",{"class":this.tagListClass},this._create("div",{"class":this.containerClass},b))},tagHeader:function(b){return b.sourceEmail||b.sourceKey?
f.replace(a.taggedBy,{tagSource:b.sourceName||b.sourceEmail||b.sourceKey,tagTarget:b.targetName||b.targetEmail||b.targetKey}):f.replace(1==this._numberOfContributors?a.taggedByPerson:a.taggedByPeople,{numberOfContributors:this._numberOfContributors})},_computeRenderValues:function(a,b,d,g){b=h.parse(g.response);this._numberOfContributors=parseInt(c.selectText(b,a._storeArgs.feedXPath.numberOfContributors,a._storeArgs.namespaces))}})})},"sbt/connections/controls/search/SearchBox":function(){define("../../../declare,../../../lang,../../../dom,../../../widget/_TemplatedWidget,./SearchBoxRenderer,../../SearchService,../../CommunityService".split(","),
function(i,f,c,h,b,a,d){return i(h,{templateString:"<div><strong> Loading... </strong></div>",renderer:null,selectedApplication:"allconnections",searchQuery:"",searchType:"my",searchSuffix:null,searchArgs:null,searchService:null,communityService:null,members:[],_selectedResultItem:{text:"",id:""},_selectedRow:-1,_searchInput:null,constructor:function(a){f.mixin(this,a)},setInputValue:function(a){this._searchInput.value=a},postMixInProperties:function(){},getInputValue:function(){return this._searchInput.value},
setInputDisabled:function(a){this._searchInput.disabled=a;return this},isInputDisabled:function(){return this._searchInput.disabled},getSelectedResult:function(){return this._selectedResultItem},setSelectedResult:function(a,b){if(a)this._selectedResultItem.name=a;if(b)this._selectedResultItem.id=b},postCreate:function(a){this.createDefaultRenderer(a);this.domNode=this.renderer.getDomNode(this);this.renderer.render(this,this.domNode,{});this.memberList&&this.renderer.renderMemberList(this.domNode)},
createDefaultRenderer:function(a){this.renderer=new b(a)},handleClick:function(){this.searchBoxAction.renderPopUp(this)},handleBlur:function(a,b,c){if(!c)c=window.event;c.explicitOriginalTarget?"TD"==c.explicitOriginalTarget.nodeName||"TR"==c.explicitOriginalTarget.nodeName||"#text"==c.explicitOriginalTarget.nodeName||this.searchBoxAction.removePopUp(this):this.searchBoxAction.removePopUp(this)},setSelectedApplication:function(a,b,c){if(!c)c=window.event;this.searchBoxAction.setSelectedApplication(a,
b,c,this)},displayHighlight:function(a,b,c){if(!c)c=window.event;this.searchBoxAction.highLight(a,b,c)},closeMemberItem:function(a,b,c){if(!c)c=window.event;this.searchBoxAction.closeMemberItem(this,a,b,c)},removeHighlight:function(a,b,c){if(!c)c=window.event;this.searchBoxAction.removeHighlight(a,b,c)},setSearchQuery:function(a,b,c){if(!c)c=window.event;this.searchBoxAction.setSearchQuery(c,this)},search:function(a,b,c){if(!c)c=window.event;this.searchBoxAction.search(c,this)},onKeyPress:function(a,
b,c){if(!c)c=window.event;this.searchBoxAction.onKeyPress(a,b,c,this)},suggest:function(a,b,c){if(!c)c=window.event;"on"==this.searchSuggest&&this.searchBoxAction.suggest(c,this)},searchBoxAction:{_appsPopUp:null,_suggestionPopUp:null,_searchInput:null,onKeyPress:function(a,b,c,d){if("Enter"==c.key)d.setSelectedApplication(a.rows[d._selectedRow],b,c),d._selectedRow=-1;else if("Down"==c.key)d._selectedRow!=a.rows.length&&(d._selectedRow!=a.rows.length-1&&d._selectedRow++,d.displayHighlight(a.rows[d._selectedRow],
b,c),0<d._selectedRow&&d.removeHighlight(a.rows[d._selectedRow-1],b,c));else if("Up"==c.key)0>=d._selectedRow?(d.searchBoxAction.removePopUp(d),d._selectedRow=-1):(d._selectedRow--,d.removeHighlight(a.rows[d._selectedRow+1],b,c),0!=d.selectedRow&&d.displayHighlight(a.rows[d._selectedRow],b,c));else if("Tab"==c.key)d._selectedRow=-1},closeMemberItem:function(a,b,c,d){b=d.target.parentNode;c=b.parentNode.innerHTML;c=c.replace(/\s+/g,"");c=c.replace(/ /g,"");for(d=0;d<a.members.length;d++){var f=a.members[d].html;
if(null!=f&&(f=f.replace(/data-dojo-attach-event=".*"/,""),f=f.replace(/data-dojo-attach-event='.*'/,""),f=f.replace(/\s+/g,""),f=f.replace(/ /g," "),f==c)){a.members[d].html=null;a.members[d].id=null;a.members[d].name=null;break}}b.parentNode.removeChild(b)},renderPopUp:function(a){if(this._suggestionPopUp)for(var b=0;b<a.domNode.children.length;b++)a.domNode.children[b]===this._suggestionPopUp&&a.renderer.removeSuggestionPopUp(a.domNode,this._suggestionPopUp);this._appsPopUp=a.renderer.renderPopUp(a,
a.domNode)},removePopUp:function(a){a.renderer.removePopUp(a.domNode,this._appsPopUp)},setSelectedApplication:function(a,b,c,d){this.removeHighlight(a,b,c);d.selectedApplication=a.children[1].textContent;d.renderer.removePopUp(d.domNode,this._appsPopUp);d.renderer.changeSelectedApplication(a.children[1].textContent,a.children[0].children[0])},setSuggestedSearch:function(a,b,c){var d;a?(d=a.target,a=d.textContent):(a=window.event,d=a.srcElement,a=d.innerText);d=d.id;var f=this._searchInput;c._selectedResultItem.text=
a;c._selectedResultItem.id=d;c.searchQuery=a;c.memberList?(f.value="",c.renderer.renderMemberListItem(c,a,d)):f.value=a;for(;b.firstChild;)b.removeChild(b.firstChild);c.renderer.removeSuggestionPopUp(c.domNode,b)},highLight:function(a){a.style.backgroundColor="#E1F4F9"},removeHighlight:function(a){a.style.backgroundColor="#FFFFFF"},setSearchQuery:function(a,b){b.searchQuery=a.target.value},suggest:function(b,c){var h=c.selectedApplication.toLocaleLowerCase(),h=h.replace(/ /g,""),i=b.target;this._searchInput=
i;i=i.value;c.searchSuffix&&(i+=c.searchSuffix);var m=c.renderer.renderSuggestionPopUp(c,c.domNode);this._suggestionPopUp=m;if(c.constraint)var n=JSON.stringify(c.constraint),h={component:h,constraint:n};else h={component:h};c.searchArgs&&f.mixin(h,c.searchArgs);i&&""!=i&&(searchService=c.endpoint?new a({endpoint:c.endpoint}):new a,"my"==c.searchType?h=searchService.getMyResults(i,h):"myCommunities"==c.searchType?(h={search:i},communityService=c.endpoint?new d({endpoint:c.endpoint}):new d,h=communityService.getMyCommunities(h)):
h=searchService.getResults(i,h),h.then(function(a){c.searchBoxAction.handleSuggestResult(a,c,m,c.searchType)},function(a){console.log(a)}))},handleSuggestResult:function(a,b,c,d){for(;c.firstChild;)c.removeChild(c.firstChild);for(var f=0;f<a.length;f++){var h=document.createElement("tr"),i=document.createElement("td"),o=a[f].getTitle(),q="",q="myCommunities"==d?a[f].getCommunityUuid():a[f].getId();i.innerHTML=o;i.id=q;i.setAttribute("style","cursor:pointer");i.onclick=function(a){b.searchBoxAction.setSuggestedSearch(a,
c,b)};h.appendChild(i);c.appendChild(h)}},search:function(b,c){if(this._suggestionPopUp)for(var h=0;h<c.domNode.children.length;h++)c.domNode.children[h]===this._suggestionPopUp&&c.renderer.removeSuggestionPopUp(c.domNode,this._suggestionPopUp);h=c.selectedApplication.toLocaleLowerCase();h=h.replace(/ /g,"");if("full"==c.type){if(c.constraint)var i=JSON.stringify(c.constraint),h={component:h,constraint:i};else h={component:h};c.searchArgs&&f.mixin(h,c.searchArgs);searchService=c.endpoint?new a({endpoint:c.endpoint}):
new a;i=c.searchQuery;c.searchSuffix&&(i+=c.searchSuffix);"my"==c.searchType?h=searchService.getMyResults(i,h):"myCommunities"==c.searchType?(h={search:i},communityService=c.endpoint?new d({endpoint:c.endpoint}):new d,h=communityService.getMyCommunities(h)):h=searchService.getResults(i,h);h.then(function(a){if(c.memberList)for(var b=0;b<newResults.length;b++)"myCommunities"==c.searchType?c.renderer.renderMemberListItem(c,newResults[b].getTitle(),a[b].getCommunityUuid()):c.renderer.renderMemberListItem(c,
newResults[b].getTitle(),a[b].getId());else b=document.createEvent("Event"),b.initEvent("searchResultEvent",!0,!0),b.results=a,c.domNode.dispatchEvent(b)},function(a){console.log(a)})}else i=document.createEvent("Event"),i.initEvent("searchResultEvent",!0,!0),i.selectedApplication=h,i.searchQuery=c.searchQuery,c.domNode.dispatchEvent(i),i=null}}})})},"sbt/connections/controls/search/SearchBoxRenderer":function(){define("../../../declare,../../../lang,../../../text!./templates/SearchBoxTemplate.html,../../../text!./templates/SearchSuggestTemplate.html,../../../text!./templates/PopUpTemplate.html,../../../text!./templates/SuggestPopUpTemplate.html,../../../i18n!./nls/SearchBoxRenderer,../../../text!./templates/MemberListItemTemplate.html,../../../text!./templates/MemberListTemplate.html,../../../text!./templates/SingleApplicationSearch.html,../../../text!./templates/SingleSearchPopUp.html".split(","),
function(i,f,c,h,b,a,d,g,e,j,k){return i(null,{nls:null,_appsPopUp:null,_appsMemberListItem:null,_appsMemberList:null,_suggestionPopUp:null,_suggestionContainer:null,constructor:function(){this.nls=d},getDomNode:function(a){var b="";b=a.predefinedSearch?j=b=this._substituteItems(j,this):c=b=this._substituteItems(c,this);b=this._convertToDomNode(b);this._suggestionContainer=document.createElement("div");this._suggestionContainer.setAttribute("style","position:relative;broder:none");b.appendChild(this._suggestionContainer);
var d=b.getElementsByTagName("input")[0];a._searchInput=d;return b},getPopUpNode:function(){b=this._substituteItems(b,this);return this._convertToDomNode(b)},getMemberListItemNode:function(a){var b=this._substituteItems(g,this),b=this._substituteMemberName(b,a);return this._convertToDomNode(b)},getMemberListNode:function(){e=this._substituteItems(e,this);return this._convertToDomNode(e)},render:function(a,b,d){a.templateString=c;this._doAttachEvents(a,b,d)},renderPopUp:function(a,b){if(!this._appsPopUp)this._appsPopUp=
this.getPopUpNode(),this._doAttachEvents(a,this._appsPopUp,{});b.appendChild(this._appsPopUp);this._appsPopUp.focus();return this._appsPopUp},renderMemberListItem:function(a,b,c){this._appsMemberListItem=this.getMemberListItemNode(b);var d={};d.html=this._appsMemberListItem.innerHTML;d.id=c;d.name=b;for(b=0;b<a.members.length;b++)if(a.members[b].html==d.html)return;this._appsMemberList.appendChild(this._appsMemberListItem);this._doAttachEvents(a,this._appsMemberListItem,{});a.members.push(d);return this._appsMemberListItem},
renderMemberList:function(a){if(!this._appsMemberList)this._appsMemberList=this.getMemberListNode();a.appendChild(this._appsMemberList);this._appsMemberList.focus();return this._appsMemberList},renderSuggestionPopUp:function(b){if(!this._suggestionPopUp)this._suggestionPopUp=b.predefinedSearch?this._convertToDomNode(k):this._convertToDomNode(a);this._suggestionContainer.appendChild(this._suggestionPopUp);return this._suggestionContainer.firstChild},removePopUp:function(a,b){a.removeChild(b)},removeSuggestionPopUp:function(a,
b){this._suggestionContainer.removeChild(b)},changeSelectedApplication:function(a,b){for(var c=document.getElementsByTagName("*"),e=0;e<c.length;e++)if(c[e].textContent==d.selectedApplication){c[e].textContent=a;d.selectedApplication=a;var g=c[e-1];g.classList.remove(g.classList[g.classList.length-1]);g.classList.add(b.classList[b.classList.length-1])}},_convertToDomNode:function(a){var b=null;if("string"==typeof a)b=document.createElement("div"),b.innerHTML=a,b.tabIndex=0;return b.firstChild},_substituteItems:function(a,
b){var c=a;if(-1!=c.indexOf("${nls.")){var d=b.nls,e=c.indexOf("${nls."),g=c.indexOf("}",e),f=c.substring(e+6,g),e=c.substring(e,g+1),c=c.replace(e,d[f]);if(-1!=c.indexOf("${nls."))return this._substituteItems(c,b)}return c},_substituteMemberName:function(a,b){return a.replace("${memberName}",b)},_doAttachEvents:function(a,b,c){var b=b.all||b.getElementsByTagName("*"),d;for(d in b){var e=b[d].getAttribute?b[d].getAttribute("data-dojo-attach-event"):null;if(e){b[d].removeAttribute("data-dojo-attach-event");
for(var g=e.split(/\s*,\s*/);e=g.shift();)if(e){var h=null;-1!=e.indexOf(":")?(h=e.split(":"),e=f.trim(h[0]),h=f.trim(h[1])):e=f.trim(e);h||(h=e);h=a._hitch(a,a[h],b[d],c);a._connect(b[d],e,h)}}}}})})},"sbt/connections/SearchService":function(){define("../declare,../config,../lang,../stringUtil,../Promise,../json,./SearchConstants,../base/BaseService,../base/BaseEntity,../base/AtomEntity,../base/XmlDataHandler".split(","),function(i,f,c,h,b,a,d,g,e,j,k){var m=i(j,{constructor:function(){}}),n=i(j,
{constructor:function(){},getRelevance:function(){return this.getAsNumber("relevance")}}),p=i(e,{constructor:function(a){this.dataHandler=new k({service:a.service,data:a.data,namespaces:c.mixin(d.Namespaces,a.namespaces||{}),xpath:c.mixin(d.FacetValueXPath,a.xpath||this.xpath||{})});this.id=this.getAsString("uid")},getId:function(){var a=this.getAsString("id").split("/");return 1==a.length?a[0]:a[1]},getLabel:function(){return this.getAsString("label")},getWeight:function(){return this.getAsNumber("weight")}}),
o={createEntities:function(a,b){return new k({namespaces:d.Namespaces,xpath:d.SearchFeedXPath,service:a,data:b})},createEntity:function(a,b){return new m({namespaces:d.Namespaces,service:a,data:b})}},q={createEntities:function(a,b){return new k({namespaces:d.Namespaces,xpath:d.SearchFeedXPath,service:a,data:b})},createEntity:function(a,b){return new n({namespaces:d.Namespaces,xpath:d.SearchXPath,service:a,data:b})}},v={createEntities:function(b,e,g){var f=c.mixin({},d.SingleFacetXPath),g=a.parse(g.options.query.facet);
f.entries=f.entries.replace("{facet.id}",g.id);return new k({namespaces:d.Namespaces,xpath:f,service:b,data:e})},createEntity:function(a,b){return new p({namespaces:d.Namespaces,xpath:d.FacetValueXPath,service:a,data:b})}};return i(g,{contextRootMap:{search:"search"},constructor:function(){if(!this.endpoint)this.endpoint=f.findEndpoint(this.getDefaultEndpointName())},getDefaultEndpointName:function(){return"connections"},getScopes:function(a){return this.getEntities(d.AtomScopes,{method:"GET",handleAs:"text",
query:a||{}},o)},getResults:function(a,b){var b=this._stringifyRequestArgs(b),e={method:"GET",handleAs:"text",query:c.mixin({query:a},b||{})};return this.getEntities(d.AtomSearch,e,q)},getMyResults:function(a,b){var b=this._stringifyRequestArgs(b),e={method:"GET",handleAs:"text",query:c.mixin({query:a},b||{})};return this.getEntities(d.AtomMySearch,e,q)},getResultsByTag:function(a,b){var e={method:"GET",handleAs:"text",query:c.mixin({constraint:this._createTagConstraint(a)},b||{})};return this.getEntities(d.AtomSearch,
e,q)},getMyResultsByTag:function(a,b){var e={method:"GET",handleAs:"text",query:c.mixin({constraint:this._createTagConstraint(a)},b||{})};return this.getEntities(d.AtomMySearch,e,q)},getPeople:function(a,b){var e={method:"GET",handleAs:"text",query:c.mixin({query:a,pageSize:"0",facet:'{"id": "Person"}'},b||{})};return this.getEntities(d.AtomSearch,e,v)},getMyPeople:function(a,b){var e={method:"GET",handleAs:"text",query:c.mixin({query:a,pageSize:"0",facet:'{"id": "Person"}'},b||{})};return this.getEntities(d.AtomMySearch,
e,v)},_stringifyRequestArgs:function(b){if(!b)return null;var d={},e;for(e in b){var g=b[e];d[e]=c.isObject(g)?a.stringify(g):g}return d},_createTagConstraint:function(b){var d={type:"category",values:[]};if(c.isArray(b))for(var e=0;e<b.length;e++)d.values[e]="Tag/"+b[e];else d.values[0]="Tag/"+b;return a.stringify(d)}})})},"sbt/connections/SearchConstants":function(){define(["../lang","./ConnectionsConstants"],function(i,f){return i.mixin(f,{Namespaces:{a:"http://www.w3.org/2005/Atom",ibmsc:"http://www.ibm.com/search/content/2010",
opensearch:"http://a9.com/-/spec/opensearch/1.1/",relevance:"http://a9.com/-/opensearch/extensions/relevance/1.0/",snx:"http://www.ibm.com/xmlns/prod/sn",spelling:"http://a9.com/-/opensearch/extensions/spelling/1.0/"},SearchFeedXPath:f.ConnectionsFeedXPath,SingleFacetXPath:{entries:"/a:feed/ibmsc:facets/ibmsc:facet[@id='{facet.id}']/ibmsc:facetValue"},FacetValueXPath:{entry:"/ibmsc:facetValue",uid:"@id",id:"@id",label:"@label",weight:"@weight"},SearchXPath:{entry:"/a:entry",uid:"a:id",title:"a:title",
content:"a:content",updated:"a:updated",authorUserid:"a:author/snx:userid",authorName:"a:author/a:name",authorEmail:"a:author/a:email",rank:"snx:rank",relevance:"relevance:score",summary:"a:summary",authorState:"a:author/snx:userState",type:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/type']/@term",application:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/component']/@term",applicationCount:"count(a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/component']/@term)",primaryComponent:"a:category[ibmsc:field[@id='primaryComponent']]/@term",
tags:"a:category[not(@scheme)]/@term",commentCount:"snx:rank[@scheme='http://www.ibm.com/xmlns/prod/sn/comment']",resultLink:"a:link[not(@rel)]/@href",bookmarkLink:"ibmsc:field[@id='dogearURL']",eventStartDate:"ibmsc:field[@id='eventStartDate']",authorJobTitle:"a:content/xhtml:div/xhtml:span/xhtml:div[@class='title']",authorJobLocation:"a:content/xhtml:div/xhtml:span/xhtml:div[@class='location']",authorCount:"count(a:contributor)",contributorCount:"count(a:author)",tagCount:"count(a:category[not(@scheme)])",
highlightField:"ibmsc:field[@id='highlight']",fileExtension:"ibmsc:field[@id='fileExtension']",memberCount:"snx:membercount",communityUuid:"snx:communityUuid",containerType:"ibmsc:field[@id='container_type']",communityParentLink:"a:link[@rel='http://www.ibm.com/xmlns/prod/sn/container' and @type='text/html']/@href",parentageMetaID:"ibmsc:field[contains(@id, 'ID')]/@id",parentageMetaURL:"ibmsc:field[contains(@id, 'URL')]",parentageMetaURLID:"ibmsc:field[contains(@id, 'URL')]/@id",objectRefDisplayName:"ibmsc:field[@id='FIELD_OBJECT_REF_DISPLAY_NAME']",
objectRefUrl:"ibmsc:field[@id='FIELD_OBJECT_REF_URL']",accessControl:"a:category[@scheme='http://www.ibm.com/xmlns/prod/sn/accesscontrolled']/@term",commentsSummary:"ibmsc:field[@id='commentsSummary']"},AtomScopes:"/${search}/atom/scopes",AtomSearch:"/${search}/atom/search",AtomMySearch:"/${search}/atom/mysearch",publicSearch:"/${search}/atom/search/results",mySearch:"/${search}/atom/mysearch/results",peopleSearch:"/${search}/atom/search/facets/people",myPeopleSearch:"/${search}/atom/mysearch/facets/people",
tagsSearch:"/${search}/atom/search/facets/tags",myTagsSearch:"/${search}/atom/mysearch/facets/tags",dateSearch:"/${search}/atom/search/facets/date",myDateSearch:"/${search}/atom/mysearch/facets/date",sourceSearch:"/${search}/atom/search/facets/source",mySourceSearch:"/${search}/atom/mysearch/facets/source"})})},"sbt/connections/controls/search/SearchGrid":function(){define("../../../declare,../../../lang,../../../config,../../../controls/grid/Grid,./SearchGridRenderer,../../../store/parameter,../../../connections/SearchConstants".split(","),
function(i,f,c,h,b,a,d){c={pageNumber:a.oneBasedInteger("page"),pageSize:a.oneBasedInteger("ps"),sortBy:a.sortField("sortKey",{relevance:"",date:"date"}),sortOrder:a.sortOrder("sortOrder")};return i(h,{options:{all:{storeArgs:{url:d.mySearch,attributes:d.SearchXPath,paramSchema:c},rendererArgs:{type:"all"}},"public":{storeArgs:{url:d.publicSearch,attributes:d.SearchXPath,paramSchema:c},rendererArgs:{type:"all"}},people:{storeArgs:{url:d.searchPeople,attributes:d.SearchXPath,paramSchema:c},rendererArgs:{type:"people"}},
tags:{storeArgs:{url:d.tagsSearch,attributes:d.SearchXPath},rendererArgs:{type:"tags"}},apps:{storeArgs:{url:d.sourceSearch,attributes:d.SearchXPath,paramSchema:c},rendererArgs:{type:"apps"}}},defaultOption:"all",constructor:function(){var a=this.renderer.nls;this._sortInfo={relevance:{title:a.sortByRelevance,sortMethod:"sortByRelevance",sortParameter:"relevance"},date:{title:a.sortByDate,sortMethod:"sortByDate",sortParameter:"date"}};this._activeSortAnchor=this._sortInfo.relevance;this._activeSortIsDesc=
!0},contextRootMap:{search:"search"},buildUrl:function(a,b,c){b={format:this.format};-1!=a.indexOf("?")&&(a=a.substring(0,a.indexOf("?")));this.query&&(b=f.mixin(b,this.query));this.component&&(b=f.mixin(b,{component:this.component}));return this.constructUrl(a,b,this.getUrlParams(),c)},createDefaultRenderer:function(a){return new b(a)},getSortInfo:function(){return{active:{anchor:this._activeSortAnchor,isDesc:this._activeSortIsDesc},list:[this._sortInfo.relevance,this._sortInfo.date]}},sortByRelevance:function(a,
b,c){this._sort("relevance",!0,a,b,c)},sortByDate:function(a,b,c){this._sort("date",!0,a,b,c)}})})},"sbt/connections/controls/search/SearchGridRenderer":function(){define("../../../declare,../ConnectionsGridRenderer,../../../lang,../../../stringUtil,../../../i18n,../../../i18n!./nls/SearchGridRenderer,../../../text!./templates/BookmarkBody.html,../../../text!./templates/CalendarBody.html,../../../text!./templates/CommunityBody.html,../../../text!./templates/DefaultBody.html,../../../text!./templates/DefaultHeader.html,../../../text!./templates/DefaultSummary.html,../../../text!./templates/ProfileBody.html,../../../text!./templates/ProfileHeader.html,../../../text!./templates/PersonCard.html,../../../text!./templates/StatusUpdateExtraHeader.html,../../../text!./templates/StatusUpdateHeader.html,../../../text!./templates/a.html,../../../text!./templates/td.html,../../../text!./templates/tr.html,../../../text!./templates/li.html,../../../text!./templates/ul.html,../../../text!./templates/span.html,../../../text!./templates/img.html,../../../text!./templates/em.html,../../../text!./templates/div.html".split(","),
function(i,f,c,h,b,a,d,g,e,j,k,m,n,p,o,q,v,u,r,z,t,x,s,A,E,B){return i(f,{_nls:a,resultType:null,application:null,buildElement:function(a,b){b.classAttr=b.classAttr?'class="'+b.classAttr+'"':"";b.styleAttr=b.styleAttr?'style="'+b.styleAttr+'"':"";b.roleAttr=b.roleAttr?'role="'+b.roleAttr+'"':"";b.hrefAttr=b.hrefAttr?'href="'+b.hrefAttr+'"':"";b.onclickAttr=b.onclickAttr?'onclick="'+b.onclickAttr+'"':"";b.colspanAttr=b.colspanAttr?'colspan="'+b.colspanAttr+'"':"";b.altAttr=b.altAttr?'alt="'+b.altAttr+
'"':"";b.srcAttr=b.srcAttr?'src="'+b.srcAttr+'"':"";b.titleAttr=b.titleAttr?'title="'+b.titleAttr+'"':"";b.widthAttr=b.widthAttr?'width="'+b.widthAttr+'"':"";b.heightAttr=b.heightAttr?'height="'+b.heightAttr+'"':"";return h.transform(a,b)},resultTypes:{activities:"activities",blogs:"blogs",bookmark:"bookmark",calendar:"calendar",communities:"communities",files:"files",forums:"forums",inactiveProfiles:"inactiveProfiles",profiles:"profiles",statusUpdates:"status_updates",wiki:"wiki"},tagsList:function(a,
b,c){var d=b.getValue("tagCount"),d=parseInt(d);if(0===d)return"";for(var a="",e=b.getValue("tags"),c=0;c<d&&3>c;c++){var g="string"===typeof e?e:e[c],f="lotusFirst";if(2===c||c===d-1)f="lotusLast";var h="onclick=\"searchObject.performTagFilter('"+e[c]+"');\"",i=g,j=b.getValue("highlightField")?g:void 0,g=this.buildElement(u,{hrefAttr:"javascript:void(0);",onclickAttr:h,altAttr:i,classAttr:j,content:g});c!=d-1&&2!=c&&(g+=",&nbsp");f=this.buildElement(t,{content:g,classAttr:f,styleAttr:"padding:0px"});
a+=f+"\n"}b=3<d?this._nls.tagsMore.replace("{0}",d-3):"";c=this.buildElement(x,{content:a,classAttr:"lotusInlinelist",styleAttr:"display:inline"});b=this.buildElement(s,{content:this._nls.tags+"&nbsp; "+c+"&nbsp;"+b});return this.buildElement(t,{roleAttr:"listitem",content:b})},summaryIcon:function(a,b){var c=b.getValue("fileExtension"),d="lconn-ftype16 lconn-ftype16-"+c,e="",g="",f="",h="";switch(this.resultType){case this.resultTypes.activities:d="lconnSprite lconnSprite-iconActivities16";e="images/blank.gif";
f=g=this._nls.activities;h="presentation";break;case this.resultTypes.blogs:d="lconnSprite lconnSprite-iconBlogs16";e="images/blank.gif";f=g=this._nls.blogs;h="presentation";break;case this.resultTypes.bookmark:d="lconnSprite lconnSprite-iconBookmarks16";e="images/blank.gif";f=g=this._nls.bookmarks;h="presentation";break;case this.resultTypes.calendar:d="lconnSprite lconnSprite-iconCalendar16";e="images/blank.gif";f=g=this._nls.calendar;h="presentation";break;case this.resultTypes.communities:d=this.componentContains(b,
"communities:feed")?"lconnSprite lconnSprite-iconFeed16":"lconnSprite lconnSprite-iconCommunities16";e="images/blank.gif";f=g=this._nls.communities;h="presentation";break;case this.resultTypes.files:d=c?d:"lconnSprite lconnSprite-iconFiles16";e="images/blank.gif";f=g=this._nls.files;h="presentation";break;case this.resultTypes.forums:d="lconnSprite lconnSprite-iconForums16";e="images/blank.gif";f=g=this._nls.forums;h="presentation";break;case this.resultTypes.profiles:d="lconnSprite lconnSprite-iconProfiles16";
e="images/blank.gif";f=g=this._nls.profiles;h="presentation";break;case this.resultTypes.statusUpdates:d="lconnSprite lconnSprite-iconStatusUpdate16";e="images/blank.gif";f=g=this._nls.statusUpdates;h="presentation";break;case this.resultTypes.wikis:d=0!==c.length?d:"lconnSprite lconnSprite-iconWikis16",e="images/blank.gif",f=g=this._nls.wikis,h="presentation"}return this.buildElement(A,{classAttr:d,srcAttr:e,altAttr:g,titleAttr:f,roleAttr:h})},resultSummary:function(a,b){var c=b.getValue("summary");
if(0!==c.length){var d="";this.resultType===this.resultTypes.statusUpdates&&(d=this.buildElement(t,{classAttr:"lotusMeta lconnSearchHighlight",content:this._nls.comment}),d=this.buildElement(x,{styleAttr:"display: inline",classAttr:"lotusInlinelist",roleAttr:"presentation",content:d}));c=c.replace(/&lt;b&gt;/g,"<b>");c=c.replace(/&lt;\/b&gt;/g,"</b>");c=this.buildElement(s,{classAttr:"lotusMeta lconnSearchHighlight",content:c});return d+"\n"+c+"\n"}if(this.resultType!=this.resultTypes.statusUpdates)return this.buildElement(E,
{content:this._nls.noDescription,classAttr:"lotusMeta"})},resultComment:function(a,b){if(0<b.getValue("commentsSummary").length&&this.resultType!=this.resultTypes.statusUpdates){var c=this.buildElement(s,{classAttr:"lotusMeta lconnSearchHighlight",content:this._nls.comment+b.getValue("commentsSummary")});return this.buildElement(B,{styleAttr:"clear:both;",content:c})}},formattedTitle:function(a,b){var c=b.getValue("title");0!==c.length&&(c=c.replace(/&lt;b&gt;/g,"<b>"),c=c.replace(/&lt;\/b&gt;/g,
"</b>"));return c},parentageMeta:function(a,b){switch(b.getValue("parentageMetaURLID")){case "blogURL":var c=b.getValue("parentageMetaURL"),d="",d=this.componentcontains(b,"blogs:ideationblogs:idea")?this._nls.fromAnIdeationBlog:this._nls.fromABlog;return this.buildElement(u,{hrefAttr:c,content:d})+" > ";case "forumURL":return this.buildElement(u,{hrefAttr:b.getValue("parentageMetaURL"),content:this._nls.fromAForum})+" > ";case "wikiURL":return this.buildElement(u,{hrefAttr:b.getValue("parentageMetaURL"),
content:this._nls.fromAWiki})+" > ";case "activityURL":if(0===b.getValue("primaryComponent").indexOf("activities")||0===b.getValue("primaryComponent").indexOf("communities:activities")){if("activities:bookmark"===b.getValue("primaryComponent")||"communities:activities:bookmark"===b.getValue("primaryComponent")||this.componentContains("activities:section")||this.componentContains("activities:task")||this.componentContains("activities:entry"))return this.buildElement(u,{hrefAttr:b.getValue("parentageMetaURL"),
content:this._nls.fromAnActivity})+" > ";if("activityEntryURL"===b.getValue("parentageMetaID")||"activities:bookmark"===b.getValue("primaryComponent"))return this.buildElement(u,{hrefAttr:b.getValue("parentageMetaURL"),content:this._nls.entry})+" > "}}return""},communityParent:function(a,b){return 0!=b.getValue("communityUuid").length&&"stand-alone"!=b.getValue("containerType")&&"communities:entry"!=b.getValue("primaryComponent")&&0===b.getValue("primaryComponent").indexOf("communities")?this.buildElement(u,
{hrefAttr:b.getValue("communityParentLink"),content:this._nls.fromACommunity})+" > ":""},summaryTypeLabel:function(a,b){var c="",c=this.resultTypes;switch(this.resultType){case c.activities:return c=this.componentContains(b,"activities:task")?this._nls.activityToDo:this.componentContains(b,"activities:activity")||this.componentContains(b,"activities:community_activity")||this.componentContains(b,"activities:community_activity+members")||this.componentContains(b,"activities:explicit_membership_community_activity")?
this._nls.activity:this.componentContains(b,"activities:bookmark")?this._nls.activityBookmark:this.componentContains(b,"activities:section")?this._nls.activitySection:this.componentContains(b,"activities:reply")?this._nls.activityComment:this._nls.activityEntry,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.blogs:return c=this.componentContains(b,"blogs:ideationblogs:ideationblog")?this._nls.ideationBlog:this.componentContains(b,"blogs:ideationblogs:idea")?this._nls.idea:this.componentContains(b,
"blogs:ideationblogs:comment")?this._nls.ideaComment:this.componentContains(b,"blogs:entry")?this._nls.blogEntry:this.componentContains(b,"blogs:comment")?this._nls.blogComment:this._nls.blog,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.bookmark:return c=this._nls.bookmark,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.calendar:return c=this._nls.calendar,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.communities:if(this.componentContains(b,"communities:entry"))return this.buildElement(s,
{classAttr:"lotusMeta",content:this._nls.community});if(this.componentContains(b,"communities:feed"))return this.buildElement(s,{classAttr:"lotusMeta",content:this._nls.feed});if(this.componentContains(b,"communities:bookmark"))return this.buildElement(s,{classAttr:"lotusMeta",content:this._nls.bookmark});case c.files:return c=this._nls.file,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.forums:return c=this.componentContains(b,"communities:forums:forum")?this._nls.forum:this.componentContains(b,
"communities:forums:category")?this._nls.forumCategory:this._nls.forumTopic,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.profiles:return c=this._nls.profile,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.statusUpdates:return c=this._nls.fromAStatusUpdate,this.buildElement(s,{classAttr:"lotusMeta",content:c});case c.wikis:return c=this.componentContains(b,"wikis:wiki")?this._nls.wikiType:this.componentContains(b,"wikis:file")?this._nls.wikiFile:this._nls.wikiPage,this.buildElement(s,
{classAttr:"lotusMeta",content:c})}},componentContains:function(a,b){if(a.getValue("primaryComponent")===b)return!0;for(var c in a.getValue("application"))if(a.getValue("application")[c]===b)return!0;return!1},communityMembers:function(a,b,c,d){if(!this.componentContains(b,"communities:entry"))return this.buildElement(t,{content:this._substituteItem(o,a,b,c,d),classAttr:"lotusFirst",roleAttr:"listitem"});var e=b.getValue("memberCount")+" "+this._nls.members,e=this.buildElement(t,{content:e,classAttr:"lotusFirst members",
roleAttr:"listitem"}),a=this.buildElement(t,{content:this._substituteItem(o,a,b,c,d),roleAttr:"listitem"});return e+"\n"+a},bodyCalendarLis:function(a,b){var c="";"true"===b.getValue("allDayEvent")&&(c=this.buildElement(t,{roleAttr:"listitem",content:this._nls.eventIsAllDay}));"true"===b.getValue("repeatingEvent")&&(c=this.buildElement(t,{roleAttr:"listitem",content:this._nls.eventRepeats}));1<b.getValue("location.length")&&(c=this.buildElement(t,{roleAttr:"listitem",content:b.getValue("location")}));
return c+"\n\n\n"},bodyBookmarkLiContent:function(a,b,c,d){var e=parseInt(b.getValue("contributorCount")),g=parseInt(b.getValue("authorcount"));return 0<b.getValue("bookmarkLink").length&&1<e+g?(a=this.buildElement(u,{hrefAttr:b.getValue("bookmarkLink"),content:e+g+this._nls.people}),this.buildElement(s,{content:a})):this._substituteItem(o,a,b,c,d)},cardClass:function(a,b){return"active"!=b.getValue("authorState")?"lotusPersonInactive":"vcard"},profileBodyJobTitle:function(a,b){return b.getValue("authorJobTitle")&&
0!=b.getValue("authorJobTitle").length?this.buildElement(t,{content:b.getValue("authorJobTitle")+"&nbsp;",classAttr:"lotusFirst",roleAttr:"listitem"}):this._nls.emptyString},bodyPersonCardLi:function(a,b,c,d){return 0!=b.getValue("authorName").length?this.buildElement(t,{content:this._substituteItem(o,a,b,c,d),roleAttr:"listitem",classAttr:"lotusFirst"}):""},bodyUpdatedLi:function(a,b,c,d){var e="searchDateClass";0==b.getValue("authorName").length&&(e+=" lotusFirst");return this.buildElement(t,{classAttr:e,
content:this.updatedLabel(a,b,c,d)})},bodyCommentCountLi:function(a,b){var c=parseInt(b.getValue("commentCount"));if(1<=c)return this.buildElement(t,{classAttr:"comments",roleAttr:"listitem",content:1===c?this._nls.oneComment:c+" "+this._nls.comments})},objectReferenceLi:function(a,b){if(0!=b.getValue("objectRefDisplayName").length&&0!=b.getValue("objectRefUrl").length){var c=this.buildElement(u,{hrefAttr:b.getValue("objectRefUrl"),content:b.getValue("objectRefDisplayName")});return this.buildElement(t,
{roleAttr:"listitem",content:c})}},bodyBookmarkLi:function(a,b){var c=parseInt(b.getValue("applicationCount"));if(("dogear"==this.application&&1<c||"activities:bookmark"==this.application&&2<c||"communities:bookmark"==this.application&&2<c)&&"public"==b.getValue("accessControl")){var c=this.buildElement(A,{classAttr:"lconnSprite lconnSprite-iconHelp16",srcAttr:"images/blank.gif",titleAttr:this._nls.help,altAttr:this._nls.help}),d=this.buildElement(s,{classAttr:"lotusAltText",content:"?"}),c=this.buildElement(u,
{classAttr:"lconnSearchBookmarkHelpButton",hrefAttr:"javascript:;",content:c+"\n"+d}),d="";"dogear"===this.application&&(d+=this.buildElement(t,{content:this._nls.bookmarksTitle})+"\n");"activities:bookmark"===this.application&&(d+=this.buildElement(t,{content:this._nls.activitiesTitle})+"\n");"communities:bookmark"===this.application&&(d+=this.buildElement(t,{content:this._nls.communitiesTitle})+"\n");d=this.buildElement(x,{content:d});d=this.buildelement(s,{classAttr:"lotusLeft lconnSearchBookmarkHelpText",
content:d});d=this.buildElement(B,{styleAttr:"display:none",content:d});return c+"\n"+d+"\n"}},commentOn:function(a,b){return this.componentContains(b,"activities:reply")?this._nls.commentOn:this._nls.emptyString},ltr:function(a,b){return this.componentContains(b,"wikis:file")?'dir="'+this._nls.ltr+'"':this._nls.emptyString},inactiveLabel:function(a,b){return this.componentContains(b,"profiles")?this._nls.inactiveLabel:this._nls.emptyString},colspan:function(a,b){return this.componentContains(b,"status_update")?
"":'colspan="2"'},applicationLabel:function(){var a=this.application;return a.charAt(0).toUpperCase()+a.slice(1)},summaryClass:function(a,b){return"inactive"===b.getValue("authorState")?"lotusDim":"lconnSearchComponentCategory"},summaryStyle:function(a,b){return"inactive"===b.getValue("authorState")?"filter: alpha(opacity = 50)":""},getApplication:function(a){if("string"===typeof a.getValue("application"))return a.getValue("application");for(var b in a.getValue("application")){var c=a.getValue("application")[b];
if(-1===c.indexOf(":"))return c}},getResultType:function(a){var b=a.getValue("primaryComponent"),c=this.resultTypes;this.application=this.getApplication(a);switch(this.application){case "blogs":return c.blogs;case "calendar":return c.calendar;case "dogear":return c.bookmark;case "files":return c.files;case "forums":return c.forums;case "profiles":return c.profiles;case "status_updates":return c.statusUpdates;case "wikis":return c.wikis}if(0===b.indexOf("activities")||0===b.indexOf("communities:activities"))return"activities:bookmark"===
b||"communities:activities:bookmark"===b?c.bookmarks:c.activities;if(0===b.indexOf("communities"))return"communities:bookmark"===b?c.bookmark:c.communities},getRowContent:function(a){var b=this.resultTypes;switch(a){case b.activities:return k+j+m;case b.blogs:return k+j+m;case b.bookmark:return k+d+m;case b.calendar:return k+g+m;case b.communities:return k+e+m;case b.files:return k+j+m;case b.forums:return k+j+m;case b.profiles:return p+n+m;case b.statusUpdates:return v+j+m;case b.wikis:return k+
j+m;default:return k+j+m}},getTemplate:function(a,b){this.resultType=this.getResultType(a);var c=this.getRowContent(this.resultType),d=void 0;0===b&&(d="lotusFirst");var e=void 0,c=this.buildElement(r,{content:c,colspanAttr:"2"});this.resultType===this.resultTypes.statusUpdates&&(c=this.buildElement(r,{content:q,widthAttr:"65",heightAttr:"55",classAttr:"lotusFirstCell"})+c);return this.buildElement(z,{content:c,classAttr:d})},createdLabel:function(a,c){return b.getSearchUpdatedLabel(c.getValue("created"))},
updatedLabel:function(a,c){return b.getSearchUpdatedLabel(c.getValue("updated"))},constructor:function(){},emptyClass:"lconnEmpty lotusui",renderItem:function(a,b,c,d,e,g){this.template=this.getTemplate(d,e);this.inherited(arguments)},renderEmpty:function(a,b){for(;b.childNodes[0];)this._destroy(b.childNodes[0]);this._create("span",{innerHTML:this._nls.empty},this._create("div",{"class":this.emptyClass,innerHTML:"","aria-relevant":"all","aria-live":"assertive"},this._create("div",{"class":"lotusui lconnSearchResults",
innerHTML:""},b)))},tableClass:"lotusTable lconnSearchResults"})})},"sbt/connections/controls/sharebox/InputFormWrapper":function(){define(["sbt/declare","sbt/connections/controls/WidgetWrapper","sbt/text!./templates/InputFormContent.html"],function(i,f,c){return i([f],{defaultTemplate:c,args:null,constructor:function(c){this.args=c}})})},"sbt/connections/controls/vcard/CommunityVCard":function(){define("../../../declare,../../../dom,../../../widget/_TemplatedWidget,../../../lang,../../../connections/controls/vcard/SemanticTagService,../../../text!./templates/CommunityVCard.html".split(","),
function(i,f,c,h,b,a){return i([c],{templateString:a,encodeHtml:!0,constructor:function(a){if(!a.selectedWidgetId)a.selectedWidgetId="";h.mixin(a)},postCreate:function(){this.inherited(arguments);b.loadSemanticTagService()}})})},"sbt/connections/controls/vcard/ProfileVCard":function(){define("../../../declare,../../../dom,../../../widget/_TemplatedWidget,../../../lang,../../../connections/controls/vcard/SemanticTagService,../../../text!./templates/ProfileVCard.html".split(","),function(i,f,c,h,b,
a){return i([c],{templateString:a,encodeHtml:!0,href:"javascript:void(0);",userName:"",inclDojo:!1,errorClass:"",constructor:function(a){h.mixin(a)},postCreate:function(){f.setAttr(this.idNode,"class",0<=this.userId.indexOf("@")?"email":"x-lconn-userid");this.inherited(arguments);b.loadSemanticTagService()},renderError:function(a,b){domConstruct.create("div",{"class":this.errorClass,innerHTML:b.message,role:"alert",tabIndex:0},a,"only")}})})},"sbt/connections/controls/vcard/ProfileVCardInline":function(){define("../../../declare,../../../dom,../../../widget/_TemplatedWidget,../../../lang,../../../connections/controls/vcard/SemanticTagService,../../../text!./templates/ProfileVCardInline.html".split(","),
function(i,f,c,h,b,a){return i([c],{templateString:a,encodeHtml:!0,href:"javascript:void(0);",userName:"",inclDojo:!1,errorClass:"",constructor:function(a){h.mixin(a)},postCreate:function(){f.setAttr(this.idNode,"class",0<=this.userId.indexOf("@")?"email":"x-lconn-userid");this.inherited(arguments);b.loadSemanticTagService()},renderError:function(a,b){domConstruct.create("div",{"class":this.errorClass,innerHTML:b.message,role:"alert",tabIndex:0},a,"only")}})})},"sbt/connections/controls/wrappers/FileGridWrapper":function(){define("../../../declare,../../../config,../../../util,../../../lang,../../../url,../../../connections/controls/WidgetWrapper,../../../text!../templates/FileGridWrapperContent.html".split(","),
function(i,f,c,h,b,a,d){return i([a],{defaultTemplate:d,getTransformObject:function(){var a=this._endpoint.baseUrl,d=new b(f.Properties.libraryUrl),i=d.getQuery(),i=c.splitQuery(i,"&");h.mixin(i,{lib:"dojo",ver:"1.8.0"});i=c.createQuery(i,"&");d.setQuery(i);i=h.mixin({},f.Properties);h.mixin(i,{libraryUrl:d.getUrl(),loginUi:"popup"});return{args:JSON.stringify(this.args),connectionsUrl:a,libraryUrl:d.getUrl(),sbtProps:JSON.stringify(i)}},args:null,constructor:function(a){this.args=a}})})},"sbt/connections/controls/wrappers/ProfileCardWrapper":function(){define("../../../declare,../../../config,../../../util,../../../lang,../../../url,../../../connections/controls/WidgetWrapper,../../../text!../templates/ProfileCardWrapperContent.html".split(","),
function(i,f,c,h,b,a,d){return i([a],{defaultTemplate:d,getTransformObject:function(){var a=this._endpoint.baseUrl,d=new b(f.Properties.libraryUrl),i=d.getQuery(),i=c.splitQuery(i,"&");h.mixin(i,{lib:"dojo",ver:"1.8.0"});i=c.createQuery(i,"&");d.setQuery(i);i=h.mixin({},f.Properties);h.mixin(i,{libraryUrl:d.getUrl(),loginUi:"popup"});return{args:JSON.stringify(this.args),connectionsUrl:a,libraryUrl:d.getUrl(),sbtProps:JSON.stringify(i)}},args:null,constructor:function(a){this.args=a}})})},"sbt/smartcloud/controls/nls/BaseGridRenderer":function(){define({root:{empty:"Empty",
loading:"Loading...",previous:"Previous",previousPage:"Previous Page",next:"Next",nextPage:"Next Page",pagingResults:"${start} - ${end} of ${totalCount}",sortBy:"Sort by:",msgNoData:"Please wait..."}})},"sbt/smartcloud/controls/profiles/ColleagueGrid":function(){define(["../../../declare","./ProfileGrid","./ColleagueGridRenderer"],function(i,f,c){return i(f,{hideViewAll:!1,createDefaultRenderer:function(f){return new c(f)},handleViewAll:function(c,b){this.hideViewAll=!0;this.renderer.template=this.renderer.fullTemplate;
this.renderer.render(this,this.domNode,b.items,b)}})})},"sbt/smartcloud/controls/profiles/ProfileGrid":function(){define("../../../declare,../../../config,../../../controls/grid/Grid,./ProfileGridRenderer,./ProfileAction,../../../store/parameter,../../ProfileConstants".split(","),function(i,f,c,h,b,a,d){var f={id:"o:person/o:id",entry:"/o:response/o:entry",uid:"o:person/o:id",name:"o:person/o:displayName",email:"o:person/o:emailAddress",title:"o:person/o:jobtitle",profileUrl:"o:person/o:profileUrl",
orgName:"o:person/o:org/o:name",address:"o:person/o:address",phoneNumbers:"o:person/o:phoneNumbers/o:phone",photos:"o:person/o:photos/o:value"},g={entry:"/o:response/o:entry",entries:"/o:response/o:entry",totalResults:"/o:response/o:totalResults",startIndex:"/o:response/o:startIndex",itemsPerPage:"/o:response/o:itemsPerPage"},e={o:"http://ns.opensocial.org/2008/opensocial"},a={startIndex:a.zeroBasedInteger("startIndex"),pageSize:a.oneBasedInteger("count")};return i(c,{options:{contacts:{storeArgs:{url:d.GetMyContacts,
attributes:f,paramSchema:a,feedXPath:g,namespaces:e},rendererArgs:{type:"contacts"}},friends:{storeArgs:{url:d.GetMyConnections,attributes:f,paramSchema:a,feedXPath:g,namespaces:e},rendererArgs:{type:"friends"}}},endpoint:"smartcloud",profileAction:new b,defaultOption:"contacts",constructor:function(){},createDefaultRenderer:function(a){return new h(a)},handleClick:function(a,b,c){this.profileAction&&(console.log(b),dojo.stopEvent(c),this.profileAction.execute(b,{grid:this.grid},c))},_doQuery:function(a,
b){if(b&&b.total)b.count=Math.min(b.count,b.total-b.start);this.inherited(arguments)}})})},"sbt/smartcloud/controls/profiles/ProfileGridRenderer":function(){define("../../../declare,../../../lang,../../../stringUtil,../BaseGridRenderer,../../../i18n!./nls/ProfileGridRenderer,../../../text!./templates/ProfileRow.html".split(","),function(i,f,c,h,b,a){return i(h,{_nls:b,template:a,contactImageUrl:"{baseUrl}/contacts/img/photos/{photo}",noContactImageUrl:"{baseUrl}/contacts/img/noContactImage.gif",constructor:function(){},
rowClass:function(a,b,c){b.rowClass=0===c?"lotusFirst":1===c%2?"lotusAltRow":null},photoUrl:function(a,b){var e=a.store.getEndpoint();if(!e)return null;var h=b.getValue("photos");return h&&f.isArray(h)&&1<h.length?c.replace(this.contactImageUrl,{baseUrl:e.baseUrl,photo:h[1]}):c.replace(this.noContactImageUrl,{baseUrl:e.baseUrl})},primaryTelephone:function(a,b){var c=b.getValue("phoneNumbers");if(c&&f.isArray(c)&&0<c.length)return c[0]},tooltip:function(a,b){if(a.profileAction)return a.profileAction.getTooltip(b)}})})},
"sbt/smartcloud/controls/profiles/ProfileAction":function(){define(["../../../declare","../../../controls/grid/GridAction","dojo/string"],function(i,f){return i(f,{nls:{tooltip:"Go to ${name}"},constructor:function(){},getTooltip:function(){},execute:function(){}})})},"sbt/smartcloud/ProfileConstants":function(){define(["../lang"],function(i){return i.mixin({},{DefaultCacheSize:10,GetProfile:"/lotuslive-shindig-server/social/rest/people/@me/@self",GetMyConnections:"/lotuslive-shindig-server/social/rest/people/@me/@friends",
GetUserIdentity:"/manage/oauth/getUserIdentity",GetContactByGUID:"/lotuslive-shindig-server/social/rest/people/lotuslive:contact:{idToBeReplaced}/@self",GetProfileByGUID:"/lotuslive-shindig-server/social/rest/people/lotuslive:user:{idToBeReplaced}/@self",GetMyContacts:"/lotuslive-shindig-server/social/rest/people/@me/@all",ProfileJsonPath:{thumbnailUrl:"$..photo",address:"$..address",department:"$..name",jobTitle:"$..jobtitle",telephone:"$..telephone",about:"$..aboutMe",id:"$..id",objectId:"$..objectId",
displayName:"$..displayName",emailAddress:"$..emailAddress",profileUrl:"$..profileUrl",country:"$..country",orgId:"$..orgId",org:"$..org.name",global:"$..",firstElement:"$[0]",totalResults:"totalResults",startIndex:"startIndex",itemsPerPage:"itemsPerPage"}})})},"sbt/smartcloud/controls/profiles/ColleagueGridRenderer":function(){define("../../../declare,../BaseGridRenderer,../../../text!./templates/ColleagueItem.html,../../../stringUtil,../../../lang,./nls/ColleagueGridRenderer,../../../text!./templates/ColleagueItemFull.html,../../../text!./templates/ViewAll.html".split(","),
function(i,f,c,h,b,a,d,g){return i(f,{_nls:a,containerClass:"lotusChunk",contactImageUrl:"{baseUrl}/contacts/img/photos/{photo}",noContactImageUrl:"{baseUrl}/contacts/img/noContactImage.gif",template:c,fullTemplate:d,viewAllTemplate:g,pagerTemplate:null,sortTemplate:null,sortAnchor:null,constructor:function(){},photoUrl:function(a,c){var d=a.store.getEndpoint();if(!d)return null;var g=c.getValue("photos");return g&&b.isArray(g)&&1<g.length?h.replace(this.contactImageUrl,{baseUrl:d.baseUrl,photo:g[1]}):
h.replace(this.noContactImageUrl,{baseUrl:d.baseUrl})},render:function(a,b,c,d){for(;b.childNodes[0];)this._destroy(b.childNodes[0]);if(0===c.length)this.renderEmpty(a,b);else{for(var g=this.renderContainer(a,b,c,d),f=0;f<c.length;f++)this.renderItem(a,g,d,c[f],f,c);this.renderViewAll(a,b,c,d)}},renderContainer:function(a,b){return this._create("div",{"class":this.containerClass},b)},renderViewAll:function(a,b,c,d){this.viewAllTemplate&&!a.hideViewAll&&(c=this._isString(this.viewAllTemplate)?this._toDom(this._substituteItems(this.viewAllTemplate,
a,this,c,d),b.ownerDocument):this.sortTemplate.cloneNode(!0),b.appendChild(c),this._doAttachEvents(a,b,d))},viewAllTitle:function(b,c,d,g){b=h.replace(1==g.totalCount?this.nls.root.person:this.nls.root.people,{totalCount:g.totalCount});return h.replace(a.root.viewAll,{totalCount:b})}})})},"sbt/smartcloud/controls/profiles/nls/ColleagueGridRenderer":function(){define({root:{viewAll:"View All ({totalCount})",empty:"No colleagues in the list.",people:"{totalCount} people",person:"{totalCount} person"}})},
"sbt/smartcloud/controls/profiles/ProfilePanel":function(){define("../../../declare,../../../lang,../../../config,../../../smartcloud/ProfileService,../../../controls/panel/_ProfilePanel,../../../text!sbt/smartcloud/controls/profiles/templates/ProfilePanel.html".split(","),function(i,f,c,h,b,a){return i([b],{template:a,profileService:null,constructor:function(){},getMyProfile:function(){if(this.userid)this.getProfile(this.userid);else{var a=this;this._getEndpoint().request("/manage/oauth/getUserIdentity",
{handleAs:"json",preventCache:!0}).then(function(b){a.getProfile(b.subscriberid)},function(b){a._displayError(b)})}},getProfile:function(a){var b=this;this._getProfileService().getProfile(a).then(function(a){b.profile=a;b.showProfile()},function(a){b.profile=null;b._displayError(a)})},_getProfileService:function(){if(!this.profileService)this.profileService=new h(this._getEndpointName());return this.profileService},_getEndpoint:function(){return c.findEndpoint(this._getEndpointName())},_getEndpointName:function(){return this.endpoint||
"smartcloud"}})})},"sbt/smartcloud/ProfileService":function(){define("../declare,../lang,../config,../stringUtil,../Cache,./Subscriber,../Jsonpath,../base/BaseService,../base/JsonDataHandler,./ProfileConstants,../base/BaseEntity,../Promise".split(","),function(i,f,c,h,b,a,d,g,e,j,k,m){var n=i(k,{constructor:function(){},load:function(a){var b=this.getId(),c=this.service._validateProfileId(b);if(c)return c;c={};c.userid=b;f.mixin(c,a||{format:"json"});return this.service.getEntity(consts.GetProfile,
{handleAs:"json",query:c},b,{createEntity:function(a,b){return new e({data:b,jsonpath:j.ProfileJsonPath})}},a)},getId:function(){return this.getAsString("id")},getObjectId:function(){return this.getAsString("objectId")},getDisplayName:function(){return this.getAsString("displayName")},getEmail:function(){return this.getAsString("emailAddress")},getThumbnailUrl:function(){var a=this.getAsString("thumbnailUrl");a&&(a=this.service.endpoint.baseUrl+"/contacts/img/photos/"+a);return a},getAddress:function(){var a=
this.getAsArray("address");return a=this.dataHandler.extractFirstElement(a)},getDepartment:function(){return this.getAsString("department")},getJobTitle:function(){return this.getAsString("jobTitle")},getProfileUrl:function(){return this.getAsString("profileUrl")},getTelephoneNumber:function(){return this.getAsString("telephone")},getCountry:function(){return this.getAsString("country")},getOrgId:function(){return this.getAsString("orgId")},getOrg:function(){return this.getAsString("org")},getAbout:function(){return this.getAsString("about")}}),
p={createEntity:function(a,b){var c=new e({data:b,jsonpath:j.ProfileJsonPath});return new n({service:a,id:c.getEntityId(),dataHandler:c})}},o={createEntities:function(a,b){return new e({data:b,jsonpath:j.ProfileJsonPath})},createEntity:function(a,b){var c=new e({data:b,jsonpath:j.ProfileJsonPath});return new n({service:a,id:c.getEntityId(),dataHandler:c})}};return i(g,{_profiles:null,constructor:function(){if(!this.endpoint)this.endpoint=c.findEndpoint(this.getDefaultEndpointName());if(!this._cache&&
(c.Properties.ProfileCacheSize||j.DefaultCacheSize))this._cache=new b(c.Properties.ProfileCacheSize||j.DefaultCacheSize)},getDefaultEndpointName:function(){return"smartcloud"},getProfile:function(a,b){var c=this._toIdObject(a),d=this._validateIdObject(c);if(d)return d;f.mixin(c,b||{format:"json"});d={method:"GET",handleAs:"json",query:b||{format:"json"}};c=encodeURIComponent(c.userid);return this.getEntity(this.constructUrl(j.GetProfileByGUID,{},{idToBeReplaced:c}),d,c,this.getProfileCallbacks())},
getProfileByGUID:function(a,b){return this.getProfile(a,b)},getMyProfile:function(a){var b=this,c=j.GetUserIdentity,d=new m;this.endpoint.request(c,{handleAs:"json"}).then(function(c){var e=b._toIdObject(c.subscriberid);if(c=b._validateIdObject(e))return c;var c={method:"GET",handleAs:"json",query:f.mixin(e,a||{format:"json"})},e=encodeURIComponent(e.userid),g=b.constructUrl(j.GetProfileByGUID,{},{idToBeReplaced:e});b.getEntity(g,c,e,b.getProfileCallbacks()).then(function(a){d.fulfilled(a)},function(a){d.rejected(a)})},
function(a){d.rejected(a)});return d},getContact:function(a,b){var c=this._toIdObject(a),d=this._validateIdObject(c);if(d)return d;d={method:"GET",handleAs:"json",query:f.mixin(c,b||{format:"json"})};c=c.userid;return this.getEntity(this.constructUrl(j.GetContactByGUID,{},{idToBeReplaced:c}),d,c,this.getProfileCallbacks())},getContactByGUID:function(a,b){return this.getContact(a,b)},getMyConnections:function(a){return this.getEntities(j.GetMyConnections,{method:"GET",handleAs:"json",query:a||{format:"json"}},
this.getProfileFeedCallbacks())},getMyContacts:function(a){return this.getEntities(j.GetMyContacts,{method:"GET",handleAs:"json",query:a||{format:"json"}},this.getProfileFeedCallbacks())},getMyContactsByIndex:function(a,b,c){a={method:"GET",handleAs:"json",query:f.mixin({startIndex:a,count:b},c||{format:"json"})};return this.getEntities(j.GetMyContacts,a,this.getProfileFeedCallbacks())},getProfileCallbacks:function(){return p},getProfileFeedCallbacks:function(){return o},_toIdObject:function(a){var b=
{};if(f.isString(a))b.userid=a;else if(a instanceof n)b.userid=a.getUserid();return b},_validateIdObject:function(a){if(!a.userid)return this.createBadRequestPromise("Invalid argument, userid must be specified.")},_validateProfileId:function(a){if(!a||0==a.length)return this.createBadRequestPromise("Invalid argument, expected userid")}})})},"sbt/smartcloud/Subscriber":function(){define(["../declare","../Endpoint"],function(i){return i(null,{endpoint:null,constructor:function(f,c){this.endpoint=f;
c&&this.load(c)},load:function(f){var c=this;this.endpoint.xhrGet({serviceUrl:"/manage/oauth/getUserIdentity",loginUi:this.endpoint.loginUi,handleAs:"json",load:function(h){f(c,h)},error:function(){f(c,null);console.log("Error fetching feed for getUserIdentity")}})},getSubscriberId:function(f){return f&&f.subscriberid?f.subscriberid:null}})})},"sbt/Jsonpath":function(){define(["./declare"],function(){return function(i,f,c){var h={resultType:c&&c.resultType||"VALUE",result:[],normalize:function(a){var b=
[];return a.replace(/[\['](\??\(.*?\))[\]']/g,function(a,c){return"[#"+(b.push(c)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(a,c){return b[c]})},asPath:function(a){for(var a=a.split(";"),b="$",c=1,e=a.length;c<e;c++)b+=/^[0-9*]+$/.test(a[c])?"["+a[c]+"]":"['"+a[c]+"']";return b},store:function(a,b){a&&(h.result[h.result.length]="PATH"==h.resultType?h.asPath(a):b);return!!a},trace:function(a,b,c){if(a){var a=a.split(";"),e=
a.shift(),a=a.join(";");if(b&&b.hasOwnProperty(e))h.trace(a,b[e],c+";"+e);else if("*"===e)h.walk(e,a,b,c,function(a,b,c,d,e){h.trace(a+";"+c,d,e)});else if(".."===e)h.trace(a,b,c),h.walk(e,a,b,c,function(a,b,c,d,e){"object"===typeof d[a]&&h.trace("..;"+c,d[a],e+";"+a)});else if(/,/.test(e))for(var e=e.split(/'?,'?/),f=0,i=e.length;f<i;f++)h.trace(e[f]+";"+a,b,c);else/^\(.*?\)$/.test(e)?h.trace(h.eval(e,b,c.substr(c.lastIndexOf(";")+1))+";"+a,b,c):/^\?\(.*?\)$/.test(e)?h.walk(e,a,b,c,function(a,b,
c,d,e){h.eval(b.replace(/^\?\((.*?)\)$/,"$1"),d[a],a)&&h.trace(a+";"+c,d,e)}):/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(e)&&h.slice(e,a,b,c)}else h.store(c,b)},walk:function(a,b,c,e,f){if(c instanceof Array)for(var h=0,i=c.length;h<i;h++)h in c&&f(h,a,b,c,e);else if("object"===typeof c)for(h in c)c.hasOwnProperty(h)&&f(h,a,b,c,e)},slice:function(a,b,c,e){if(c instanceof Array){var f=c.length,i=0,m=f,n=1;a.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(a,b,c,d){i=parseInt(b||i);m=parseInt(c||
m);n=parseInt(d||n)});i=0>i?Math.max(0,i+f):Math.min(f,i);m=0>m?Math.max(0,m+f):Math.min(f,m);for(a=i;a<m;a+=n)h.trace(a+";"+b,c,e)}},eval:function(a,c){try{return b&&c&&eval(a.replace(/@/g,"_v"))}catch(f){throw new SyntaxError("jsonPath: "+f.message+": "+a.replace(/@/g,"_v").replace(/\^/g,"_a"));}}},b=i;if(f&&i&&("VALUE"==h.resultType||"PATH"==h.resultType))return h.trace(h.normalize(f).replace(/^\$;/,""),i,"$"),h.result.length?h.result:!1}})},"sbt/base/JsonDataHandler":function(){define("../declare,../lang,../json,./DataHandler,../Jsonpath,../stringUtil".split(","),
function(i,f,c,h,b,a){return i(h,{dataType:"json",jsonpath:null,_values:null,constructor:function(a){f.mixin(this,a);this._values={};this.data=a.data},getAsString:function(a){this._validateProperty(a,"getAsString");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._get(a).toString()),this._values[a]):_get(a)},getAsNumber:function(a){this._validateProperty(a,"getAsNumber");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._getNumber(a)),this._values[a]):
_getNumber(a)},getAsDate:function(a){this._validateProperty(a,"getAsDate");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._getDate(a)),this._values[a]):_getDate(a)},getAsBoolean:function(a){this._validateProperty(a,"getAsBoolean");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=this._getBoolean(a)),this._values[a]):_getBoolean(a)},getAsArray:function(a){this._validateProperty(a,"getAsArray");return this._values?(this._values.hasOwnProperty(a)||(this._values[a]=
this._get(a)),this._values[a]):_get(a)},getEntityId:function(){return a.trim(this.getAsString(this.jsonpath.id))},getEntityData:function(){return this.data},getSummary:function(){if(!this._summary&&this._get("totalResults")[0])this._summary={totalResults:this.getAsNumber("totalResults"),startIndex:this.getAsNumber("startIndex"),itemsPerPage:this.getAsNumber("itemsPerPage")};return this._summary},getEntitiesDataArray:function(){return this._get(this._getJPath("entry"))[0]},toJson:function(){return this.data},
_getDate:function(a){a=this._get(a)[0];return a instanceof Date?a:new Date(a)},_getBoolean:function(a){return this._get(a)[0]?!0:!1},_getNumber:function(a){a=this._get(a)[0];return"number"===typeof a?a:f.isArray(a)?a.length:Number(a)},_validateProperty:function(b,c){if(!b){var e=a.substitute("Invalid argument for JsonDataHandler.{1} {0}",[b,c]);throw Error(e);}},_validateObject:function(b){if(!b)throw b=a.substitute("Invalid argument for JsonDataHandler.{0}",[b]),Error(b);},_evalJson:function(a){return b(this.data,
a)},_evalJsonWithData:function(a,c){return b(c,a)},_get:function(a){this._validateObject(this.data);return this._evalJson(this._getJPath(a))},_getJPath:function(a){return this.jsonpath[a]||a},extractFirstElement:function(a){return this._evalJsonWithData("$[0]",a)}})})},"sbt/connections/controls/activities/nls/ActivityGridRenderer":function(){define({root:{updatedBy:"Updated by",modified:"Last Updated",dueDate:"Due Date",name:"Name",feed:"Feed for these Activities"}})},"sbt/connections/controls/bookmarks/nls/BookmarkGridRenderer":function(){define({root:{tags:"Tags: ",
date:"Date",popularity:"Popularity",feed:"Feed for these Bookmarks"}})},"sbt/connections/controls/communities/nls/CommunityGridRenderer":function(){define({root:{summary:"Public Communities",filterByTag:"Click to filter by tag",updatedBy:"Updated by ",person:"1 person",people:"{memberCount} people",tags:"Tags: ",date:"Date",popularity:"Popularity",name:"Name",ariaVcard:"Press Control And Enter For Business Card",feed:"Feed for these Communities",restricted:"Restricted"}})},"sbt/connections/controls/communities/nls/CommunityMembersGridRenderer":function(){define({root:{summary:"Profiles Grid",
updatedBy:"Updated by ",displayName:"Display Name",recent:"Recent",telephone:"Telephone:",email:"Email:",altEmail:"Alternate Email",clickToEmail:"Click here to email the user, using their alternate email address",ariaVcard:"Press control and enter for the business card",role:"Role",created:"Created",edit:"Edit",remove:"Remove",save:"Save",cancel:"Close",member:"Member",owner:"Owner"}})},"sbt/connections/controls/files/nls/FileGridRenderer":function(){define({root:{updatedBy:"Updated by",name:"Name",
updated:"Updated",downloads:"Downloads",comments:"Comments",likes:"Likes",noLikes:"No one likes this",oneLike:"1 person likes this",nLikes:"{recommendationCount} people like this",downloads:"Downloads",download:"Download",more:"More",created:"Created",pin:"Pin This Item",commented:"Commented",_delete:"Delete",edit:"Edit",files:"Files",ariaCheckbox:"checkbox",ariaVcard:"ariaCheckbox",feed:"Feed for these Files"}})},"sbt/connections/controls/forums/nls/ForumGridRenderer":function(){define({root:{forums:"Forums",
forum:"Forum",threads:"Topics",latestPost:"Latest Post",goToForum:"Go To The Forum",viewProfile:"View Profile",replies:"Replies",topics:"Topic",topic:"Topic",author:"Author",date:"Date",back:"Back",noResults:"There are no results",feed:"Feed for these Forums"}})},"sbt/connections/controls/profiles/nls/ColleagueGridRenderer":function(){define({root:{viewAll:"View All ({totalCount})",empty:"No colleagues in the list.",people:"{totalCount} people",person:"{totalCount} person"}})},"sbt/connections/controls/profiles/nls/ProfileGridRenderer":function(){define({root:{summary:"Profiles Grid",
updatedBy:"Updated by ",displayName:"Display Name",recent:"Recent",telephone:"Telephone:",email:"Email:",altEmail:"Alternate Email",clickToEmail:"Click here to email the user, using their alternate email address",ariaVcard:"Press control and enter for the business card",role:"Role",created:"Created",feed:"Feed for these Profiles"}})},"sbt/connections/controls/profiles/nls/ProfileTagsGridRenderer":function(){define({root:{taggedByPerson:"Tagged by 1 person:",taggedByPeople:"Tagged by {numberOfContributors} people:",
taggedByMe:"My tags for this profile:",taggedBy:"Tagged by {tagSource}:"}})},"sbt/connections/controls/search/nls/SearchBoxRenderer":function(){define({root:{selectedApplication:"All Connections",allConnections:"All Connections",statusUpdates:"Status Updates",activities:"Activities",blogs:"Blogs",bookmarks:"Bookmarks",communities:"Communities",files:"Files",forums:"Forums",profiles:"Profiles",wikis:"Wikis",refine:"Refine Search Results",search:"Search",allConnectionsIcon:"All Connections Icon",icon:"Icon"}})},
"sbt/connections/controls/search/nls/SearchGridRenderer":function(){define({root:{name:"Name",updated:"Updated",downloads:"Downloads",likes:"Likes",loading:"Loading...",previous:"Previous",previousPage:"Previous Page",next:"Next",nextPage:"Next Page",pagingResults:"${start} - ${count} of ${totalCount}",updatedBy:"Updated by",sortByRelevance:"Relevance",sortByDate:"Date",feed:"Feed for these search results",empty:"No results were found for that search",summary:"Search Results",emptyString:"",ltr:"ltr",
help:"Help",tags:"Tags:",tagsMore:"and {0} more",noDescription:"No description or summary for this result.",members:"members",people:"People",feed:"feed",commentOn:"Comment on: ",comments:"comments",comment:"Comment:",oneComment:"1 comment",entry:"Entry: ",topic:"Topic:",activities:"Activities",activitiesTitle:"Activities",activity:"Activity: ",activityComment:"Comment:",activityToDo:"To Do:",activityEntry:"Activity:",activityBookmark:"Bookmark:",activitySection:"Section:",fromAnActivity:"Activity",
blog:"Blog: ",blogs:"Blogs",blogEntry:"Blog: ",blogComment:"Comment:",idea:"Idea: ",ideaComment:"Comment: ",ideationBlog:"Ideation Blog: ",fromABlog:"Blog",fromAnIdeationBlog:"Ideation Blog",bookmarks:"Bookmarks",bookmark:"Bookmark: ",bookmarksTitle:"Bookmarks",calendar:"Calendar: ",calendars:"Calendars",eventIsAllDay:"All day",eventRepeats:"Repeats",eventDateOn:"On: ",communities:"Communities",community:"Community: ",communitiesTitle:"Communities",fromACommunity:"Community",file:"File: ",files:"Files",
forum:"Forum: ",forums:"Forums",forumTopic:"Topic:",forumCategory:"Category:",fromAForum:"Forum",profile:"Profile: ",profiles:"Profiles",inactiveLabel:"(inactive)",statusUpdate:"Status Update: ",statusUpdates:"Status updates",fromAStatusUpdate:"Status Update",wiki:"Wiki: ",wikis:"Wikis",wikiType:"Wiki: ",wikiFile:"File: ",wikiPage:"Page: ",fromAWiki:"Wiki"}})},"sbt/smartcloud/controls/profiles/nls/ProfileGridRenderer":function(){define({root:{summary:"Profiles Grid",updatedBy:"Updated by ",displayName:"Display Name",
recent:"Recent",telephone:"Telephone:",email:"Email:",altEmail:"Alternate Email",clickToEmail:"Click here to email the user, using their alternate email address",ariaVcard:"Press control and enter for the business card"}})}}});define([],1);