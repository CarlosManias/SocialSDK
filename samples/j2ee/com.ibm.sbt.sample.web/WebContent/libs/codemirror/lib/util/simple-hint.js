/*  (c) Copyright IBM Corp. 2010 - Licensed under the Apache License, Version 2.0 */

(function(){CodeMirror.simpleHint=function $DBb1_(_1,_2,_3){var _4={},_5=CodeMirror.simpleHint.defaults;for(var _6 in _5){if(_5.hasOwnProperty(_6)){_4[_6]=(_3&&_3.hasOwnProperty(_6)?_3:_5)[_6];}}function _7(_8){if(_1.somethingSelected()){return;}var _9=_1.getTokenAt(_1.getCursor());if(_4.closeOnTokenChange&&_8!=null&&(_9.start!=_8.start||_9.type!=_8.type)){return;}var _a=_2(_1,_3);if(!_a||!_a.list.length){return;}var _b=_a.list;function _c(_d){_1.replaceRange(_d,_a.from,_a.to);};if(_4.completeSingle&&_b.length==1){_c(_b[0]);return true;}var _e=document.createElement("div");_e.className="CodeMirror-completions";var _f=_e.appendChild(document.createElement("select"));if(!window.opera){_f.multiple=true;}for(var i=0;i<_b.length;++i){var opt=_f.appendChild(document.createElement("option"));opt.appendChild(document.createTextNode(_b[i]));}_f.firstChild.selected=true;_f.size=Math.min(10,_b.length);var pos=_1.cursorCoords(_4.alignWithWord?_a.from:null);_e.style.left=pos.left+"px";_e.style.top=pos.bottom+"px";document.body.appendChild(_e);var _10=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);if(_10-pos.left<_f.clientWidth){_e.style.left=(pos.left-_f.clientWidth)+"px";}if(_b.length<=10){_e.style.width=(_f.clientWidth-1)+"px";}var _11=false;function _12(){if(_11){return;}_11=true;_e.parentNode.removeChild(_e);};function _13(){_c(_b[_f.selectedIndex]);_12();setTimeout(function(){_1.focus();},50);};CodeMirror.on(_f,"blur",_12);CodeMirror.on(_f,"keydown",function(_14){var _15=_14.keyCode;if(_15==13){CodeMirror.e_stop(_14);_13();}else{if(_15==27){CodeMirror.e_stop(_14);_12();_1.focus();}else{if(_15!=38&&_15!=40&&_15!=33&&_15!=34&&!CodeMirror.isModifierKey(_14)){_12();_1.focus();_1.triggerOnKeyDown(_14);if(!_4.closeOnBackspace||_15!=8){setTimeout(function(){_7(_9);},50);}}}}});CodeMirror.on(_f,"dblclick",_13);_f.focus();if(window.opera){setTimeout(function(){if(!_11){_f.focus();}},100);}return true;};return _7();};CodeMirror.simpleHint.defaults={closeOnBackspace:true,closeOnTokenChange:false,completeSingle:true,alignWithWord:true};})();